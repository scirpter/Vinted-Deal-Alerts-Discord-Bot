(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,363161,e=>{"use strict";var t=e.i(549539),i=e.i(808338),r=e.i(135528),s=e.i(459831),a=e.i(739800),n=e.i(612022),l=e.i(850592),o=e.i(288978),c=e.i(387869),u=e.i(532564),d=e.i(113889),h=e.i(37998),m=e.i(257017),_=e.i(449155);e.s(["default",0,()=>{var e;let g=(0,u.useTranslate)("header.a11y.conversations"),{inboxMessageCards:p}=(0,d.useBrazeInboxMessageCards)(),{track:f}=(0,_.useTracking)(),v=(0,m.useInboxNavigator)(),x=function(){var e,t;let{data:i}=(e={queryKey:[o.conversationStats.queryKey],queryFn:o.conversationStats.get,select:e=>!e||"errors"in e?0:e.unread_msg_count},t=c.default,(0,l.useBaseQuery)(e,n.QueryObserver,t));return null!=i?i:0}()+(null!=(e=null==p?void 0:p.filter(e=>!e.viewed).length)?e:0),S=p?Math.min(x,99):0,b=x>99?"+":"";return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.Button,{testId:"header-conversations-button",styling:"flat",aria:{"aria-label":x?g("new_conversations",{count:x}):g("conversations")},iconName:i.Envelope24,icon:(0,t.jsx)(a.Icon,{name:i.Envelope24,color:"greyscale-level-2"}),url:v.createUrl(),onClick:()=>{v.createNavigationStartMark().store(),f((0,h.inboxButtonClickEvent)({isUnread:x>0}))}}),!!S&&(0,t.jsx)("div",{className:"user-actions__notification u-no-pointer-events","data-testid":"conversations-badge",children:(0,t.jsx)(r.Badge,{content:(0,t.jsx)("span",{"aria-hidden":"true",children:`${S}${b}`}),theme:"warning"})})]})}],363161)},434921,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"BailoutToCSR",{enumerable:!0,get:function(){return s}});let r=e.r(529845);function s(e){let{reason:t,children:i}=e;if("undefined"==typeof window)throw Object.defineProperty(new r.BailoutToCSRError(t),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return i}},595669,(e,t,i)=>{"use strict";function r(e){return e.split("/").map(e=>encodeURIComponent(e)).join("/")}Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"encodeURIPath",{enumerable:!0,get:function(){return r}})},528688,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"PreloadChunks",{enumerable:!0,get:function(){return l}});let r=e.r(549539),s=e.r(317706),a=e.r(443554),n=e.r(595669);function l(e){let{moduleIds:t}=e;if("undefined"!=typeof window)return null;let i=a.workAsyncStorage.getStore();if(void 0===i)return null;let l=[];if(i.reactLoadableManifest&&t){let e=i.reactLoadableManifest;for(let i of t){if(!e[i])continue;let t=e[i].files;l.push(...t)}}return 0===l.length?null:(0,r.jsx)(r.Fragment,{children:l.map(e=>{let t=`${i.assetPrefix}/_next/${(0,n.encodeURIPath)(e)}`;return e.endsWith(".css")?(0,r.jsx)("link",{precedence:"dynamic",href:t,rel:"stylesheet",as:"style",nonce:i.nonce},e):((0,s.preload)(t,{as:"script",fetchPriority:"low",nonce:i.nonce}),null)})})}},665305,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"default",{enumerable:!0,get:function(){return c}});let r=e.r(549539),s=e.r(197262),a=e.r(434921),n=e.r(528688);function l(e){return{default:e&&"default"in e?e.default:e}}let o={loader:()=>Promise.resolve(l(()=>null)),loading:null,ssr:!0},c=function(e){let t={...o,...e},i=(0,s.lazy)(()=>t.loader().then(l)),c=t.loading;function u(e){let l=c?(0,r.jsx)(c,{isLoading:!0,pastDelay:!0,error:null}):null,o=!t.ssr||!!t.loading,u=o?s.Suspense:s.Fragment,d=t.ssr?(0,r.jsxs)(r.Fragment,{children:["undefined"==typeof window?(0,r.jsx)(n.PreloadChunks,{moduleIds:t.modules}):null,(0,r.jsx)(i,{...e})]}):(0,r.jsx)(a.BailoutToCSR,{reason:"next/dynamic",children:(0,r.jsx)(i,{...e})});return(0,r.jsx)(u,{...o?{fallback:l}:{},children:d})}return u.displayName="LoadableComponent",u}},158180,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"default",{enumerable:!0,get:function(){return s}});let r=e.r(481258)._(e.r(665305));function s(e,t){var i;let s={};"function"==typeof e&&(s.loader=e);let a={...s,...t};return(0,r.default)({...a,modules:null==(i=a.loadableGenerated)?void 0:i.modules})}("function"==typeof i.default||"object"==typeof i.default&&null!==i.default)&&void 0===i.default.__esModule&&(Object.defineProperty(i.default,"__esModule",{value:!0}),Object.assign(i.default,i),t.exports=i.default)},868382,(e,t,i)=>{t.exports=e.r(409167)({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"})},215556,(e,t,i)=>{var r=e.r(868382),s=e.r(470887),a=/[&<>"']/g,n=RegExp(a.source);t.exports=function(e){return(e=s(e))&&n.test(e)?e.replace(a,r):e}},210560,(e,t,i)=>{var r=e.r(470887),s=/[\\^$.*+?()[\]{}|]/g,a=RegExp(s.source);t.exports=function(e){return(e=r(e))&&a.test(e)?e.replace(s,"\\$&"):e}},744952,e=>{"use strict";let t;var i=e.i(549539),r=e.i(145764),s=e.i(102103),a=e.i(589582),n=e.i(739800),l=e.i(975687),o=e.i(709634),c=e.i(241334),u=e.i(149813),d=e.i(676138),h=e.i(197262),m=e.i(394050),_=e.i(45719),g=e.i(790797),p=e.i(126928),f=e.i(449155),v=e.i(532564),x=e.i(569144),S=e.i(273854),b=e.i(23683),j=e.i(272821),y=e.i(374048),E=e.i(83768),T=e.i(664253),R=e.i(968014),I=e.i(955311),w=e.i(103124),A=e.i(376235),C=e.i(445826),L=e.i(569139),k=e.i(676840),N=e.i(459831),O=e.i(86187),U=e.i(193778),P=e.i(528024),D=e.i(924348),M=e.i(782414),B=e.i(869419),F=e.i(331013),W=e.i(996128),z=e.i(519476),H=e.i(42357),V=e.i(501533),G=e.i(534312);let $=e=>{var t,i,r,s;let{search_text:a}=e,n=["is_for_sell"].filter(t=>e[t]).map(e=>`search_${e}`),l={search_text:a,catalog:(0,H.default)([e.catalog_id]),disposal:(0,H.default)(n),price_from:null==(t=e.price_from)?void 0:t.amount,price_to:null==(i=e.price_to)?void 0:i.amount,currency:(null==(r=e.price_from)?void 0:r.currency_code)||(null==(s=e.price_to)?void 0:s.currency_code),...(0,V.getSelectedDynamicFiltersDtoParams)(e.selected_filters)};return(0,G.filterEmptyValues)(l)},J=e=>{let{searchUrl:t,highlightedIndex:r,onSearchClick:s,onSubscribeClick:a,savedRecentSearchSessionId:l,seenRecentSearches:o,savedRecentSearchListId:c}=e,u=(0,v.useTranslate)("saved_searches"),{user:d}=(0,x.useSession)(),{track:m}=(0,f.useTracking)(),[_,g]=(0,h.useState)({}),p=(e,t)=>g(i=>({...i,[e]:t})),{searches:S,actions:b}=(0,z.useSavedSearchesContext)(),j=(0,h.useRef)(null);return(0,h.useEffect)(()=>{var e;null==(e=j.current)||e.scrollIntoView({behavior:"smooth",block:"nearest"})},[r]),(0,i.jsx)("div",{className:"saved-searches",children:(0,i.jsx)(O.Cell,{styling:"tight",testId:"saved-searches",children:(0,i.jsx)("div",{className:"saved-searches__content",children:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(U.Label,{text:u("list.title"),type:"stacked"}),(0,i.jsx)(P.Spacer,{})]}),S.map((e,h)=>(0,i.jsx)(F.InView,{onChange:t=>{if(!t||o.current.has(e.id))return;o.current.add(e.id);let{searchSessionId:i,globalSearchSessionId:r}=(0,R.getSearchSessionData)();m((0,A.viewSavedSearchEvent)({savedRecentSearchListId:c.current,savedRecentSearchSessionId:l.current,screen:"search_items",position:h+1,newItemsCount:e.new_items_count,searchTitle:e.title,unrestrictedNewItemsCount:e.unrestricted_new_items_count,searchSessionId:i,globalSearchSessionId:r,type:e.subscribed?w.SavedSearchType.SubscribedSearch:w.SavedSearchType.RecentSearch}))},children:(e=>{let{search:o,index:h}=e,{id:g,title:f,subtitle:v,new_items_count:x}=o,S={...$(o),search_id:g,order:W.SortByOption.NewestFirst},E=`${t}?${(0,y.toUrlQuery)(S)}`,T=h===r;return(0,i.jsx)("div",{ref:T?j:null,children:(0,i.jsx)(O.Cell,{type:"navigating",title:(0,i.jsxs)("div",{className:"u-flexbox",children:[!!x&&(0,i.jsx)("div",{className:"u-ui-padding-right-small u-no-wrap",children:(0,i.jsx)(D.Text,{as:"span",text:`+${x}`,theme:"primary"})}),(0,i.jsx)("span",{className:"u-ellipsis u-flex-1",children:f})]}),suffix:(0,i.jsx)("div",{className:"u-position-relative u-zindex-bump",children:(0,i.jsx)(N.Button,{icon:(0,i.jsx)(n.Icon,{name:o.subscribed?B.BookmarkFilled24:M.Bookmark24,color:o.subscribed?"primary-default":"greyscale-level-3"}),styling:"flat",theme:"muted",testId:"subscription-toggle",onClick:e=>{let{searchSessionId:t,globalSearchSessionId:i}=(0,R.getSearchSessionData)();d&&(p(o.id,!0),b.toggleSearchSubscription(o.id,d.id).finally(()=>p(o.id,!1))),e.stopPropagation(),e.preventDefault(),m((0,A.toggleSearchSubscriptionEvent)({savedRecentSearchSessionId:l.current,savedRecentSearchListId:c.current,screen:"search_items",position:h+1,searchSessionId:t||"",isSubscribing:!o.subscribed,searchTitle:o.title,searchQuery:o.search_text,globalSearchSessionId:i})),a&&a(h,o,e)},isLoading:_[o.id],aria:{"aria-label":o.subscribed?u("a11y.remove_saved_search",{title:o.title}):u("a11y.save_search",{title:o.title})}})}),highlighted:T,url:E,onClick:e=>{s&&s(h,o,e)},aria:{"aria-label":o.title},children:!!v&&(0,i.jsx)(D.Text,{as:"span",text:v,truncate:!0})})})})({search:e,index:h})},e.id))]})})})})};var K=e.i(901188),K=K,Y=e.i(485627),q=e.i(823287),Z=e.i(777667);let Q=e=>{let{title:t,titleId:i,...r}=e;return h.createElement("svg",{fill:"none",viewBox:"0 0 16 16",width:16,height:16,"aria-labelledby":i,...r},t?h.createElement("title",{id:i},t):null,h.createElement("g",{clipPath:"url(#AiCamera16__Other / ai-camera-16__a)"},h.createElement("path",{fill:"currentColor",d:"M8.75 1.004a.75.75 0 0 1 0 1.5H7.07a1.25 1.25 0 0 0-1.04.557c-.255.383-.494.943-1.03.943H2.75c-.69 0-1.25.56-1.25 1.25v7c0 .69.56 1.25 1.25 1.25h10.5c.69 0 1.25-.56 1.25-1.25v-5.5a.75.75 0 0 1 1.5 0v5.5a2.75 2.75 0 0 1-2.75 2.75H2.75A2.75 2.75 0 0 1 0 12.254v-7a2.75 2.75 0 0 1 2.75-2.75h1.849l.183-.275A2.75 2.75 0 0 1 7.07 1.004zm-.749 4a3.5 3.5 0 1 1 0 7 3.5 3.5 0 0 1 0-7m0 1.5a2 2 0 1 0 0 4 2 2 0 0 0 0-4m5.012-6c.15 0 .312.088.375.263l.2.537c.187.512.587.912 1.1 1.112l.55.213a.4.4 0 0 1 0 .75l-.55.213c-.513.2-.913.6-1.1 1.112l-.2.537a.4.4 0 0 1-.388.263.4.4 0 0 1-.388-.263l-.2-.537a1.9 1.9 0 0 0-1.1-1.112l-.55-.213a.4.4 0 0 1 0-.75l.55-.213c.513-.2.913-.6 1.1-1.112l.2-.537a.43.43 0 0 1 .4-.263Z"})))};Q.Size=16,Q.Title="AiCamera";let X=e=>{let{title:t,titleId:i,...r}=e;return h.createElement("svg",{fill:"none",viewBox:"0 0 96 96",width:96,height:96,"aria-labelledby":i,...r},t?h.createElement("title",{id:i},t):null,h.createElement("path",{fill:"#007782",d:"M68.202 31.636c.34.03.69.07 1.03.1.5.05.98.08 1.43.1 1.06.13 2.09.22 2.86.35 1.85.31 3.27.53 4.67.73 1.77.26 3.55 1.47 4.18 3.71.13.54.14 1.02.1 1.43-.01.2-.05.39-.08.56-.03.14-.06.27-.08.39-.17 1.11-.08 1.93-.61 3.51l-.11 2.7c-.44 1.73-.73 4.11-1.06 6.03-.06.36-.22.72-.28 1.16-.08.53 0 1.04-.12 1.93-.16 1.2-.39 1.66-.49 2.28-.12.78-.04 1.62-.13 2.36-.27 2.16-.68 4.39-1.08 6.33-.48 2.31-.54 5.29-.85 7.41-.02.17-.06.33-.09.49-.01.07-.03.15-.03.23-.07.54-.52 2.37-.67 3.45-.16 1.15-.28 3.72-.56 4.96-.1.49-.53 1.33-1 1.9-.46.58-.9.96-.61 1.07-.48.37-1.01.66-1.57.85-1.05.63-1.91.64-2.55.57-.37-.04-.53-.1-.78-.16-.24-.06-.49-.11-.78-.16-1.01-.16-2.53-.2-3.83-.51l-.75.07c-1.46-.5-1.72-.36-3.13-.51-.78-.07-2.5-.23-2.64-.24-.71-.09-2.69-.66-4.16-.62-.94-.54-2.41-.59-3.99-.72-1.67-.25-2.11-.4-3.5-.73-.06-.01-.12 0-.26-.06-.02 0-.14-.037-.15-.04l-.36-.09c-.16-.05-.33-.11-.49-.16-.06-.02-.27-.1-.39-.15-.01-.02-.03-.02-.03-.02-.28-.13-.51-.25-.75-.38l-.14-.11c-.07-.07-.13-.13-.19-.2-.01-.01-.02-.03-.04-.05a.3.3 0 0 1-.03-.1c0-.06.01-.11.03-.16.17-.1.13-.11.07-.08.06-.04.14-.07.22-.11.11-.03.23-.05.35-.08.26-.02.36-.03.38-.03.14-.01.27-.03.41-.03.24.01.48.02.73.02h.16c.25.01.56.04.74.04.54.04 1.08.09 1.63.13l.5.06.41.03 1.01.14c.41.05.81.08 1.2.1l1.44.23.51.05c3.05.33 5.27.8 7.49.92l.39.29c1.08.02 2.28.1 3.53.26 1.59.22 3.24.46 4.91.7l.31.04.23.02c.15.01.31.02.46 0 .31-.03.62-.11.9-.24.58-.25 1.05-.7 1.34-1.22.14-.28.2-.51.22-.74.03-.11.01-.23.03-.35.01-.15.03-.35.06-.54h.23c.11-1.42.43-1.72.4-3.19l.51-1.96-.13-.21.25-.59.08-1.47h.01v-.27c.01-.66-.1-1.63.04-2.16l.13-.14c.01-1.03.4-2.2.48-2.81.06-.43-.12-1.01.07-1.91l.28.21v-1.04c.21-2.27.53-3.66.9-5.78.17-.94.2-1.73.53-2.92l-.12-.81c.5-1.71.59-2.48.81-4.53l.19-.23-.12-1.78c.45-1.48.48-3.18.8-4.59.13-.6.23-.53.28-.78.13-.72.23-3.2.62-5.3.06-.33.1-.44.13-.67.02-.21.03-.44-.06-.73-.1-.38-.47-.94-1.02-1.29-.27-.17-.58-.29-.87-.36-.15-.05-.27-.05-.45-.08-.2-.03-.39-.05-.57-.08l-1.1-.33a38 38 0 0 1-4.96-.65c-.31-.08-.63-.15-.98-.22-.31-.07-.63-.13-.95-.19h-.04l-.12-.02c-.31-.11-.66-.22-1.09-.33-.34-.09-.65-.17-.98-.26-.02-.01-.03-.01-.06-.03-.11-.05-.22-.1-.34-.16h.03c-.22-.19-.41-.38-.61-.57l.22-.4.03-.03c.02-.02.04-.04.06-.05.12-.08.28-.15.47-.21l.46-.16c.01 0 .047-.018.05-.02.08-.01.17-.03.25-.05.21.01.45.03.69.04"}),h.createElement("path",{fill:"#007782",d:"M47.282 20.046c.04.01.04.01.11.01.21.01.44.03.67.05l-.03.02c.47.12.87.25 1.3.37l-.25.45-.04.04c-.02.02-.06.04-.09.06-.18.12-.45.23-.76.35-.26.1-.52.19-.77.29l-.09.04h-.02c-.13.04-.29.09-.43.13-.38.06-.83.12-1.26.18-.64.07-1.28.15-1.9.22h-.01q-1.38.15-2.61.33c-1.95.19-3.84.42-5.28.53-6.88.52-10.57.9-17.08 1.45-1.23.07-1.93.57-2.34 1.1-.46.63-.59 1.31-.52 2.05.1 1 .17 2.12.14 3.64l.68 4.91c.08 3.27.49 7.66.73 11.25.04.66-.01 1.37.06 2.19.08.99.31 1.88.45 3.52.18 2.22.09 3.13.18 4.29.11 1.45.43 2.94.56 4.31.37 4 .62 8.16.79 11.8.03.54.06 1.1.1 1.67.03.47.14.87.36 1.25.43.76 1.25 1.3 2.1 1.39.21.03.43.02.64 0 .29-.03.57-.07.85-.1.58-.07 1.16-.14 1.72-.21 1.12-.13 2.2-.25 3.18-.34l.91-.06c.14-.01.28-.03.43-.04.99-.1 4.46-.22 6.45-.41 2.1-.2 6.9-.87 9.05-.98 1.38-.07 5.17.06 4.73-.44l2.51-.07c3.35-.62 4.25-.41 6.44-.57.47-.05 1-.1 1.56-.15.26-.04.6-.06.83-.1.2-.03.41-.08.6-.16.79-.29 1.45-.99 1.75-1.78.04-.32.02-.63-.05-.92.1-2.69-.12-3.2-.36-5.77-.14-1.43-.46-4.587-.49-4.85-.11-1.31-.1-5.08-.55-7.73.27-1.89-.09-4.56-.4-7.46-.22-3.11-.2-3.95-.26-6.57-.01-.11-.03-.22-.01-.49v-.97c0-.31.02-.64.02-.94.01-.12.03-.52.04-.76v-.07c.04-.56.1-1.01.16-1.49.03-.1.05-.2.07-.29.05-.16.09-.3.14-.42.01-.02.02-.05.04-.09a.4.4 0 0 1 .09-.08c.05-.02.1-.02.16 0 .109.204.132.217.118.179.043.087.093.187.142.3.06.21.11.4.17.62.09.448.13.64.13.67.05.24.09.48.14.73.06.44.12.87.19 1.33l.04.291c.06.47.13 1.04.17 1.36.1.98.21 1.98.32 2.99l.08.93.08.76.15 1.88c.07.75.15 1.49.24 2.2l.17 2.69.09.93c.53 5.63.68 9.8 1.18 13.85l-.17.79c.14.98.28 2.02.4 3.1l.18 1.66.04.43c.02.18.02.36.02.54-.02.36-.06.73-.15 1.09-.44 1.85-2.01 3.41-3.94 3.78-.23.05-.51.08-.7.1l-.57.05-1.15.09c-.77.07-1.54.13-2.31.19-3.09.25-6.19.51-9.2.83-1.56.17-2.36.37-3.9.5l-.06-.23c-2.62.33-3.27.11-5.9.59l-3.71.11-.33.18-1.14-.06-2.67.37-.49.07c-1.19.19-2.89.59-3.9.62l-.3-.08c-.95.16-1.92.23-2.94.27-1.24.05-2.28-.42-2.9-.79-.44-.25-.96-.56-1.48-1.11-.5-.54-1.03-1.36-1.17-2.49.12.12.25.23.38.33-.22-.85-.25-1.37-.37-2.02-.46-4.17-.55-6.79-.81-10.74-.12-1.76-.32-3.2-.34-5.46l-.35-1.42c-.01-3.27-.15-4.7-.53-8.47l.12-.49-.64-3.17c.02-2.83-.45-5.91-.55-8.56-.05-1.12.07-1.03.04-1.5-.04-.67-.22-2.13-.41-3.92-.05-.44-.1-.91-.15-1.39-.02-.24-.05-.48-.07-.73-.02-.27-.05-.44-.06-.81-.06-1.33.44-2.7 1.32-3.67.56-.61 1.14-.97 1.79-1.25.32-.14.68-.24 1.08-.32.19-.05.41-.06.63-.09.18-.01.37-.02.57-.04 2.04-.17 6.62-.79 9.24-.99l2.1-.02c3.28-.43 5.95-.68 9.17-.88.58-.02 1.19-.05 1.84-.08.59-.04 1.18-.08 1.78-.11h.02l.06-.02h.23c.6.01 1.26.01 2.08-.02.64-.02 1.24-.03 1.86-.05m19.8 18.13c.6-.63 1.62-.34 2.39-.34 1.82.17 3.81.41 5.22 1.73 0 .11-.01.21-.02.32 2.35 1.64.89 4.78 1.05 7.06l-.23-.02c.01.61-.27.71-.12 1.35l-.34.8.14.1-.19.23c-.04.5.26 1.23.2 1.67l-.12.05c-.08.92-.26 1.11-.14 2l-.29-.11c.22 1.48-.27 2.66-.58 4.09l.19.36c-.35.7-.38 1.02-.42 1.89l-.17.08.27.78c-.66 1.8-.41 3.22-1.05 5.25-.21 1.98.04 5.01-2.33 5.85-.47.11-1.19.24-1.64-.06l-.01.01c-.13-.16-.21-.34-.29-.51.08-.4.35-.77.54-1.11 1.79-1.13 1.04-4.93 2-6.85-.22-1.35.25-2.83.6-4.15.01-2.85.94-5.84.97-8.75.35-.93.38-2.55.49-3.61.1-.3.67-1.08.13-1.07l.23-.54c-.18-1.05.39-1.46.04-2.47-.07-.05-.16-.09-.23-.13.26-.58-1.57-1.74-2.18-1.56-.77-.74-2.36-.3-3.25-1.01-.51-.19-1.13-.9-.86-1.33"}),h.createElement("path",{fill:"#007782",d:"M52.522 25.706c1.11-.01 2.26.47 3.1 1.22.84.76 1.39 1.75 1.68 2.69.28 1.04.38.98.17 2.05.1.43.31 1.61.36 2.05.04.36-.05.63-.03.88.01.14.11.29.13.43.05.48-.21.93-.17 1.39l.3.66-.05 3.17.24.73.05 1.63.19 1.46-.12.25c.03.65.29 1 .37 1.55.12.92.03 2.36.14 3.39.04.34.16.53.22.88.22 1.39-.09 1.26-.04 1.82.11 1.16.39 2.69.51 4.04.05.52-.08.7.19.89-.08.89-.11 1.22-.15 2.53q-.24.345-.51.63a5 5 0 0 1-.71 1.56l-.35.15c-.42.47-1.07.92-1.78 1.17-.71.28-1.49.32-1.89.37-.5.07-.56.28-1.26.1l-.32.26-.92-.07-.35.25-.74.09-.28-.22c-3.467-.315-6.664 1.029-9.91.77-1.02.32-1.33.22-2.24.29-.39.03-.8.16-1.08.16-.19 0-.39-.08-.5-.07-.13.02-1.24.57-1.78.16-1.186.513-3.228.363-4.52.48-.57.05-1.13.26-1.53.28-.37.02-.68-.1-.95-.09-.87.036-2.31.282-2.83-.66-1.18-.54-2.22-1.49-2.22-2.48-.36-.34-.58-1.257-.58-1.26 0-.007-.02-.451-.02-.64q0-.3-.03-.63c-.07-.68-.48-1.76-.37-2.75l.1-.1c-.19-.59-.03-1.31-.07-1.67-.03-.25-.32-.55-.3-1.09l.11-.52c-.23-1.32-.18-2.15-.23-3.41-.02-.56-.14-1.01-.04-1.74l-.27-.44c.16-1.05.1-1.5-.08-2.69l.14-.16-.46-.98c.17-.91-.13-1.87-.09-2.72.01-.36.12-.34.12-.49-.01-.42-.38-1.84-.41-3.09-.01-.4.09-.65.06-1.15-.05-.66-.38-2.1-.42-2.93l.12-.74c-.15-1.35.27-2.55 1.18-3.53.19-.15.37-.32.59-.48.18-.15.4-.28.6-.41l.01-.02h.02l.08-.04c.25-.08.51-.15.81-.24.25-.06.48-.11.72-.12a.1.1 0 0 0 .05.01l.27.05.044.03c.54.39.232.929-.024 1.39-.01 0-.02.03-.02.03l-.08.11c-.08.05-.18.1-.27.16-.13.08-.27.16-.38.26-.18.12-.32.29-.43.45-.33.32-.5.72-.64 1.01-.35.73-.28 1.23-.2 2.15.06.83.13 1.64.21 2.67.04.5-.05.87-.03 1.15.05.65.3 1.1.08 2.08l.41 1.54c-.1 1.05.07 2.44.12 3.58 0 .21-.08.44-.06.7.03.31.21.59.26 1.11.07.7-.08 1-.05 1.37.03.46.27.93.32 1.36.16 1.27.18 2.59.16 3.75-.03 1.38.48 3.07.59 4.32.04.44-.06.87-.05 1.25.01.28.03.6.04.96.02.36.04.77.07 1.01.09.56.36 1.07.64 1.36.58.68 1.153.772 1.87 1.13.3.05.37-.15.73-.22.36-.06 2.17-.19 2.23 0 .31-.11.78-.11 1.08-.17.446-.089 1.353.046 1.16-.26 1.61-.02 3.16-.35 4.72-.52.8-.09 2-.18 2.79-.22.82-.03.84-.19 1.55.13l1.3-.32c.98.16 2.64-.2 3.63-.28.28-.02.48.05.67.05 1.29-.06 3.9-.61 5.13-.59l.29.13.65-.29.48.19.31-.26c.91.19 1.19-.1 1.54-.23.1-.04.43-.13.73-.32.299-.18.56-.43.61-.51.11-.14.07-.45.16-.63.04-.1.21-.19.27-.41.08-.27.09-.37.09-.47.02-.11.04-.18.05-.53 0-.33-.54-1.42-.08-2.02-.22-1.31-.41-2.68-.43-4.03l-.15-.09-.04-.44.14-.16a7.2 7.2 0 0 1-.02-2.01l-.29-.65-.02-.53.18-.4-.29-1.67c-.05-3.051-.532-5.992-.83-8.91-.02-.54-.03-1.49-.09-1.99-.05-.4-.16-.7-.2-1.01-.17-1.35.01-2.16-.04-3.3-.02-.27-.24-.56-.37-.79-.36-.66-.89-1.4-1.67-1.45-.201-.309-1.083-.307-1.43-.25-.99.13-1.68.22-2.56.33-.32.05-1.43-.04-2.06.03-.66.07-2.17.46-2.86.44-1.002-.023-1.44.166-2.31.08-1.04.42-1.34.16-2.04.19-.6.03-1.47.27-2.25.2-.64.312-1.522.171-2.26.27-.45.07-1.449.23-1.53.24-1.908.233-4.073.13-5.993-.03-.04 0-.07.02-.16-.01-.011 0-.09-.01-.09-.01l-.22-.03-.3-.07c-.04-.02-.17-.06-.25-.08h-.02c-.18-.08-.33-.16-.49-.24l-.1-.08c-.05-.05-.1-.11-.14-.16a.2.2 0 0 1-.03-.05c-.01-.03-.03-.08-.03-.09-.01-.05-.01-.11-.01-.16.076-.124.034-.093.03-.09.03-.05.07-.1.11-.15l.19-.14c.139-.06.21-.1.21-.1l.23-.1.42-.12.09-.02c.345-.092.619-.143.963-.2l.6-.05c.23-.03.47-.07.69-.12l.85-.03.3-.04c2.268-.306 4.477-.437 6.7-.65 1.87-.17 3.91-.22 5.81-.49 1.093-.175 2.059.138 3.13-.28l1.19.11.46-.03 1.31-.32c1.123 0 2.203-.27 3.27-.31"}),h.createElement("path",{fill:"#007782",d:"M38.442 35.267c.19.02.39.019.6.019h.68c.2.05.41.08.68.1.21.02.41.03.61.05l.04.02.22.09h.01c.16.15.3.29.45.44l-.06.44v.03c-.01.02-.03.04-.03.06-.06.1-.13.2-.23.3l-.23.25c-.01 0-.029.027-.03.03l-.13.1c-.12.03-.26.06-.4.1l-.61.11c-.29.05-.57.12-.83.19-.63.08-1.23.2-1.7.23-.48.03-.9.06-1.3.09-.24.02-.46.04-.68.06-.14.02-.21.21-.12.34.07.14.17.35.28.57.22.46.28.84.41 1.09l.12.21c.04.07.13.22.18.33a1.927 1.927 0 0 1-.71 2.5l-.08.09c-.31.39-.53.74-.71 1.13-.33.28-.61.7-.76 1.14-.15.45-.17.86-.1 1.31.03.21-.02.45.03.7.07.31.28.55.41 1.05.18.67.1.98.19 1.33.12.43.45.82.61 1.21.45 1.17.92 2.37 1.34 3.45.06.16.13.33.2.48.01.03.04.09.08.11.17.126.587-.056.79-.09.2-.03.39-.07.58-.1.38-.06.74-.11 1.07-.14h.3l.14-.02c.32-.04 1.45.06 2.09 0 .34-.03.89-.13 1.45-.23.948-.145.906-.845 1.25-1.49 0-1.11.33-1.28.52-1.93.16-.56.16-1.42.39-2.15l-.11-.44c.39-.82.24-.98.25-1.79 0-.22-.02-.59-.02-.89-.02-.2-.07-.35-.07-.38-.02-.12.01-.38-.09-.69-.09-.3-.31-.65-.62-.81 0-.31-.18-.58-.45-.8-.14-.1-.29-.2-.46-.29l-.13-.06-.27-.16c-.17-.12-.33-.26-.47-.42-.65-.9-.56-1.63-.32-2.23.09-.21.12-.23.19-.37.07-.11.14-.24.22-.39.02-.03.02-.07.08-.14.01-.01.05-.08.05-.08l.11-.2.19-.26c.03-.03.12-.14.17-.2l.02-.02c.15-.14.28-.25.42-.36l.12-.06c.07-.03.13-.05.2-.07.01-.01.03-.01.05-.01h.1c.05.01.15.05.15.05.087.125.071.074.07.07.04.05.07.1.1.16l.05.23v.48c-.02.15-.04.29-.07.44v.09c-.02.15-.06.34-.08.44-.06.23-.11.47-.17.71v.15c.01.02.02.05.03.07.01.06.04.11.08.16.02.02.087.059.09.06h.03l.04.02.18.09c.27.19.53.4.77.63l.27.22c.8.69 1.35 1.55 1.62 2.45.14.45.21.9.22 1.34.01.45 0 .72.03 1.08l-.25.24c.08.66.1 1.41 0 2.18-.13.98-.35 2-.63 3.01-.29 1.03-.61 1.94-.85 2.94v.03c-.11.42-.27.73-.47 1.01-.969 1.245-7.812 1.5-9.34 1.16-.22-.04-.5-.06-.82-.2a1.72 1.72 0 0 1-.92-.88c.12.01.24 0 .35-.01-.19-.19-.326-.441-.5-.65-.68-1.13-.99-2.01-1.41-3.28-.19-.57-.43-1.01-.5-1.78l-.36-.4c-.05-1.13-.18-1.58-.51-2.8l.12-.18c-.2-.36-.38-.86-.46-1.34.33-1.24.76-2.46 1.5-3.2.31-.3.38-.19.5-.32.13-.14.36-.39.68-.73.01-.05 0-.11-.02-.15-.05-.09.04.11-.2-.41-.16-.37-.17-.65-.39-1.11-.04-.07-.09-.16-.14-.26-.09-.15-.18-.33-.3-.54-.3-.52-.45-1.27-.19-1.97.24-.69.85-1.22 1.4-1.39.21-.05.42-.06.64-.06.209.01.469.01.54.03 1.05-.24 1.91-.34 2.95-.36Zm21.89-23.851c-.09-1.33 2.11-2.33 3.32-1.17.92.77.7 2.03 1.26 2.93l-.1.34c1.55 2.25 3.02 3.74 5.92 4.52.87.28 1.71.79 1.8 1.81h.02c.05.86 0 1.53-.76 2.03l-.24-.13c-1.38.64-2.61.93-4 1.61v.2c-.14.04-.29.07-.42.12-.47.45-.75 1.07-1.24 1.5-.53.16-1.34 1.84-1.22 2.38-.09.78-.57 2.4-1.53 2.71-.94.41-2.27.05-2.63-.91-.24-.51-.56-1.34-.68-1.85-.4-1.35-1.06-1.55-1.72-2.92-.69-.61-1.98-1.29-2.69-1.76-1.99-.29-5.1-2.43-2.71-4.36.34-.15.99-.37 1.34-.52.8-.19 1.73-.32 2.29-.98l-.08-.21c.5-.26.96-.59 1.39-.96l.17.14c.37-.39.72-.82 1-1.28.1-.05.18-.1.27-.15.6-1.14.55-1.96 1.02-3.15zm1.84 1.5c-.04.32-.07.64-.14.96l-.28.09-.01-.01c-.37.79-.43 1.16-.59 1.69-1.63 1.61-3.48 3.95-5.85 4.1-.16.12-.22.25-.03.34-.09.02-.05.06.03.04.01.09.19.14.26.16 2.4.6 4.2 2.26 5.23 4.15.49.71 1.25 1.61 1.37 2.54 0 .09.14.1.1-.07.04.08.08.14.12.19-.05-.17-.05-.15 0-.2 1.12-3.32 3.37-5.32 6.69-6.72.02-.04.01-.05.07-.05.31.1.68-.45-.05-.09.04-.03.04-.06.04-.09-.69.07-1.5-.59-2.14-.98-.97-.42-2.06-1.61-3.01-2.4-.66-1.5-1.33-2.07-1.81-3.65"}),h.createElement("path",{fill:"#EDFFE9",d:"M52.055 20.738c.565 1.067 2.169 1.913 3.367 2.088.71.47 2 1.15 2.69 1.76.66 1.37 1.32 1.57 1.72 2.92.12.51.44 1.34.68 1.85.202.538.71.888 1.283 1.019l.26 3.306-.023.025c-.02.04-.03.07-.04.09-.05.12-.09.26-.14.42-.02.09-.04.19-.07.29-.06.48-.12.93-.16 1.49v.07c-.01.24-.03.64-.04.76 0 .3-.02.63-.02.94v.97c-.02.27 0 .38.01.49.06 2.62.04 3.46.26 6.57.31 2.9.67 5.57.4 7.46.45 2.65.44 6.42.55 7.73.03.263.35 3.42.49 4.85.081.876.161 1.513.226 2.078l-36.286 3.152c-1.11.1-2.09-.73-2.18-1.85l-.352-4.439q.234.136.481.25c.52.94 1.962.695 2.83.66.27-.01.58.11.95.09.4-.02.961-.231 1.53-.281 1.293-.117 3.335.033 4.52-.48.54.41 1.65-.14 1.78-.16.11-.01.31.07.5.07.28 0 .69-.13 1.08-.16.91-.07 1.221.03 2.241-.29 3.246.259 6.443-1.085 9.91-.77l.28.22.74-.09.35-.25.92.07.32-.26c.7.18.76-.03 1.26-.1.4-.05 1.18-.09 1.89-.37.71-.25 1.36-.7 1.78-1.17l.35-.15c.33-.49.57-1.01.71-1.56q.27-.285.51-.63c.04-1.31.07-1.64.15-2.53-.27-.19-.14-.37-.19-.89-.12-1.35-.4-2.88-.51-4.04-.05-.56.26-.43.04-1.82-.06-.35-.18-.54-.22-.88-.11-1.03-.02-2.47-.14-3.39-.08-.55-.34-.9-.37-1.55l.12-.25-.19-1.46-.05-1.63-.24-.73.05-3.17-.3-.66c-.04-.46.22-.91.17-1.39-.02-.14-.12-.29-.13-.43-.02-.25.07-.52.03-.88-.05-.44-.26-1.62-.36-2.05.21-1.07.11-1.01-.17-2.05-.29-.94-.84-1.93-1.68-2.69-.84-.75-1.99-1.23-3.1-1.22-1.067.04-2.147.31-3.27.31l-1.31.32-.46.03-1.19-.11c-1.071.418-2.037.105-3.13.28-1.9.27-3.94.32-5.81.49-2.223.213-4.432.344-6.7.65l-.3.04-.85.03c-.22.05-.46.09-.69.12l-.6.05a10 10 0 0 0-.963.2l-.09.02-.42.12-.23.1s-.071.04-.21.1l-.19.14c-.04.05-.08.1-.11.15.005-.004.046-.033-.03.09 0 .05 0 .11.01.16 0 .01.02.06.03.09.01.02.02.04.03.05.04.05.09.11.14.16l.1.08c.16.08.31.16.49.24h.02c.08.02.21.06.25.08l.3.07.22.03c.002 0 .079.01.09.01.09.03.12.01.16.01 1.92.16 4.085.263 5.993.03.082-.01 1.08-.17 1.53-.24.738-.099 1.62.042 2.26-.27.78.07 1.65-.17 2.25-.2.7-.03 1 .23 2.04-.19.87.086 1.308-.103 2.31-.08.69.02 2.2-.37 2.86-.44.63-.07 1.74.02 2.06-.03.88-.11 1.57-.2 2.56-.33.347-.057 1.229-.059 1.43.25.78.05 1.31.79 1.67 1.45.13.23.35.52.37.79.05 1.14-.13 1.95.04 3.3.04.31.15.61.2 1.01.06.5.07 1.45.09 1.99.298 2.918.78 5.859.83 8.91l.29 1.67-.18.4.02.53.29.65c-.08.7-.09 1.2.02 2.01l-.14.16.04.44.15.09c.02 1.35.21 2.72.43 4.03-.46.6.08 1.69.08 2.02-.01.35-.03.42-.05.53 0 .1-.01.2-.09.47-.06.22-.23.31-.27.41-.09.18-.05.49-.16.63-.05.08-.311.33-.61.51-.3.19-.63.28-.73.32-.35.13-.63.42-1.54.23l-.31.26-.48-.19-.65.29-.29-.13c-1.23-.02-3.84.53-5.13.59-.19 0-.39-.07-.67-.05-.99.08-2.65.44-3.63.28l-1.3.32c-.71-.32-.73-.16-1.55-.13-.79.04-1.99.13-2.79.22-1.56.17-3.11.5-4.72.52.193.306-.713.171-1.16.26-.3.06-.77.06-1.08.17-.06-.19-1.87-.06-2.23 0-.36.07-.43.27-.73.22-.717-.359-1.29-.45-1.87-1.13-.28-.29-.55-.8-.64-1.36-.03-.24-.05-.65-.07-1.01-.01-.36-.03-.68-.04-.96-.01-.38.09-.81.05-1.25-.11-1.25-.62-2.94-.59-4.32.02-1.16 0-2.48-.16-3.75-.05-.43-.29-.9-.32-1.36-.03-.37.12-.67.05-1.37-.05-.52-.23-.8-.26-1.11-.02-.26.06-.49.06-.7-.05-1.14-.22-2.53-.12-3.58l-.41-1.54c.22-.98-.03-1.43-.08-2.08-.02-.28.07-.65.03-1.15-.08-1.03-.15-1.84-.21-2.67-.08-.92-.15-1.42.2-2.15.14-.29.31-.69.64-1.01.11-.16.25-.33.43-.45.11-.1.25-.18.38-.26.09-.06.19-.11.27-.16l.08-.11c0-.002.01-.03.02-.03.256-.461.565-1 .024-1.39l-.044-.03-.27-.05a.14.14 0 0 1-.05-.01c-.24.01-.47.06-.72.12-.3.09-.56.16-.81.24l-.08.04h-.02l-.01.02c-.2.13-.42.26-.6.41q-.054.04-.105.082l-.401-5.091c4.937-.43 8.482-.769 14.335-1.211 1.44-.11 3.33-.34 5.28-.53q1.23-.18 2.611-.33h.01c.62-.07 1.26-.15 1.9-.22.43-.06.88-.12 1.26-.18.14-.04.3-.09.43-.13h.02l.09-.04c.25-.1.51-.19.77-.29.31-.12.58-.23.76-.35l.066-.045zM34.148 35.785l-.227.048c-.424.25-.825.685-1.009 1.213-.26.7-.11 1.45.19 1.97.12.21.21.39.3.54.05.1.1.19.14.26.22.46.23.74.39 1.11.065.141.325.614.351.67l-.658.455-.153.165c-.12.13-.19.02-.5.32-.74.74-1.17 1.96-1.5 3.2.08.48.26.98.46 1.34l-.12.18c.33 1.22.46 1.67.51 2.8l.36.4c.07.77.31 1.21.5 1.78.42 1.27.73 2.15 1.41 3.28.174.209.31.46.5.65-.11.01-.23.02-.35.01.23.49.6.75.92.88.32.14.6.16.82.2 1.529.34 8.371.084 9.34-1.16.2-.28.36-.59.47-1.01v-.03c.24-1 .56-1.91.85-2.94.28-1.01.5-2.03.63-3.01.1-.77.08-1.52 0-2.18l.25-.24c-.03-.36-.02-.63-.03-1.08a4.9 4.9 0 0 0-.22-1.34c-.27-.9-.82-1.76-1.62-2.45l-.27-.22c-.24-.23-.5-.44-.77-.63l-.18-.09-.04-.02h-.03a1 1 0 0 1-.09-.06.35.35 0 0 1-.08-.16c-.01-.02-.02-.05-.03-.07v-.15c.06-.24.11-.48.17-.71.02-.1.06-.29.08-.44v-.09c.03-.15.05-.29.07-.44v-.48l-.05-.23a1 1 0 0 0-.1-.16c.002.004.017.055-.07-.07 0 0-.1-.04-.15-.05h-.1c-.02 0-.04 0-.05.01-.07.02-.13.04-.2.07l-.12.06c-.14.11-.27.22-.42.36l-.02.02c-.05.06-.14.17-.17.2l-.19.26-.11.2s-.04.069-.05.08c-.06.07-.06.11-.08.14-.08.15-.15.28-.22.39-.07.14-.1.16-.19.37-.24.6-.33 1.33.32 2.23.14.16.3.3.47.42l.27.16.13.06c.17.09.32.19.46.29.27.22.45.49.45.8.31.16.53.51.62.81.1.31.07.57.09.69 0 .03.05.18.07.38 0 .3.02.67.02.89-.01.81.14.97-.25 1.79l.11.44c-.23.73-.23 1.59-.39 2.15-.19.65-.52.82-.52 1.93-.344.645-.302 1.344-1.25 1.49-.56.1-1.11.2-1.45.23-.64.06-1.77-.04-2.09 0l-.14.02h-.3c-.33.03-.69.08-1.07.14-.19.03-.38.07-.58.1-.203.033-.62.216-.79.09-.038-.019.104.1.093.07l2.897-.47c.08-.6.19-1.18.31-1.81.34-1.78.76-3.97.71-8.11-.01-.97-.32-1.82-.74-2.53-.824-1.365-1.678-2.91-1.605-4.477.209-.032.425-.066.645-.093.26-.07.54-.14.83-.19l.61-.11c.14-.04.28-.07.4-.1l.13-.1c.002-.003.02-.03.03-.03l.23-.25c.1-.1.17-.2.23-.3 0-.02.02-.04.03-.06v-.03l.06-.44c-.15-.15-.29-.29-.45-.44h-.01l-.22-.09-.04-.02c-.2-.02-.4-.03-.61-.05-.27-.02-.48-.05-.68-.1h-.68l-.06-.001h-.139z"}))};X.Size=96,X.Title="AiImage";var ee=e.i(206435),et=e.i(17091),ei=e.i(65963),er=e.i(536925),es=e.i(153427),ea=e.i(763506);let en=(0,e.i(158180).default)(()=>e.A(357481),{loadableGenerated:{modules:[777224]},ssr:!1,loading:()=>(0,i.jsx)("div",{className:"image-cropper image-cropper-height--loading","data-testid":"image-cropper-container",children:(0,i.jsx)("div",{className:"image-cropper__loader-overlay",children:(0,i.jsx)(ei.Loader,{testId:"image-crop-loader"})})})}),el=e=>(0,i.jsx)(en,{...e});var eo=e.i(189647),ec=e.i(150245);let eu=(t="search_by_image_interacted_count",{increment(){let e=this.get();(0,ec.setLocalStorageItem)(t,String(e+1))},get:()=>Number((0,ec.getLocalStorageItem)(t)||"0")||0}),ed=e=>{let{children:t}=e,r=(0,v.useTranslate)("searchbar.search_by_image.modal"),[s,a]=(0,h.useState)(!1);(0,h.useEffect)(()=>{a(0===eu.get())},[]),(0,h.useEffect)(()=>{let e=setTimeout(()=>{a(!1),eu.increment()},6e3);return()=>{clearTimeout(e)}},[]);let n=()=>{eu.increment(),a(!1)};return s?(0,i.jsx)(eo.Tooltip,{content:r("tooltip"),show:s,hover:!1,shouldAutoUpdate:!0,placement:"bottom-end",children:(0,i.jsx)("div",{role:"none",onClick:n,children:t})}):(0,i.jsx)("div",{role:"none",onClick:n,children:t})};var eh=e.i(113799);let em=()=>{let e=(0,v.useTranslate)("searchbar.search_by_image.modal"),t=(0,v.useTranslate)("searchbar.search_by_image.crop_modal"),r=(0,v.useTranslate)("common.a11y"),{track:s}=(0,f.useTracking)(),[a,l]=(0,h.useState)(!1),[o,c]=(0,h.useState)(!1),[u,d]=(0,h.useState)(!1),[m,_]=(0,h.useState)(""),[p,x]=(0,h.useState)(!1),S=(0,C.useAbTest)("image_search_crop"),b=(null==S?void 0:S.variant)==="on",j=u&&!!m&&b,E=(0,h.useRef)(null),T=(0,ea.useBreakpoint)(),{urlParams:R}=(0,g.useBrowserNavigation)(),I=R.search_by_image_uuid,w=(0,h.useRef)("");(0,h.useEffect)(()=>{if(!w.current){w.current=I?String(I):"";return}I||(s((0,A.clickEvent)({target:"cancel",screen:"catalog"})),w.current="")},[I,s]);let L=()=>{m&&URL.revokeObjectURL(m),_("")},k=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"cancel";"cancel"===e&&s((0,A.clickEvent)({target:"cancel",screen:j?"search_by_image_crop":"search_by_image_camera"})),L(),l(!1),d(!1),x(!1)},U=async e=>{let t=e[0];if(!t)return;c(!0);let i=await (0,eh.uploadImage)(t);if(!i)return void c(!1);if(b){_(URL.createObjectURL(t)),d(!0),c(!1);return}window.location.href=(0,y.urlWithParams)("/catalog",{search_by_image_uuid:i})},P=async e=>{c(!0);let t=new File([e],"search-by-image-crop.jpg",{type:e.type||"image/jpeg"}),i=await (0,eh.uploadImage)(t);c(!1),i&&(k("success"),window.location.href=(0,y.urlWithParams)("/catalog",{search_by_image_uuid:i}))},M=e=>{e.target.files&&U(Array.from(e.target.files))},B=()=>{var e;s((0,A.clickEvent)({target:"open_photo_gallery",screen:"search_by_image_camera"})),null==(e=E.current)||e.click()};(0,er.useEventListener)("paste",async e=>{var t;if(!a)return;let i=null==(t=e.clipboardData)?void 0:t.items;if(i)for(let e of Array.from(i)){let t=e.getAsFile();if(t&&t.type.startsWith("image"))return void await U([t])}});let F=()=>(0,i.jsx)("div",{className:"search-by-image-empty-state",children:(0,i.jsx)(et.EmptyState,{image:(0,i.jsx)(X,{}),body:(0,i.jsxs)("div",{className:"u-gap-medium u-flexbox u-flex-direction-column u-align-items-center u-justify-content-center",children:[(0,i.jsx)(N.Button,{isLoading:o,text:e("upload"),inline:!0,onClick:B,styling:"filled"}),(0,i.jsx)(D.Text,{type:"body",as:"p",text:e("body")}),(0,i.jsx)("input",{className:"u-hidden",ref:E,type:"file",accept:"image/jpeg,image/png,image/webp",onChange:M})]})})}),W=()=>(0,i.jsxs)("div",{className:"u-position-relative",children:[(0,i.jsx)("div",{className:"u-visibility-hidden",children:F()}),(0,i.jsx)("div",{className:"u-position-absolute u-fill-height u-fill-width u-top search-by-image-modal-loading-bg",children:(0,i.jsx)(et.EmptyState,{animation:(0,i.jsx)(ei.Loader,{size:"x-large"}),body:(0,i.jsx)(D.Text,{type:"body",as:"p",text:e("dropzone_uploading")})})})]});return T.desktops?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"u-flexbox u-justify-content-center u-align-items-center u-fill-height",children:(0,i.jsx)(ed,{children:(0,i.jsx)(N.Button,{title:e("title"),testId:"search-by-image-button",onClick:()=>{s((0,A.clickEvent)({target:"search_by_image"})),l(!0)},size:"small",styling:"flat",icon:(0,i.jsx)(n.Icon,{name:Q})})})}),(0,i.jsxs)(ee.Dialog,{show:a,closeOnOverlay:!0,defaultCallback:()=>{k("cancel")},contentDimensions:{width:"680px"},children:[(0,i.jsx)(O.Cell,{body:(0,i.jsx)("div",{className:` u-flexbox u-justify-content-center u-align-items-center ${j?"u-padding-right-x-large":"u-margin-left-x-large"}`,children:(0,i.jsx)(D.Text,{as:"h3",text:j?t("title"):e("title"),type:"section-heading"})}),prefix:j?(0,i.jsx)(N.Button,{onClick:()=>{s((0,A.clickEvent)({target:"close_screen",screen:"search_by_image_crop"})),L(),d(!1)},title:r("actions.dialog_close"),styling:"flat",size:"small",iconName:Z.ArrowLeft24,inline:!0,theme:"amplified",disabled:p||o}):"",suffix:j?"":(0,i.jsx)(N.Button,{onClick:()=>k("cancel"),title:r("actions.dialog_close"),styling:"flat",size:"small",iconName:q.X24,inline:!0,theme:"amplified"})}),(0,i.jsx)("div",{className:"image-search-modal-container",children:j?(0,i.jsx)("div",{className:"image-crop-modal-crop-enter",children:o?(0,i.jsx)("div",{className:"dropzone dropzone-border-background-color-primary ",children:W()}):(0,i.jsx)(el,{imageUrl:m,isLoading:o,onConfirm:P,onAnimatingChange:x})}):(0,i.jsx)(es.Dropzone,{overlayDescription:e("dropzone_hovering"),onDrop:e=>(s((0,A.clickEvent)({target:"take_photo",screen:"search_by_image_camera"})),U(e)),background:"primary",children:o?W():F()})})]})]}):null};var e_=e.i(815690);let eg=e=>{let{title:t,titleId:i,...r}=e;return h.createElement("svg",{fill:"none",viewBox:"0 0 24 24",width:24,height:24,"aria-labelledby":i,...r},t?h.createElement("title",{id:i},t):null,h.createElement("path",{fill:"currentColor",d:"M6.057 6.463A.8.8 0 0 0 6 6.75v10.5a.75.75 0 0 0 1.5 0V8.56l9 8.94a.75.75 0 0 0 1.06-1.06l-9-8.94h8.69a.75.75 0 0 0 0-1.5H6.75a.75.75 0 0 0-.693.463"}))};eg.Size=24,eg.Title="ArrowTopLeft";var ep=e.i(614208),ef=e.i(215556),ev=e.i(210560),ex=e.i(14305),eS=e.i(480138);let eb=e=>{let{query:t,items:r,highlightedIndex:s,suggestionUrl:a,suggestionsListId:l,suggestionsSessionId:o,seenSuggestions:c,onClearSuggestions:u,onSuggestionClick:d=ex.default,onMobileAutofill:m}=e,{track:g}=(0,f.useTracking)(),p=(0,ea.useBreakpoint)(),v=(0,h.useRef)(null),x=(0,h.useRef)(r);x.current=r;let S=(0,h.useRef)(t);S.current=t,(0,h.useEffect)(()=>{var e;let t=x.current[null!=(e=v.current)?e:-1];if(null===s&&t&&!t.frontendGeneratedTitle){let{searchSessionId:e,globalSearchSessionId:i}=(0,R.getSearchSessionData)();g((0,A.clickSearchSuggestionAutofillEvent)({query:S.current,suggestionText:t.title||"",searchSessionId:e,suggestionsListId:l.current,suggestionPosition:v.current+1,suggestionsSessionId:o.current,globalSearchSessionId:i}))}v.current=s},[s,l,o,g]);let b=(0,_.useLatestCallback)(u);(0,h.useEffect)(()=>b,[b]);let j=e=>`${e.title}${e.frontendGeneratedTitle||""}${e.type}`;return r.length?(0,i.jsx)(O.Cell,{styling:"tight",children:(0,i.jsx)(eS.List,{children:r.map((e,r)=>{let u;return(0,i.jsx)(F.InView,{onChange:t=>{if(!t||c.current.has(e.title))return;c.current.add(e.title);let{searchSessionId:i,globalSearchSessionId:s}=(0,R.getSearchSessionData)(),a={frontendGeneratedTextSelected:!!e.frontendGeneratedTitle,globalSearchSessionId:s,query:e.title,searchSessionId:i||null,selectedSuggestionText:e.title,suggestionPosition:r+1,suggestionsListId:l.current,suggestionsSessionId:o.current};"params"in e&&(a.params=e.params),g((0,A.viewSearchSuggestionEvent)(a))},children:(u=r===s,(0,i.jsx)("div",{className:u?"search-suggestions--hovered":void 0,"data-testid":"search-suggestion-bg",children:((e,r)=>{var s;let c,u=p.phones&&!e.frontendGeneratedTitle,_={type:"navigating",url:a(e),theme:"transparent",testId:`suggestion-${e.title}`,suffix:u&&(0,i.jsx)(N.Button,{testId:"autofill-button",styling:"flat",theme:"muted",icon:(0,i.jsx)(n.Icon,{name:eg}),onClick:i=>((e,i,r)=>{e.preventDefault(),e.stopPropagation(),m(i);let{searchSessionId:s,globalSearchSessionId:a}=(0,R.getSearchSessionData)();g((0,A.clickSearchSuggestionAutofillEvent)({query:t,suggestionText:i.title,searchSessionId:s,suggestionsListId:l.current,suggestionPosition:r+1,suggestionsSessionId:o.current,globalSearchSessionId:a}))})(i,e,r),size:"small"}),prefix:!!e.type&&(0,i.jsx)("div",{className:"u-fill-height u-fill-width u-flexbox u-justify-content-center u-align-items-center",children:(e=>{switch(e){case"saved_search":case"recent_search":return(0,i.jsx)(n.Icon,{name:e_.ArrowClock24,color:"greyscale-level-1",testId:"icon-arrow-clock"});case"suggestion":return(0,i.jsx)(n.Icon,{name:ep.Search24,color:"greyscale-level-1",testId:"icon-search"});default:return null}})(e.type)}),onClick:t=>{d(e,r,t)}};return e.frontendGeneratedTitle?(0,h.createElement)(O.Cell,{..._,key:j(e),title:e.frontendGeneratedTitle}):(0,h.createElement)(O.Cell,{..._,key:j(e)},(0,i.jsx)(D.Text,{as:"span",theme:"amplified",text:(s=e.title,c=(0,ef.default)(t),(0,ef.default)(s).replace(RegExp(`^${(0,ev.default)(c)}`,"i"),"<b>$&</b>")),html:!0,highlight:!0,highlightTheme:"muted"}))})(e,r)},j(e)))},j(e))})})}):null};var ej=e.i(307723),ey=e.i(436464);let eE=e=>e;var eT=e.i(786830);let eR=e=>{let{query:t}=e;return eT.api.get("/search_suggestions",{params:{query:t}})};var eI=e.i(177478);let ew=[I.SearchBarSearchType.Item,I.SearchBarSearchType.User],eA=e=>{let{isOpen:t=!1,selectedType:r=I.SearchBarSearchType.Item,onClick:a,onSelect:l}=e,o=(0,v.useTranslate)("searchbar"),c=ew.find(e=>e===r);return c?(0,i.jsxs)("div",{className:"u-position-relative",children:[(0,i.jsx)(N.Button,{text:(0,i.jsx)("span",{id:`search-${c}`,children:o(`types.${c}`)}),styling:"flat",size:"medium",theme:"muted",icon:(0,i.jsx)(n.Icon,{name:eI.Dropdown16,color:"greyscale-level-2"}),iconPosition:"right",onClick:a,testId:"search-bar-search-type",aria:{"aria-expanded":t}}),t?(0,i.jsx)("div",{className:"u-ui-margin-top-regular u-position-absolute",style:{width:150},children:(0,i.jsx)(s.Card,{children:(0,i.jsx)("div",{className:"u-overflow-hidden",children:ew.map(e=>(0,i.jsx)(O.Cell,{type:"navigating",styling:"narrow",onClick:()=>{l(e)},testId:`search-bar-search-type-${e}`,children:o(`types.${e}`)},e))})})}):null]}):null};var eC=e.i(581232);let eL=function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return t.length===i.length||e.forEach(e=>{t.includes(e.id)&&i.push(e),eL(e.catalogs,t,i)}),i},ek={[I.SearchBarSearchType.Item]:"/catalog",[I.SearchBarSearchType.User]:"/member/general/search"},eN=e=>(0,u.default)(e)||e.length<1;e.s(["default",0,e=>{let{isInCatalog:t=!1,catalogTree:N}=e,O=(0,h.useRef)(null),{searchParams:U,relativeUrl:P}=(0,g.useBrowserNavigation)(),D=(0,v.useTranslate)(),{track:M}=(0,f.useTracking)(),B=(0,L.useTrackAbTestCallback)(),{user:F}=(0,x.useSession)(),W=(0,h.useContext)(E.BrazeContext).userExternalId.value,H=(0,S.useSystemConfiguration)(),V=null==F?void 0:F.id,G=null==F?void 0:F.country_code,q=null==H?void 0:H.userCountry,{showSearchSubscriptionEducation:Z,closeSearchSubscriptionEducation:Q,isSubscribedModalOpen:X}=(0,Y.default)(),{searches:ee,actions:et}=(0,z.useSavedSearchesContext)(),ei=(0,h.useRef)(""),er=(e=>{let t=(0,g.useBrowserNavigation)().searchParams,{relativeUrl:i}=(0,g.useBrowserNavigation)(),{catalog:r}=(0,eC.getCatalogInitializersParamsFromUrl)(i,t),s=(Array.isArray(r=t.catalog||r)?r:[r]).filter(e=>!!e).map(e=>Number(e));return(0,h.useMemo)(()=>eL(e,s)||[],[e,s])})(N),es=(0,k.usePageId)(),ea=(null==es?void 0:es.startsWith("help"))?"":(0,y.normalizedQueryParam)(U.search_text),[en,el]=(0,h.useState)(ea),[eo,ec]=(0,h.useState)(P.startsWith("/member/general/search")?I.SearchBarSearchType.User:I.SearchBarSearchType.Item),[eu,ed]=(0,h.useState)(!1),[eh,e_]=(0,h.useState)(!1),[eg,ep]=(0,h.useState)(""),[ef,ev]=(0,h.useState)(null),{fetchSuggestions:ex,clearSuggestions:eS,suggestionsListId:eT,suggestions:eI}=function(e){let t=(0,v.useTranslate)(),i=(0,h.useRef)(null),[r,s]=(0,h.useState)([]),[a,n]=(0,h.useState)(!1),{data:l,fetch:o}=(0,ej.useFetch)(eR);(0,h.useEffect)(()=>{l&&s(l.search_suggestions.map(eE))},[l]);let c=(0,ey.useDebounce)(async e=>{await o({query:e}),i.current=(0,m.v4)(),n(!0)},100,!1);return{suggestionsListId:i,clearSuggestions:()=>{s([]),n(!1),i.current=null},fetchSuggestions:c,suggestions:(0,h.useMemo)(()=>{if(!a)return[];let i=t("search_suggestions.suggestion_fallback",{query:e});return[...r,{title:e,frontendGeneratedTitle:i}]},[a,e,r,t])}}(en),ew=(0,h.useRef)(null),eO=(0,h.useRef)(!1),eU=(0,h.useRef)((0,m.v4)()),eP=(0,h.useRef)((0,m.v4)()),eD=(0,h.useRef)(new Set),eM=(0,h.useRef)(new Set),eB=(0,h.useRef)(new Set);(0,h.useEffect)(()=>{eu||(eU.current=(0,m.v4)(),eP.current=(0,m.v4)(),eD.current.clear(),eM.current.clear(),ei.current=(0,m.v4)())},[eu]);let eF=(0,h.useRef)(null),eW=e=>{!(eo!==I.SearchBarSearchType.Item||(0,u.default)(e))&&(eN(e)||ex(e))},ez=()=>{var e;return null==(e=ew.current)?void 0:e.blur()},eH=()=>e_(e=>!e),eV=e=>{let{item:i}=ek;if(!t)return`${i}?search_text=${encodeURIComponent(e.title)}`},eG=(0,_.useLatestCallback)(e=>{ev(null),ep(""),(0,u.default)((0,d.default)(e))||eW(e),el(e)});(0,h.useEffect)(()=>{eG(ea)},[eG,ea]);let e$=()=>el(""),eJ=()=>{ed(!1),eH(),M((0,A.clickEvent)({target:"search_bar_type"}))},eK=e=>{var t;eH(),null==(t=ew.current)||t.focus(),eo!==e&&ec(e)},eY=()=>{!X&&(eh||eu)&&(e_(!1),ed(!1))},eq=()=>{!eO.current&&V&&(et.fetchSearches(V),eO.current=!0),eN(en)||eu||eW(en),e_(!1),ed(!0)},eZ=()=>M((0,A.clickEvent)({target:"search_bar"})),eQ=(e,t)=>{if(V&&!t.subscribed){var i;Z(),(0,T.logSavedCategoryEvent)(t.catalog_id,W,N,null==(i=t.brands)?void 0:i.map(e=>e.id))}},eX=(e,i)=>{let{searchSessionId:r,globalSearchSessionId:s}=(0,R.getSearchSessionData)(),a={suggestions:eI.map(e=>e.title),suggestion:e.title,query:en,index:i,countryCode:G||q,searchSessionId:r||"",globalSearchSessionId:s,suggestionsSessionId:eU.current,isFrontendGeneratedSuggestion:!!e.frontendGeneratedTitle};if("params"in e&&(a.params=e.params),a.suggestionPosition=i+1,a.suggestionsListId=eT.current,M((0,A.selectSearchSuggestionEvent)(a)),(0,R.setSearchStartData)({searchStartId:eU.current,searchStartType:w.SearchStartType.SearchSuggestions}),t){let t=(0,y.urlWithParams)(window.location.href,{search_text:e.title});window.history.pushState(null,"",t)}el(e.title),ed(!1)},e0=(e,t)=>{let{searchSessionId:i,globalSearchSessionId:r}=(0,R.getSearchSessionData)(),s=t.subscribed?w.SavedSearchType.SubscribedSearch:w.SavedSearchType.RecentSearch,a=t.subscribed?w.SearchStartType.SubscribedSearch:w.SearchStartType.RecentSearch;(0,R.setSearchStartData)({searchStartId:eP.current,searchStartType:a}),eB.current.has(t.id)||(eB.current.add(t.id),M((0,A.selectSavedSearchEvent)({savedRecentSearchListId:ei.current,savedRecentSearchSessionId:eP.current,screen:"search_items",position:e+1,searchSessionId:i||"",type:s,searchTitle:t.title,globalSearchSessionId:r,newItemsCount:t.new_items_count,unrestrictedNewItemsCount:t.unrestricted_new_items_count})))},e1=(0,C.useAbTest)("web_search_scroll_top"),e2=e=>{var t;eF.current=e,ep(""),el(e.title),eW(e.title),null==(t=ew.current)||t.focus()},e3=(0,c.useFloating)({isFloaterVisible:eu,shouldAutoUpdate:!0,strategy:"fixed",middleware:[(0,o.offset)({mainAxis:8})]}),e5=ee.length,e4=e=>{let t=ee[e],i={...$(t),search_id:t.id},r=`${ek[I.SearchBarSearchType.Item]}?${(0,y.toUrlQuery)(i)}`;e0(e,t),(0,p.redirectToPage)(r),ez()};return eN(en)||(e5=eI.length,e4=e=>{let t=eI[e],i=eV(t);eX(t,e);let{globalSearchSessionId:r,searchSessionId:s}=(0,R.getSearchSessionData)();M((0,A.clickSearchSuggestionAutofillEvent)({query:en,suggestionsSessionId:eU.current,suggestionText:t.title,suggestionsListId:eT.current,suggestionPosition:e+1,searchSessionId:s,globalSearchSessionId:r})),M((0,A.searchSuggestionAutofillTextSubmittedEvent)({query:en,suggestionsSessionId:eU.current,suggestionsListId:eT.current,suggestionText:t.title,params:"params"in t&&t.params||null})),i&&(0,p.redirectToPage)(i),ez()}),(0,i.jsx)("div",{ref:O,onBlurCapture:e=>{var t;let i=e.relatedTarget;!i||(null==(t=O.current)?void 0:t.contains(i))||eY()},children:(0,i.jsx)(j.OutsideClick,{onOutsideClick:eY,children:(0,i.jsxs)("form",{onSubmit:e=>{var i;if(eo===I.SearchBarSearchType.Item){if(t&&(e.preventDefault(),(null==e1?void 0:e1.variant)==="on"&&window.scroll({top:0,behavior:"smooth"}),B(e1),window.history.pushState(null,"",(0,y.urlWithParams)(window.location.href,{search_text:en}))),(null==(i=eF.current)?void 0:i.title)===en){let e=eF.current;M((0,A.searchSuggestionAutofillTextSubmittedEvent)({query:en,suggestionsSessionId:eU.current,suggestionsListId:eT.current,suggestionText:e.title,params:"params"in e&&(null==e?void 0:e.params)||null}))}(0,R.setSearchStartData)({searchStartId:eU.current,searchStartType:w.SearchStartType.SearchManual}),ez(),ed(!1)}},method:"get",action:ek[eo],ref:e3.triggerRef,children:[(0,i.jsx)(b.ListNavigator,{highlightedResultIndex:ef,setHighlightedResultIndex:ev,itemCount:e5,onSelect:e4,onHighlightedResultChange:e=>{null===e?ep(""):eN(en)?ep(ee[e].search_text||""):ep(eI[e].title)},resetOnUnknownKey:!1,children:e=>{let o,{handleKeyNavigation:c}=e;return(0,i.jsxs)("div",{className:"u-position-relative",children:[(0,i.jsx)(l.InputBar,{suffix:!(eg||en)&&(0,i.jsx)(em,{}),maxLength:5e3,inputAria:{"aria-labelledby":`search-${eo}`},clearButtonAria:{"aria-label":D("searchbar.button.clear")},name:"search_text",placeholder:(o=t&&er.length,eo===I.SearchBarSearchType.Item&&o?D(`searchbar.placeholder.${eo}_with_catalog_selected`,{catalog:er.map(e=>e.title).join(", ")}):D(`searchbar.placeholder.${eo}`)),value:eg||en,icon:(0,i.jsx)("div",{className:"u-flexbox u-align-items-center",children:(0,i.jsx)(n.Icon,{name:r.Search16,color:"greyscale-level-2"})}),prefix:(0,i.jsxs)("div",{className:"u-flexbox u-fill-height",children:[(0,i.jsx)(eA,{selectedType:eo,isOpen:eh,onClick:eJ,onSelect:eK}),(0,i.jsx)(a.Divider,{orientation:"vertical"})]}),onChange:e=>eG(e.currentTarget.value),onFocus:eq,onKeyDown:c,onValueClear:e$,onInputClick:eZ,ref:ew,testId:"search-text"}),(e=>{if(eo!==I.SearchBarSearchType.Item||!eu)return null;let t=eN(en)?V&&ee.length?(0,i.jsx)(J,{savedRecentSearchListId:ei,highlightedIndex:e,onSubscribeClick:eQ,searchUrl:ek[I.SearchBarSearchType.Item],onSearchClick:e0,savedRecentSearchSessionId:eP,seenRecentSearches:eM}):null:(0,i.jsx)(eb,{onMobileAutofill:e2,query:en,items:eI,highlightedIndex:e,onSuggestionClick:eX,suggestionUrl:eV,suggestionsListId:eT,suggestionsSessionId:eU,seenSuggestions:eD,onClearSuggestions:eS});return(0,u.default)(t)?null:(0,i.jsxs)("div",{className:"u-ui-margin-top-regular u-position-absolute u-fill-width",children:[(0,i.jsx)("div",{role:"none",className:"search-bar__background","data-testid":"search-bar-background",ref:e3.floaterRef,style:e3.floaterStyle,onClick:eY}),(0,i.jsx)(s.Card,{styling:"lifted",children:(0,i.jsx)("div",{className:"u-overflow-hidden",children:t})})]})})(ef)]})}}),(0,i.jsx)(K.default,{isOpen:X,onClose:()=>{Q()}})]})})})}],744952)},362281,e=>{"use strict";var t=e.i(549539),i=e.i(86187),r=e.i(790797),s=e.i(569144),a=e.i(581232),n=e.i(314320),l=e.i(744952);let o=e=>(0,t.jsx)("div",{className:"l-search",...e}),c=e=>{var c;let{catalogTree:u,wrapperComponent:d=o}=e,{relativeUrl:h,searchParams:m}=(0,r.useBrowserNavigation)(),_=null==(c=(0,s.useSession)().user)?void 0:c.id,g=(0,a.getIsInCatalog)(h),p=null==m?void 0:m.disable_search_saving,f=g&&_&&!p;return(0,t.jsx)(d,{children:(0,t.jsx)(i.Cell,{styling:"tight",children:(0,t.jsx)("div",{className:"u-ui-padding-vertical-regular",children:(0,t.jsx)("div",{className:"container",children:(0,t.jsxs)("div",{className:"u-flexbox",children:[(0,t.jsx)("div",{className:"u-fill-width",children:(0,t.jsx)(l.default,{catalogTree:u,isInCatalog:g})}),f&&(0,t.jsx)("div",{className:"u-phones-only u-ui-margin-left-medium",children:(0,t.jsx)(n.SearchSubscribeButton,{catalogTree:u})})]})})})})})};e.s(["default",0,e=>(0,t.jsx)(c,{...e})],362281)},502269,e=>{"use strict";var t=e.i(549539),i=e.i(957742),r=e.i(581232),s=e.i(744952);e.s(["default",0,e=>{let a;return(0,t.jsx)(s.default,{...e,isInCatalog:(a=(0,i.usePathname)(),(0,r.getIsInCatalog)(null!=a?a:""))})}])},897485,215692,803582,803677,e=>{"use strict";var t=e.i(549539),i=e.i(197262),r=e.i(135528),s=e.i(86187),a=e.i(589582),n=e.i(256797),l=e.i(924348),o=e.i(532564),c=e.i(232796);let u=e=>!!e&&"object"==typeof e&&"user_id"in e,d=e=>Array.isArray(null==e?void 0:e.manageable_accounts)?e.manageable_accounts.filter(u):null;e.s(["manageableAccountsFromUserDto",0,d],215692);var h=e.i(155604),m=e.i(282036),_=e.i(996419),g=e.i(302804),p=e.i(126928),f=e.i(763506),v=e.i(838948),x=e.i(59783),S=e.i(569144);let b=e=>{let{href:i,onClick:r,children:s}=e;return i?(0,t.jsx)("a",{href:i,onClick:r,className:"nav-link",children:s}):(0,t.jsx)("button",{type:"button",onClick:r,className:"nav-link",children:s})};e.s(["AccountSwitch",0,()=>{let e=(0,o.useTranslate)("header.user_menu.account.items.other_profile"),{user:u}=(0,S.useSession)(),j=(0,g.useRefUrl)(),y=(0,f.useBreakpoint)(),E=(0,i.useRef)(null),T=d(u),R=e=>async()=>{E.current=e;let t=await (0,c.getStaffAccountAssertion)(e),i=await (0,_.getFingerprint)();"errors"in t||"errors"in await (0,m.authenticateUser)({grantType:h.AuthenticateGrantType.Assertion,assertion:t.assertion,provider:h.AuthenticateProvider.Vinted,fingerprint:i})||(0,p.navigateToPage)(j)};(0,x.useDataDomeCaptcha)(()=>{E.current&&R(E.current)()});let I=i=>{let{icon:a,name:o,user_id:c}=i;return(0,t.jsx)(s.Cell,{prefix:(0,t.jsx)(n.Image,{src:a,size:"medium",styling:"circle"}),subtitle:(0,t.jsx)(l.Text,{as:"span",text:o}),suffix:(null==u?void 0:u.impersonating_business)?null:(0,t.jsx)(r.Badge,{content:e("badge")}),styling:y.desktops?"tight":"default",onClick:R(c),theme:"transparent",clickable:!0},c)};return(null==T?void 0:T.length)?(0,t.jsxs)("div",{children:[(0,t.jsxs)(v.ShowAtBreakpoint,{breakpoint:"desktops",children:[(0,t.jsx)(a.Divider,{}),(0,t.jsx)(s.Cell,{title:e("title"),styling:"narrow"}),T.map(e=>(0,t.jsx)(b,{children:I(e)},e.user_id)),(0,t.jsx)(a.Divider,{})]}),(0,t.jsxs)(v.ShowAtBreakpoint,{breakpoint:"portables",children:[(0,t.jsx)(s.Cell,{title:e("title"),styling:"narrow"}),T.map(I)]})]}):null}],897485),e.s(["clickEvent",0,e=>{let{target:t,screen:i,targetDetails:r,env:s,path:a}=e,n={target:t};return i&&(n.screen=i),r&&(n.target_details=r),s&&(n.env=s),a&&(n.path=a),{event:"user.click",extra:n}},"donationsClickEvent",0,e=>({event:"user.click_donations",extra:e}),"referralsPageUserClickEvent",0,e=>({event:"referral_page.user.click",extra:e})],803582);var j=e.i(374048);e.s(["ADVERTISING_URL",0,"/advertising","APP_LANDING_URL",0,"/app","BUSINESS_ACCOUNTS_GUIDE_URL",0,"/pro-guide","BUSINESS_ACCOUNTS_HOMEPAGE",0,"/pro","BUSINESS_TERMS_AND_CONDITIONS_URL",0,"/pro-terms-and-conditions","BUSINESS_TERMS_OF_SALE_URL",0,"/pro-terms-of-sale","BUSINESS_TERMS_URL",0,"/pro-terms-of-use","COOKIE_POLICY_URL",0,"/cookie-policy","DONATIONS_SETTINGS_URL",0,"/settings/donations","GO_TO_WALLET_URL",0,"/wallet/balance","HELP_CENTER_URL",0,"/help","HELP_FAQ_ENTRIES_URL",0,"/help","HELP_SAFETY_URL",0,"/safety","HOW_IT_WORKS_URL",0,"/how_it_works","INFOBOARD_URL",0,"/infoboard","ITEM_UPLOAD_URL",0,"/items/new","ITEM_VERIFICATION_URL",0,"/item_verification","JOBS_URL",0,"/jobs","JOBS_URL_NEW",0,"https://careers.vinted.com/","MAIN_NAVIGATION_ABOUT_TAB_URL",0,"/about","MEMBER_PROFILE_URL",0,(e,t)=>(0,j.urlWithParams)(`/member/${e}`,{cp_precheckout:t}),"MY_ORDERS_URL",0,"/my_orders","PRIVACY_POLICY_URL",0,"/privacy-policy","PROFILE_SETTINGS_URL",0,"/settings/profile","REFERRALS_URL",0,"/referrals","ROOT_URL",0,"/","TERMS_URL",0,"/terms_and_conditions","USER_PERSONALIZATION_SIZES_URL",0,"/member/personalization/sizes","WALLET_INVOICES_URL",0,"/wallet/invoices"],803677)},217844,e=>{"use strict";var t,i=e.i(549539),r=e.i(135528),s=e.i(528024),a=e.i(897485),n=e.i(126928),l=e.i(106014),o=e.i(827045),c=e.i(449155),u=e.i(948176),d=e.i(532564),h=e.i(569144),m=e.i(211012),_=e.i(598449),g=e.i(803582),p=e.i(426347),f=e.i(445826),v=e.i(642319),x=e.i(569139),S=e.i(803677),b=e.i(197262),j=e.i(145218),y=e.i(924348),E=e.i(775514),T=e.i(832070),R=e.i(14149);let I=()=>{let{locale:e}=(0,j.useIntl)(),{user:t}=(0,h.useSession)(),r=null==t?void 0:t.id,[s,a]=(0,b.useState)();if((0,b.useEffect)(()=>{(async()=>{if(!r)return;let e=await (0,E.getWalletBalance)(r);"errors"in e||a((0,T.transformWalletBalanceDto)(e.user_balance))})()},[r]),!s)return null;let{availableAmount:n}=s;return(0,i.jsx)(y.Text,{as:"h4",type:"caption",text:(0,R.formatCurrencyAmount)(n,e)})};var w=e.i(102103),A=e.i(474085),C=e.i(256797),L=e.i(709634),k=e.i(416160),N=e.i(401785),O=e.i(189647),U=e.i(241334),P=e.i(838124),D=e.i(623058),M=e.i(934267),B=e.i(272821),F=e.i(225293);let W=e=>{let{userName:t,userPhoto:r,children:s,onUserMenuDropdownOpen:a}=e,[n,l]=(0,b.useState)(!1),o=(0,M.getSessionStorageItem)(D.ACCOUNT_SWITCH_TOOLTIP_SESSION_STORAGE_KEY),[c,u]=(0,b.useState)(!!o),h=(0,d.useTranslate)("header.user_menu.account");(0,b.useEffect)(()=>{n&&a()},[n,a]),(0,b.useEffect)(()=>{if(!c)return;let e=setTimeout(()=>{u(!1),(0,M.removeSessionStorageItem)(D.ACCOUNT_SWITCH_TOOLTIP_SESSION_STORAGE_KEY)},8e3);return()=>clearTimeout(e)},[c]);let m=()=>{l(e=>!e),u(!1),(0,M.removeSessionStorageItem)(D.ACCOUNT_SWITCH_TOOLTIP_SESSION_STORAGE_KEY)},{floaterRef:_,triggerRef:g,floaterStyle:p}=(0,U.useFloating)({middleware:[(0,L.offset)(N.Spacing.Medium),(0,A.flip)({mainAxis:!1}),(0,k.shift)()],placement:"bottom-end",shouldAutoUpdate:!0,isFloaterVisible:n}),f=()=>(0,i.jsx)("button",{type:"button",id:"user-menu-button","data-testid":"user-menu-button",ref:g,onClick:m,className:(0,P.default)({open:n}),children:(0,i.jsx)("div",{className:"u-flexbox u-align-items-center",children:(0,i.jsx)("figure",{className:"header-avatar",children:(0,i.jsx)(C.Image,{src:r,alt:t,styling:"circle"})})})});return(0,i.jsxs)(B.OutsideClick,{onOutsideClick:()=>l(!1),children:[c?(0,i.jsx)(O.Tooltip,{content:h("switch_to_business_tooltip"),placement:"bottom-end",show:c,children:f()}):f(),n&&(0,i.jsx)("div",{ref:_,style:p,children:(0,i.jsx)(w.Card,{styling:"elevated",children:(0,i.jsx)(F.ScrollableArea,{children:(0,i.jsx)("div",{className:"user-menu-groups",children:s})})})})]})};var z=e.i(42357);let H=e=>{let{children:t}=e;return(0,i.jsx)("div",{className:"user-menu-group",children:t})};H.Item=e=>{let{children:t}=e;return(0,i.jsx)("ul",{className:"nav nav-stacked nav-dropdown nav-detailed user-menu-group__item",children:b.Children.map((0,z.default)(t),e=>(0,i.jsx)("li",{className:"nav-item",children:e}))})},H.Action=e=>{let{href:t,onClick:i,children:r}=e;return(0,b.createElement)(t?"a":"button",{href:t,onClick:i,className:"nav-link"},r)};var V=((t=V||{}).Small="thumb20",t.Medium="thumb30",t.Default="thumb50",t.Large="thumb70",t.XLarge="thumb90",t.X2Large="thumb100",t.X3Large="thumb140",t.X4Large="thumb150",t.X5Large="thumb175",t.X6Large="thumb310",t);let G=function(e){var t;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"thumb50";return(null==e||null==(t=e.thumbnails.find(e=>{let{type:t}=e;return t===i}))?void 0:t.url)||null};e.s(["default",0,()=>{var e,t;let{user:b}=(0,h.useSession)(),j=(0,d.useTranslate)(),{track:y}=(0,c.useTracking)(),E=(0,l.useCookie)(),T=(0,_.useAsset)("assets/no-photo"),R=(0,u.useFeatureSwitch)("payments"),w=!(null==b?void 0:b.business),A=(0,u.useFeatureSwitch)("referrals"),C=(0,o.useShouldShowDarkModeBanner)(),L=null==b?void 0:b.impersonating_business,k=(0,x.useTrackAbTestCallback)(),N=(0,f.useAbTest)("referrals_new_cta_placement_in_profile_menu"),O=(0,f.useAbTest)("promotion_campaign_voluntary_phone_verification_adoption_v2"),U=(null==O?void 0:O.variant)==="on",P=null==b?void 0:b.verification.phone.valid;(0,v.useTrackAbTest)(O,!P);let D=!(0,u.useFeatureSwitch)("web_fundraisers_enabled")&&!(null==b||null==(e=b.fundraiser)?void 0:e.active);if(!b)return null;let M=G(b.photo)||T(m.EMPTY_USER_IMAGE_NAME),B=e=>{let t={target:e,screen:"user_menu"};"referrals"===e?y((0,g.referralsPageUserClickEvent)(t)):y((0,g.clickEvent)(t))},F=async()=>{B("log_out"),await (0,p.logoutUser)({cookies:E})&&(0,n.navigateToPage)(S.ROOT_URL)};return(0,i.jsx)(W,{userName:b.login,userPhoto:M,onUserMenuDropdownOpen:()=>{A&&k(N)},children:(0,i.jsx)(H,{children:(0,i.jsxs)(H.Item,{children:[(0,i.jsx)(H.Action,{href:(0,S.MEMBER_PROFILE_URL)(b.id),onClick:()=>B("profile"),children:j("header.user_menu.account.items.profile.title")}),!!A&&!L&&(null==N?void 0:N.variant)==="on"&&(0,i.jsx)(H.Action,{href:S.REFERRALS_URL,onClick:()=>B("referrals"),children:j("header.user_menu.account.items.referrals.title")}),!L&&(0,i.jsxs)(H.Action,{href:S.PROFILE_SETTINGS_URL,onClick:()=>B("settings"),children:[j("header.user_menu.account.items.settings.title"),U&&!P&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.Spacer,{orientation:"vertical",size:"x4-large"}),(0,i.jsx)("span",{"aria-hidden":"true",children:(0,i.jsx)(r.Badge,{theme:"primary",content:j("header.user_menu.account.items.settings.badge")})}),(0,i.jsx)("span",{className:"u-visually-hidden",children:j("header.user_menu.account.items.settings.badge_description")})]}),C&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.Spacer,{orientation:"vertical",size:"small"}),(0,i.jsx)(r.Badge,{theme:"primary",content:j("common.new_badge")})]})]}),!L&&(0,i.jsx)(H.Action,{href:S.USER_PERSONALIZATION_SIZES_URL,onClick:()=>B("customize"),children:j("header.user_menu.account.items.personalization.title")}),R&&!L&&(0,i.jsx)(H.Action,{href:S.GO_TO_WALLET_URL,onClick:()=>B("balance"),children:(0,i.jsxs)("span",{className:"u-flexbox u-justify-content-between u-align-items-center",children:[j("header.user_menu.account.items.wallet.title"),(0,i.jsx)(s.Spacer,{orientation:"vertical",size:"x5-large"}),(0,i.jsx)("span",{className:"user-menu-group__balance-placeholder u-flexbox u-justify-content-flex-end",children:(0,i.jsx)(I,{})})]})}),(0,i.jsx)(H.Action,{href:S.MY_ORDERS_URL,onClick:()=>B("orders"),children:j("header.user_menu.account.items.my_orders.title")}),w&&!L&&!D&&!(null==(t=b.fundraiser)?void 0:t.feature_disabled)&&(0,i.jsx)(H.Action,{href:S.DONATIONS_SETTINGS_URL,onClick:()=>B("enter_donations_from_settings"),children:j("header.user_menu.account.items.donations.title")}),!R&&!L&&(0,i.jsx)(H.Action,{href:S.WALLET_INVOICES_URL,onClick:()=>B("invoices"),children:j("header.user_menu.account.items.invoices.title")}),!!A&&!L&&(null==N?void 0:N.variant)!=="on"&&(0,i.jsx)(H.Action,{href:S.REFERRALS_URL,onClick:()=>B("referrals"),children:j("header.user_menu.account.items.referrals.title")}),(0,i.jsx)(a.AccountSwitch,{}),(0,i.jsx)(H.Action,{onClick:F,children:(0,i.jsx)("span",{className:"u-color-red",children:j("header.user_menu.account.items.logout.title")})})]})})})}],217844)},531812,e=>{"use strict";e.s(["clickEvent",0,e=>{let{target:t,screen:i,targetDetails:r,env:s,path:a}=e,n={target:t};return i&&(n.screen=i),r&&(n.target_details=r),s&&(n.env=s),a&&(n.path=a),{event:"user.click",extra:n}},"selectCatalogEvent",0,e=>{let{catalogIds:t,attributeId:i,screen:r}=e,s={catalog_id:t.join(","),attribute_id:null!=i?i:null};return r&&(s.screen=r),{event:"user.select_catalog",extra:s}}])},749365,e=>{"use strict";var t=e.i(549539),i=e.i(197262),r=e.i(589582),s=e.i(814874),a=e.i(925049),n=e.i(569144),l=e.i(445826),o=e.i(642319),c=e.i(569139),u=e.i(459831),d=e.i(990242),h=e.i(528024),m=e.i(912194),_=e.i(449155),g=e.i(532564),p=e.i(374048),f=e.i(531812),v=e.i(282309),x=e.i(803677);let S=e=>{let{isLoggedIn:i}=e,r=(0,g.useTranslate)("header.side_bar"),{track:s}=(0,_.useTracking)(),n=(0,m.useOpenAuthFlow)();return(0,t.jsx)(d.Container,{children:(0,t.jsxs)(a.SeparatedList,{separator:(0,t.jsx)(h.Spacer,{}),children:[(0,t.jsx)(u.Button,{text:r("sell_now"),styling:"filled",url:x.ITEM_UPLOAD_URL,onClick:()=>{s((0,f.clickEvent)({target:"upload_item"}))},testId:"side-bar-sell-btn"}),!i&&(0,t.jsx)(u.Button,{text:r("sign_in"),onClick:()=>{n(),s((0,f.clickEvent)({target:"login"}))},testId:"side-bar-signin-btn"}),(0,t.jsx)(u.Button,{text:r("guide"),styling:"flat",testId:"side-bar-guide-btn",url:(0,p.urlWithParams)(x.HELP_FAQ_ENTRIES_URL,{access_channel:v.AccessChannel.Profile})})]})})};var b=e.i(193778),j=e.i(948176),y=e.i(86187),E=e.i(924348);let T=e=>{let{title:i,url:r,onClick:s}=e;return(0,t.jsx)(y.Cell,{type:"navigating",body:(0,t.jsx)(E.Text,{as:"span",text:i,truncate:!0}),url:r,urlProps:{title:i},onClick:s})},R=e=>{let{isBusinessAccountLinksVisible:i}=e,s=(0,g.useTranslate)("header.main_navigation.about.discover"),n=(0,j.useFeatureSwitch)("web_item_verification_page_link");return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(b.Label,{text:s("title")}),(0,t.jsxs)(a.SeparatedList,{separator:(0,t.jsx)(r.Divider,{}),children:[(0,t.jsx)(T,{url:x.HOW_IT_WORKS_URL,title:s("items.how_it_works")}),n&&(0,t.jsx)(T,{url:x.ITEM_VERIFICATION_URL,title:s("items.item_verification")}),(0,t.jsx)(T,{url:x.APP_LANDING_URL,title:s("items.app")}),(0,t.jsx)(T,{url:x.HELP_CENTER_URL,title:s("items.help")}),(0,t.jsx)(T,{url:x.INFOBOARD_URL,title:s("items.infoboard")}),i&&(0,t.jsx)(T,{url:x.BUSINESS_ACCOUNTS_HOMEPAGE,title:s("items.pro")}),i&&(0,t.jsx)(T,{url:x.BUSINESS_ACCOUNTS_GUIDE_URL,title:s("items.pro_guide")})]})]})};var I=e.i(315650);let w=()=>{let e=(0,g.useTranslate)("header.main_navigation.about.company"),{track:i}=(0,_.useTracking)(),{isPressMenuEnabled:s,isSustainabilityMenuEnabled:n,newsroomUrl:l,sustainabilityLandingPageUrl:o}=(0,I.useCompanyWeb)(),c=(0,j.useFeatureSwitch)("jobs_page"),u=(0,j.useFeatureSwitch)("new_jobs_career_portal")?x.JOBS_URL_NEW:x.JOBS_URL;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(b.Label,{text:e("title")}),(0,t.jsxs)(a.SeparatedList,{separator:(0,t.jsx)(r.Divider,{}),children:[(0,t.jsx)(T,{title:e("items.about"),url:x.MAIN_NAVIGATION_ABOUT_TAB_URL}),c&&(0,t.jsx)(T,{title:e("items.jobs"),url:u}),n&&(0,t.jsx)(T,{title:e("items.sustainability"),url:o,onClick:()=>{i((0,f.clickEvent)({target:"sustainability_page_link",targetDetails:"navigation_web"}))}}),s&&(0,t.jsx)(T,{title:e("items.press"),url:l}),(0,t.jsx)(T,{title:e("items.advertising"),url:x.ADVERTISING_URL})]})]})};var A=e.i(93205);let C=e=>{let{impressumUrl:i,isBusinessAccountLinksVisible:s}=e,n=(0,g.useTranslate)("header.main_navigation.about.policies"),l=(0,j.useFeatureSwitch)("pro_terms_and_conditions_enabled"),o=(0,j.useFeatureSwitch)("privacy_policy_update"),c=o?A.PRIVACY_CENTER_URL:x.PRIVACY_POLICY_URL;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(b.Label,{text:n("title")}),(0,t.jsxs)(a.SeparatedList,{separator:(0,t.jsx)(r.Divider,{}),children:[(0,t.jsx)(T,{title:n("items.safety"),url:x.HELP_SAFETY_URL}),i&&(0,t.jsx)(T,{title:n("items.impressum"),url:i}),(0,t.jsx)(T,{title:n(o?"items.privacy_center":"items.privacy_policy"),url:c}),(0,t.jsx)(T,{title:n("items.terms_and_conditions"),url:x.TERMS_URL}),(0,t.jsx)(T,{title:n("items.cookie_policy"),url:x.COOKIE_POLICY_URL}),s?l?(0,t.jsx)(T,{title:n("items.pro_terms_and_conditions"),url:x.BUSINESS_TERMS_AND_CONDITIONS_URL}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(T,{title:n("items.pro_terms_of_sale"),url:x.BUSINESS_TERMS_OF_SALE_URL}),(0,t.jsx)(T,{title:n("items.pro_terms_of_use"),url:x.BUSINESS_TERMS_URL})]}):null]})]})};var L=e.i(485705),k=e.i(354392),N=e.i(366824);let O=()=>{let e=(0,g.useTranslate)("header.main_navigation.about.privacy"),{isCookieConsentVersion:i}=(0,L.useConsent)();return i?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(b.Label,{text:e("title")}),(0,t.jsx)(T,{url:N.NAVIGATION_COOKIES_URL,title:e("items.cookies"),onClick:e=>{e.preventDefault(),(0,k.toggleOneTrustInfoDisplay)()}})]}):null},U=e=>{let{impressumUrl:i,isBusinessAccountLinksVisible:r}=e;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(R,{isBusinessAccountLinksVisible:r}),(0,t.jsx)(w,{}),(0,t.jsx)(C,{impressumUrl:i,isBusinessAccountLinksVisible:r}),(0,t.jsx)(O,{})]})},P=e=>{let{title:t,titleId:r,...s}=e;return i.createElement("svg",{fill:"none",viewBox:"0 0 24 24",width:24,height:24,"aria-labelledby":r,...s},t?i.createElement("title",{id:r},t):null,i.createElement("path",{fill:"currentColor",d:"M19 9c-.41 0-.75-.34-.75-.75V5.73h-2.5c-.41 0-.75-.34-.75-.75s.34-.75.75-.75h2.5V1.75c0-.41.34-.75.75-.75s.75.34.75.75v2.48h2.5c.41 0 .75.34.75.75s-.34.75-.75.75h-2.5v2.52c0 .41-.34.75-.75.75"}),i.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M9.5 6c2.01 0 4.294 1.526 4.294 4.553q0 .458-.054.913c-.086 1.41-.709 2.258-1.174 2.89-.288.394-.516.705-.516 1.015 0 .527 1.02 1.053 2.217 1.67 1.691.873 3.733 1.926 3.733 3.416C18 23 15.875 23 14.6 23H4.4C3.125 23 1 23 1 20.457c0-1.49 2.042-2.543 3.733-3.416 1.196-.617 2.217-1.143 2.217-1.67 0-.31-.228-.62-.517-1.014-.464-.633-1.087-1.481-1.173-2.89a8 8 0 0 1-.054-.914C5.206 7.526 7.49 6 9.5 6h.002Zm-2.746 5.33.003.044c.058.95.446 1.497.886 2.095l.021.03c.128.173.305.414.444.661.15.268.342.687.342 1.21 0 .634-.307 1.103-.54 1.375-.24.278-.528.5-.778.668-.48.326-1.102.647-1.657.934l-.054.027c-.876.452-1.678.871-2.27 1.33-.634.49-.651.737-.651.753 0 .427.088.616.13.686a.45.45 0 0 0 .22.177c.34.156.844.18 1.55.18h10.2c.706 0 1.21-.024 1.551-.18a.45.45 0 0 0 .218-.177c.043-.07.131-.26.131-.686 0-.016-.017-.263-.65-.753-.593-.459-1.395-.878-2.27-1.33l-.055-.027c-.555-.287-1.177-.608-1.657-.934a4 4 0 0 1-.777-.668c-.234-.272-.541-.74-.541-1.374 0-.524.192-.943.342-1.21.14-.248.317-.49.444-.662l.021-.03c.44-.598.828-1.146.886-2.095l.002-.045.006-.045q.043-.356.043-.73c0-2.09-1.499-3.054-2.793-3.054h-.002c-1.294 0-2.793.963-2.793 3.053q0 .375.043.731z",clipRule:"evenodd"}))};P.Size=24,P.Title="AddMember";var D=e.i(314669);let M=e=>{let{title:t,titleId:r,...s}=e;return i.createElement("svg",{fill:"none",viewBox:"0 0 24 24",width:24,height:24,"aria-labelledby":r,...s},t?i.createElement("title",{id:r},t):null,i.createElement("path",{fill:"currentColor",d:"M7 3a2 2 0 0 0-2 2v1.5H1.75a.75.75 0 0 0 0 1.5H5v1.5a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2V8h11.25a.75.75 0 0 0 0-1.5H11V5a2 2 0 0 0-2-2zm2 1.5a.5.5 0 0 1 .5.5v4.5a.5.5 0 0 1-.5.5H7a.5.5 0 0 1-.5-.5V5a.5.5 0 0 1 .5-.5zM1 16.75a.75.75 0 0 1 .75-.75H13v-1.5a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2V16h3.25a.75.75 0 0 1 0 1.5H19V19a2 2 0 0 1-2 2h-2a2 2 0 0 1-2-2v-1.5H1.75a.75.75 0 0 1-.75-.75M15 14a.5.5 0 0 0-.5.5V19a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5v-4.5a.5.5 0 0 0-.5-.5z"}))};M.Size=24,M.Title="Filters";let B=e=>{let{title:t,titleId:r,...s}=e;return i.createElement("svg",{fill:"none",viewBox:"0 0 24 24",width:24,height:24,"aria-labelledby":r,...s},t?i.createElement("title",{id:r},t):null,i.createElement("path",{fill:"currentColor",d:"M4.75 5.5c-.69 0-1.25.56-1.25 1.25v10.5c0 .69.56 1.25 1.25 1.25h7.5c.69 0 1.25-.56 1.25-1.25v-1.5a.75.75 0 0 1 1.5 0v1.5A2.75 2.75 0 0 1 12.25 20h-7.5A2.75 2.75 0 0 1 2 17.25V6.75A2.75 2.75 0 0 1 4.75 4h7.5A2.75 2.75 0 0 1 15 6.75v1.5a.75.75 0 0 1-1.5 0v-1.5c0-.69-.56-1.25-1.25-1.25zm12.72 2.97a.75.75 0 0 1 1.06 0l3 3a.75.75 0 0 1 0 1.06l-3 3a.75.75 0 1 1-1.06-1.06l1.72-1.72H8a.75.75 0 0 1 0-1.5h11.19l-1.72-1.72a.75.75 0 0 1 0-1.06"}))};B.Size=24,B.Title="Logout";var F=e.i(533476),W=e.i(163376),z=e.i(321627),H=e.i(135528),V=e.i(256797),G=e.i(897485),$=e.i(126928),J=e.i(106014),K=e.i(827045),Y=e.i(211012),q=e.i(598449),Z=e.i(803582),Q=e.i(426347),X=e.i(215692),ee=e.i(739800);let et=e=>{let{title:i,url:r,suffix:s,onClick:a,testId:n,icon:l}=e;return(0,t.jsx)(y.Cell,{styling:"default",prefix:(0,t.jsx)(ee.Icon,{name:l,color:"greyscale-level-2"}),title:i,theme:"transparent",url:r,onClick:a,suffix:s,testId:n})},ei=()=>{var e,i,s,l;let o=(0,g.useTranslate)(),{track:c}=(0,_.useTracking)(),u=(0,J.useCookie)(),{user:d}=(0,n.useSession)(),h=(0,q.useAsset)("assets/no-photo"),m=!(null==d?void 0:d.business),p=(0,j.useFeatureSwitch)("payments"),f=(0,j.useFeatureSwitch)("referrals"),v=(0,K.useShouldShowDarkModeBanner)(),S=null==d?void 0:d.impersonating_business,E=!(0,j.useFeatureSwitch)("web_fundraisers_enabled")&&!(null==d||null==(e=d.fundraiser)?void 0:e.active),T=async()=>{await (0,Q.logoutUser)({cookies:u})&&(0,$.navigateToPage)(x.ROOT_URL)};if(!d)return null;let R=(null==(i=d.photo)?void 0:i.url)||h(Y.EMPTY_USER_IMAGE_NAME);return(0,t.jsxs)("div",{"data-testid":"user-menu-with-icons",children:[(0,t.jsx)(b.Label,{text:o("header.user_menu.account.title")}),(0,t.jsxs)(a.SeparatedList,{separator:(0,t.jsx)(r.Divider,{}),children:[(0,t.jsx)(y.Cell,{title:d.login,body:o("header.user_menu.account.view_profile"),styling:"default",theme:"transparent",prefix:(0,t.jsx)(V.Image,{src:R,size:"large",styling:"circle",alt:o("common.a11y.alt.user_photo")}),url:(0,x.MEMBER_PROFILE_URL)(d.id)}),p&&!S&&(0,t.jsx)(et,{title:o("header.user_menu.account.items.wallet.title"),url:x.GO_TO_WALLET_URL,icon:z.Wallet24}),(0,t.jsx)(et,{title:o("header.user_menu.account.items.my_orders.title"),url:x.MY_ORDERS_URL,testId:"my-orders-account-link",icon:F.Receipt24}),!S&&(0,t.jsx)(et,{title:o("header.user_menu.account.items.personalization.title"),url:x.USER_PERSONALIZATION_SIZES_URL,icon:M}),!!f&&!S&&(0,t.jsx)(et,{title:o("header.user_menu.account.items.referrals.title"),url:x.REFERRALS_URL,icon:P}),m&&!S&&!E&&!(null==(s=d.fundraiser)?void 0:s.feature_disabled)&&(0,t.jsx)(et,{title:o("header.user_menu.account.items.donations.title"),url:x.DONATIONS_SETTINGS_URL,onClick:()=>{c((0,Z.donationsClickEvent)({target:"enter_donations_from_web_menu"}))},icon:D.Donate24}),!S&&(0,t.jsx)(et,{title:o("header.user_menu.account.items.settings.title"),url:x.PROFILE_SETTINGS_URL,suffix:v?(0,t.jsx)(H.Badge,{theme:"primary",content:o("common.new_badge")}):null,testId:"settings-account-link",icon:W.Settings24}),(null==(l=(0,X.manageableAccountsFromUserDto)(d))?void 0:l.length)&&(0,t.jsx)(G.AccountSwitch,{}),(0,t.jsx)(et,{title:o("header.user_menu.account.items.logout.title"),onClick:T,icon:B})]})]})},er=e=>{let{title:i,url:r,suffix:s,onClick:a,testId:n}=e;return(0,t.jsx)(y.Cell,{testId:n,type:"navigating",body:(0,t.jsx)(E.Text,{as:"span",text:i}),url:r,onClick:a,suffix:s})},es=()=>{var e,s,u;let d=(0,g.useTranslate)(),{track:h}=(0,_.useTracking)(),m=(0,J.useCookie)(),{user:p}=(0,n.useSession)(),f=!(null==p?void 0:p.business),v=(0,j.useFeatureSwitch)("payments"),S=(0,j.useFeatureSwitch)("referrals"),y=(0,K.useShouldShowDarkModeBanner)(),E=null==p?void 0:p.impersonating_business,T=!(0,j.useFeatureSwitch)("web_fundraisers_enabled")&&!(null==p||null==(e=p.fundraiser)?void 0:e.active),R=(0,l.useAbTest)("referrals_new_cta_placement_in_profile_menu"),I=(0,c.useTrackAbTestCallback)(),w=(0,l.useAbTest)("promotion_campaign_voluntary_phone_verification_adoption_v2"),A=(null==w?void 0:w.variant)==="on",C=null==p?void 0:p.verification.phone.valid;(0,o.useTrackAbTest)(w,!C),(0,i.useEffect)(()=>{S&&I(R)},[S,R,I]);let L=async()=>{await (0,Q.logoutUser)({cookies:m})&&(0,$.navigateToPage)(x.ROOT_URL)};return p?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(b.Label,{text:d("header.user_menu.account.title")}),(0,t.jsxs)(a.SeparatedList,{separator:(0,t.jsx)(r.Divider,{}),children:[(0,t.jsx)(er,{title:d("header.user_menu.account.items.profile.title"),url:(0,x.MEMBER_PROFILE_URL)(p.id)}),!!S&&!E&&(null==R?void 0:R.variant)==="on"&&(0,t.jsx)(er,{title:d("header.user_menu.account.items.referrals.title"),url:x.REFERRALS_URL}),!E&&(0,t.jsx)(er,{title:d("header.user_menu.account.items.settings.title"),url:x.PROFILE_SETTINGS_URL,suffix:y?(0,t.jsx)(H.Badge,{theme:"primary",content:d("common.new_badge")}):A&&!C?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{"aria-hidden":"true",children:(0,t.jsx)(H.Badge,{theme:"primary",content:d("header.user_menu.account.items.settings.badge")})}),(0,t.jsx)("span",{className:"u-visually-hidden",children:d("header.user_menu.account.items.settings.badge_description")})]}):null,testId:"settings-account-link"}),!E&&(0,t.jsx)(er,{title:d("header.user_menu.account.items.personalization.title"),url:x.USER_PERSONALIZATION_SIZES_URL}),v&&!E&&(0,t.jsx)(er,{title:d("header.user_menu.account.items.wallet.title"),url:x.GO_TO_WALLET_URL}),(0,t.jsx)(er,{title:d("header.user_menu.account.items.my_orders.title"),url:x.MY_ORDERS_URL,testId:"my-orders-account-link"}),f&&!E&&!T&&!(null==(s=p.fundraiser)?void 0:s.feature_disabled)&&(0,t.jsx)(er,{title:d("header.user_menu.account.items.donations.title"),url:x.DONATIONS_SETTINGS_URL,onClick:()=>{h((0,Z.donationsClickEvent)({target:"enter_donations_from_web_menu"}))}}),!v&&!E&&(0,t.jsx)(er,{title:d("header.user_menu.account.items.invoices.title"),url:x.WALLET_INVOICES_URL}),!!S&&!E&&(null==R?void 0:R.variant)!=="on"&&(0,t.jsx)(er,{title:d("header.user_menu.account.items.referrals.title"),url:x.REFERRALS_URL}),(null==(u=(0,X.manageableAccountsFromUserDto)(p))?void 0:u.length)&&(0,t.jsx)(G.AccountSwitch,{}),(0,t.jsx)(er,{title:d("header.user_menu.account.items.logout.title"),onClick:L})]})]}):null},ea=e=>{let{catalogTree:u,impressumUrl:d,isBusinessAccountLinksVisible:h,initialLanguages:m,renderCategoriesSection:_}=e,{user:g}=(0,n.useSession)(),p=(0,c.useTrackAbTestCallback)(),f=(0,i.useMemo)(()=>u.filter(e=>!e.is_hidden),[u]);(0,i.useEffect)(()=>{u.forEach(e=>{e.experiment&&p(e.experiment)})},[u,p]);let v=(0,l.useAbTest)("user_menu_dropdown_reorder_web");(0,o.useTrackAbTest)(v);let x=v&&"off"!==v.variant;return(0,t.jsxs)(a.SeparatedList,{separator:(0,t.jsx)(r.Divider,{}),children:[(0,t.jsx)(S,{isLoggedIn:!!g}),_(f),g&&(x?(0,t.jsx)(ei,{}):(0,t.jsx)(es,{})),(0,t.jsx)(s.LanguageSelector,{initialLanguages:m}),(0,t.jsx)(U,{impressumUrl:d,isBusinessAccountLinksVisible:h})]})};var en=e.i(152830);let el=e=>{let{categories:i}=e,s=(0,g.useTranslate)("header.side_bar"),{track:n}=(0,_.useTracking)(),o=(0,c.useTrackAbTestCallback)(),u=(0,l.useAbTest)("designer_electronics_category_unification"),d=(null==u?void 0:u.variant)==="on";return(0,t.jsxs)("div",{children:[(0,t.jsx)(b.Label,{text:s("categories")}),(0,t.jsx)(a.SeparatedList,{separator:(0,t.jsx)(r.Divider,{}),children:i.map(e=>{var i,r,s,a;let l;return(0,t.jsx)(y.Cell,{type:"navigating",prefix:(0,t.jsx)(V.Image,{src:null==(i=e.photo)?void 0:i.url,scaling:"cover",size:"regular"}),suffix:e.badge&&(0,t.jsx)(H.Badge,{theme:e.badge.theme||"primary",content:e.badge.title}),body:(0,t.jsx)(E.Text,{as:"span",truncate:!0,children:e.title}),url:(r=e.code,s=e.url,a=e.custom_url,l=s,!d&&a&&("DESIGNER_ROOT"===r||"ELECTRONICS"===r)&&(l=a),l),urlProps:{title:e.title},onClick:(e=>{let{id:t,code:i}=e;return()=>{n((0,f.selectCatalogEvent)({catalogIds:[t],attributeId:en.CatalogAttribute.Navigation})),("DESIGNER_ROOT"===i||"ELECTRONICS"===i)&&o(u)}})(e),testId:`sidebar-category-item-${e.id}`,aria:{"aria-label":e.title}},e.id)})})]})};e.s(["default",0,e=>{let{catalogTree:i,impressumUrl:r,isBusinessAccountLinksVisible:s,initialLanguages:a}=e;return(0,t.jsx)(ea,{catalogTree:i,impressumUrl:r,isBusinessAccountLinksVisible:s,initialLanguages:a,renderCategoriesSection:e=>(0,t.jsx)(el,{categories:e})})}],749365)},486350,e=>{"use strict";var t=e.i(549539),i=e.i(86187),r=e.i(697346),s=e.i(924348),a=e.i(709634),n=e.i(241334),l=e.i(739800),o=e.i(197262),c=e.i(21985),u=e.i(569139),d=e.i(445826),h=e.i(642319),m=e.i(436464),_=e.i(532564),g=e.i(948176),p=e.i(145800),f=e.i(850913),v=e.i(256797),x=e.i(589582),S=e.i(135528),b=e.i(528024),j=e.i(152830),y=e.i(531812),E=e.i(449155);let T=e=>{var r,a,n;let c,{category:h}=e,{track:m}=(0,E.useTracking)(),g=(0,_.useTranslate)("header.main_navigation.catalogs"),T=(0,u.useTrackAbTestCallback)(),[R,I]=(0,o.useState)(0),[w,A]=(0,o.useState)(0),C=g("see_all"),L=(0,d.useAbTest)("designer_electronics_category_unification"),k=(null==L?void 0:L.variant)==="on",N=(0,o.useMemo)(()=>{let e=[],t=new Set,i=r=>{var s;r.experiment&&!t.has(r.experiment.id)&&(e.push(r.experiment),t.add(r.experiment.id)),null==(s=r.catalogs)||s.forEach(i)};return i(h),e},[h]);(0,o.useEffect)(()=>{N.forEach(e=>{T(e)})},[N,T]),(0,o.useEffect)(()=>{I(0),A(0)},[h]);let O=(0,o.useMemo)(()=>{if(-1===R)return;if(0===R)return h.catalogs.find(e=>!e.is_hidden)||void 0;let e=h.catalogs.find(e=>e.id===R);return e&&!e.is_hidden?e:void 0},[h.catalogs,R]),U=(e,i,r)=>(0,t.jsx)(s.Text,{as:"span",bold:e,theme:e?"amplified":"inherit",text:i,testId:r}),P=e=>{m((0,y.selectCatalogEvent)({catalogIds:[e.id],attributeId:j.CatalogAttribute.Navigation}))},D=e=>{P(e)},M=e=>()=>{I(e)},B=e=>()=>{A(e)},F=(0,o.useMemo)(()=>(null==O?void 0:O.catalogs.some(e=>"group"===e.type&&!e.is_hidden))||!1,[O]),W=h.catalogs.filter(e=>!e.is_hidden);return(0,t.jsxs)("div",{className:"catalog-dropdown__navigated-container",children:[(0,t.jsxs)("div",{className:"catalog-dropdown__level1-container",children:[(0,t.jsx)("div",{onMouseEnter:M(-1),children:(0,t.jsx)(i.Cell,{testId:"category-l1-all",url:(r=h.code,a=h.url,n=h.custom_url,c=a,!k&&n&&("DESIGNER_ROOT"===r||"ELECTRONICS"===r)&&(c=n),c),onClick:()=>{P(h),("DESIGNER_ROOT"===h.code||"ELECTRONICS"===h.code)&&T(L)},type:"navigating",prefix:(0,t.jsx)(l.Icon,{name:f.Dots24,color:"primary-default"}),body:U(-1===R,C,"second-category-all"),styling:"narrow"})}),W.map(e=>{var r;return(0,t.jsx)("div",{onMouseEnter:M(e.id),children:(0,t.jsx)(i.Cell,{url:e.custom_url||e.url,onClick:t=>{let i;(""===(i=t.nativeEvent).pointerType||"touch"===i.pointerType)&&e.catalogs.length>0?t.preventDefault():P(e),I(e.id)},type:"navigating",prefix:(0,t.jsx)(v.Image,{src:null==(r=e.photo)?void 0:r.url,scaling:"cover",size:"regular"}),suffix:e.badge?(0,t.jsx)(S.Badge,{theme:e.badge.theme||"primary",content:e.badge.title}):e.id===(null==O?void 0:O.id)&&e.catalogs.length>0?(0,t.jsx)("div",{className:"u-fill-height u-fill-width u-flexbox u-align-items-center u-justify-content-center",children:(0,t.jsx)(l.Icon,{name:p.ChevronRight16,testId:`chevron-${e.title}`})}):(0,t.jsx)(b.Spacer,{size:"large"}),body:U(e.id===(null==O?void 0:O.id),e.title,`second-category-${e.id}`),styling:"narrow",aria:{"aria-label":e.title},urlProps:{title:e.title}})},e.id)})]}),(0,t.jsx)(x.Divider,{orientation:"vertical"}),(0,t.jsx)("div",{className:"u-flex-1 u-fill-height u-sticky u-top",children:(0,t.jsx)("div",{className:"catalog-dropdown__level2-container",onMouseLeave:B(0),children:O&&O.catalogs.length>0&&(0,t.jsxs)(t.Fragment,{children:[!F&&(0,t.jsx)("div",{onMouseEnter:B(-2),children:(0,t.jsx)(i.Cell,{onClick:()=>D(O),url:O.custom_url||O.url,body:U(-2===w,C,"third-category-all"),styling:"narrow",type:"navigating"})}),O.catalogs.filter(e=>!e.is_hidden).map(e=>(e=>{if(e.is_hidden)return null;if("group"===e.type){let r=e.catalogs.filter(e=>!e.is_hidden);return 0===r.length?null:(0,t.jsxs)("div",{children:[(0,t.jsx)(i.Cell,{styling:"narrow",body:(0,t.jsx)(s.Text,{as:"span",type:"subtitle",text:e.title})}),r.map(e=>(0,t.jsx)("div",{onMouseEnter:B(e.id),children:(0,t.jsx)(i.Cell,{url:e.custom_url||e.url,onClick:()=>D(e),body:U(w===e.id,e.title,`third-category-${e.id}`),styling:"narrow",type:"navigating"})},e.id))]},e.id)}return(0,t.jsx)("div",{onMouseEnter:B(e.id),children:(0,t.jsx)(i.Cell,{url:e.custom_url||e.url,onClick:()=>D(e),body:U(w===e.id,e.title,`third-category-${e.id}`),styling:"narrow",type:"navigating"})},e.id)})(e))]})})})]})};var R=e.i(315650);let I=(0,o.createContext)({}),w=e=>{let{title:r,url:a,onClick:n,testId:l}=e,{boldHover:c}=(0,o.useContext)(I),[u,d]=(0,o.useState)(!1),h=u&&c;return(0,t.jsx)("div",{onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),children:(0,t.jsx)(i.Cell,{type:"navigating",styling:"narrow",url:a,onClick:n,body:(0,t.jsx)(s.Text,{as:"span",bold:h,theme:h?"amplified":void 0,children:r}),testId:l})})};var A=e.i(193778);let C=e=>{let{title:i,children:r}=e;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(A.Label,{text:i,type:"stacked",styling:"narrow"}),(0,t.jsx)(b.Spacer,{}),(0,t.jsx)("div",{children:r})]})},L=()=>{let e=(0,_.useTranslate)("header.main_navigation.about"),{track:i}=(0,E.useTracking)(),{isPressMenuEnabled:r,isSustainabilityMenuEnabled:s,newsroomUrl:a,sustainabilityLandingPageUrl:n}=(0,R.useCompanyWeb)(),l=(0,g.useFeatureSwitch)("jobs_page"),o=(0,g.useFeatureSwitch)("new_jobs_career_portal"),c=(0,g.useFeatureSwitch)("web_portal_accessibility_landing_page");return(0,t.jsxs)(C,{title:e("company.title"),children:[(0,t.jsx)(w,{title:e("company.items.about"),url:"/about"}),l&&(0,t.jsx)(w,{testId:"jobs-link-header",title:e("company.items.jobs"),url:o?"https://careers.vinted.com/":"/jobs"}),s&&(0,t.jsx)(w,{title:e("company.items.sustainability"),url:n,onClick:()=>{i((0,y.clickEvent)({target:"sustainability_page_link",targetDetails:"navigation_web"}))}}),r&&(0,t.jsx)(w,{title:e("company.items.press"),url:a,testId:"press-link"}),(0,t.jsx)(w,{title:e("company.items.advertising"),url:"/advertising"}),c&&(0,t.jsx)(w,{title:e("company.items.accessibility"),url:"/accessibility",testId:"accessibility-link-header"})]})},k=e=>{let{isBusinessAccountLinksVisible:i}=e,r=(0,_.useTranslate)("header.main_navigation.about"),{track:s}=(0,E.useTracking)(),a=(0,g.useFeatureSwitch)("web_item_verification_page_link");return(0,t.jsxs)(C,{title:r("discover.title"),children:[(0,t.jsx)(w,{title:r("discover.items.how_it_works"),url:"/how_it_works"}),a&&(0,t.jsx)(w,{title:r("discover.items.item_verification"),url:"/item_verification"}),(0,t.jsx)(w,{title:r("discover.items.app"),url:"/app"}),(0,t.jsx)(w,{title:r("discover.items.help"),url:"/help",onClick:()=>{s((0,y.clickEvent)({target:"help_center",screen:"about_menu"}))}}),(0,t.jsx)(w,{title:r("discover.items.infoboard"),url:"/infoboard"}),i&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(w,{title:r("discover.items.pro"),url:"/pro",testId:"about-panel-vinted-pro-link"}),(0,t.jsx)(w,{title:r("discover.items.pro_guide"),url:"/pro-guide",testId:"about-panel-vinted-pro-guide-link"})]})]})};var N=e.i(93205);let O=e=>{let{impressumUrl:i,isBusinessAccountLinksVisible:r}=e,s=(0,_.useTranslate)("header.main_navigation.about"),a=(0,g.useFeatureSwitch)("pro_terms_and_conditions_enabled"),n=(0,g.useFeatureSwitch)("privacy_policy_update"),l=n?N.PRIVACY_CENTER_URL:"/privacy-policy";return(0,t.jsxs)(C,{title:s("policies.title"),children:[(0,t.jsx)(w,{title:s("policies.items.safety"),url:"/safety"}),i&&(0,t.jsx)(w,{title:s("policies.items.impressum"),url:i}),(0,t.jsx)(w,{title:s(n?"policies.items.privacy_center":"policies.items.privacy_policy"),url:l}),(0,t.jsx)(w,{title:s("policies.items.terms_and_conditions"),url:"/terms_and_conditions"}),(0,t.jsx)(w,{title:s("policies.items.cookie_policy"),url:"/cookie-policy"}),r?a?(0,t.jsx)(w,{title:s("policies.items.pro_terms_and_conditions"),url:"/pro-terms-and-conditions"}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(w,{title:s("policies.items.pro_terms_of_sale"),url:"/pro-terms-of-sale"}),(0,t.jsx)(w,{title:s("policies.items.pro_terms_of_use"),url:"/pro-terms-of-use"})]}):null]})};var U=e.i(485705),P=e.i(354392),D=e.i(366824);let M=()=>{let e=(0,_.useTranslate)("header.main_navigation.about"),{track:i}=(0,E.useTracking)(),{isCookieConsentVersion:r}=(0,U.useConsent)();return r&&(0,t.jsx)(C,{title:e("privacy.title"),children:(0,t.jsx)(w,{title:e("privacy.items.cookies"),url:D.NAVIGATION_COOKIES_URL,onClick:e=>{e.preventDefault(),(0,P.toggleOneTrustInfoDisplay)(),i((0,y.clickEvent)({target:"cookie_settings",screen:"about_menu"}))},testId:"about-panel-cookie-settings-button"})})},B=e=>{let{impressumUrl:i,isBusinessAccountLinksVisible:r}=e,s=(0,o.useMemo)(()=>({boldHover:!0}),[]);return(0,t.jsx)(I.Provider,{value:s,children:(0,t.jsxs)("div",{className:"catalog-dropdown__navigated-container u-flex-wrap",children:[(0,t.jsx)("div",{className:"catalog-dropdown__level1-container",children:(0,t.jsx)(k,{isBusinessAccountLinksVisible:r})}),(0,t.jsx)("div",{className:"catalog-dropdown__level1-container",children:(0,t.jsx)(L,{})}),(0,t.jsx)("div",{className:"catalog-dropdown__level1-container",children:(0,t.jsx)(O,{impressumUrl:i,isBusinessAccountLinksVisible:r})}),(0,t.jsx)("div",{className:"catalog-dropdown__level1-container",children:(0,t.jsx)(M,{})})]})})};e.s(["default",0,e=>{let{tree:p,impressumUrl:f,isBusinessAccountLinksVisible:v,isOurPlatformVisible:x,isShoppingAssistantVisible:S}=e,b=(0,_.useTranslate)("header.main_navigation"),j=(0,u.useTrackAbTestCallback)(),y=(0,g.useFeatureSwitch)("api_gateway_navigation_catalog_feature"),E=(0,d.useAbTest)("api_gateway_navigation_catalog");(0,h.useTrackAbTest)(E,y);let R=(0,d.useAbTest)("web_remove_about_our_platform"),I=(null==R?void 0:R.variant)==="on";(0,h.useTrackAbTest)(R,!0);let w=(0,o.useRef)(null),[A,C]=(0,o.useState)(0),L=0!==A,k={isFloaterVisible:L,shouldAutoUpdate:!0,strategy:"fixed",middleware:[(0,a.offset)({mainAxis:1})]},N=(0,n.useFloating)(k),O=(0,n.useFloating)(k),U=(0,o.useMemo)(()=>p.find(e=>e.id===A),[A,p]);(0,o.useEffect)(()=>{p.forEach(e=>{e.experiment&&j(e.experiment)})},[p,j]);let P=e=>{-2!==e&&C(e)},D=()=>C(0),M=(0,m.useDebounce)(P,250,!1),F=(0,m.useDebounce)(D,300,!1),W=e=>{F.cancel(),P(e)},z=e=>{F.cancel(),M(e)},H=()=>{M.cancel(),F()},V=e=>()=>W(e),G=[];I||G.push({id:-1,children:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"u-fill-width u-fill-height u-flexbox u-align-items-center u-justify-content-center",onMouseEnter:()=>{L?W(-1):z(-1)},children:(0,t.jsx)(s.Text,{text:b("tabs.about"),as:"span",alignment:"center",width:"parent",type:"subtitle",theme:-1===A?"amplified":void 0,testId:"first-category-about"})}),-1===A&&(0,t.jsx)("div",{onMouseLeave:H,onMouseEnter:F.cancel,ref:N.floaterRef,style:N.floaterStyle,className:"u-fill-width",children:(0,t.jsx)(i.Cell,{children:(0,t.jsx)("div",{className:"container catalog-dropdown__container",children:(0,t.jsx)(B,{impressumUrl:f,isBusinessAccountLinksVisible:v})})})})]})}),!I&&x&&G.push({id:-2,children:(0,t.jsx)("a",{className:"nav-links",href:"/our-platform",children:(0,t.jsx)(s.Text,{text:b("tabs.platform"),as:"span",alignment:"center",type:"subtitle",testId:"first-category-platform"})})}),S&&G.push({id:-3,children:(0,t.jsx)("a",{className:"nav-links",href:"/shopping_assistant",children:(0,t.jsxs)("div",{className:"u-flexbox u-justify-content-center u-align-items-center u-gap-small",children:[(0,t.jsx)(l.Icon,{name:c.AiSparkles16,color:"primary-default"}),(0,t.jsx)(s.Text,{text:b("tabs.shopping_assistant"),as:"span",alignment:"left",type:"subtitle",testId:"first-category-ai-shopping-assistant",theme:"primary",bold:!0})]})})});let $=(0,o.useMemo)(()=>p.filter(e=>!e.is_hidden),[p]);return(0,t.jsxs)("div",{ref:w,onBlurCapture:()=>{setTimeout(()=>{var e;let t=document.activeElement;t&&(null==(e=w.current)?void 0:e.contains(t))||D()},0)},children:[L&&(0,t.jsx)("div",{ref:O.floaterRef,style:O.floaterStyle,className:"catalog-dropdown__background",role:"none",onClick:V(0)}),(0,t.jsx)("nav",{"data-testid":"nav-tabs",ref:N.triggerRef,onMouseLeave:H,children:(0,t.jsx)("div",{ref:O.triggerRef,children:(0,t.jsx)(r.Tabs,{onClick:e=>V(e.id)(),activeItemId:A,items:$.map(e=>({id:e.id,children:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"u-fill-width u-fill-height u-flexbox u-align-items-center u-justify-content-center",onMouseEnter:()=>{L?W(e.id):z(e.id)},children:(0,t.jsx)(s.Text,{text:e.title,as:"span",alignment:"center",width:"parent",type:"subtitle",theme:A===e.id?"amplified":void 0,testId:`first-category-${e.id}`})}),e.id===(null==U?void 0:U.id)&&(0,t.jsx)("div",{onMouseLeave:H,onMouseEnter:F.cancel,ref:N.floaterRef,style:N.floaterStyle,className:"u-fill-width",children:(0,t.jsx)(i.Cell,{children:(0,t.jsx)("div",{className:"container catalog-dropdown__container",children:(0,t.jsx)(T,{category:U})})})})]})})).concat(...G)})})})]})}],486350)},780002,e=>{"use strict";let t,i,r,s;var a,n,l,o,c=e.i(549539),u=e.i(868275);function d(e,t){if(null==e)return!1;try{return e instanceof t||Object.getPrototypeOf(e)[Symbol.toStringTag]===t.prototype[Symbol.toStringTag]}catch{return!1}}e.i(376054),e.i(136927),e.i(550475),e.i(42297),e.i(474754),"undefined"!=typeof navigator&&(null==(n=navigator.userAgent)||null==(a=n.startsWith)?void 0:a.call(n,"Mozilla/5.0 "))||(t="oauth4webapi/v3.5.0");let h="ERR_INVALID_ARG_VALUE",m="ERR_INVALID_ARG_TYPE";function _(e,t,i){let r=TypeError(e,{cause:i});return Object.assign(r,{code:t}),r}let g=Symbol(),p=Symbol(),f=Symbol(),v=Symbol();Symbol(),Symbol(),Symbol(),new TextEncoder,new TextDecoder;class x extends Error{constructor(e,t){var i,r;super(e,t),(0,u._)(this,"code",void 0),this.name=this.constructor.name,this.code=M,null==(i=(r=Error).captureStackTrace)||i.call(r,this,this.constructor)}}class S extends Error{constructor(e,t){var i,r;super(e,t),(0,u._)(this,"code",void 0),this.name=this.constructor.name,(null==t?void 0:t.code)&&(this.code=null==t?void 0:t.code),null==(i=(r=Error).captureStackTrace)||i.call(r,this,this.constructor)}}function b(e,t,i){return new S(e,{code:t,cause:i})}function j(e){return e.includes("//")?e.replace("//","/"):e}async function y(e,i,r,s){if(!(e instanceof URL))throw _(`"${i}" must be an instance of URL`,m);C(e,(null==s?void 0:s[g])!==!0);let a=r(new URL(e.href)),n=function(e){d(e,Headers)&&(e=Object.fromEntries(e.entries()));let i=new Headers(e);if(t&&!i.has("user-agent")&&i.set("user-agent",t),i.has("authorization"))throw _('"options.headers" must not include the "authorization" header name',h);return i}(null==s?void 0:s.headers);return n.set("accept","application/json"),((null==s?void 0:s[v])||fetch)(a.href,{body:void 0,headers:Object.fromEntries(n.entries()),method:"GET",redirect:"manual",signal:(null==s?void 0:s.signal)?function(e){if("function"==typeof e&&(e=e()),!(e instanceof AbortSignal))throw _('"options.signal" must return or be an instance of AbortSignal',m);return e}(s.signal):void 0})}async function E(e,t){return y(e,"issuerIdentifier",e=>{switch(null==t?void 0:t.algorithm){case void 0:case"oidc":e.pathname=j(`${e.pathname}/.well-known/openid-configuration`);break;case"oauth2":"/"===e.pathname?e.pathname=".well-known/oauth-authorization-server":e.pathname=j(`.well-known/oauth-authorization-server/${e.pathname}`);break;default:throw _('"options.algorithm" must be "oidc" (default), or "oauth2"',h)}return e},t)}function T(e,t,i,r){try{if("string"!=typeof e)throw _(`${t} must be a string`,m,r);if(0===e.length)throw _(`${t} must not be empty`,h,r)}catch(e){if(i)throw b(e.message,i,r);throw e}}async function R(e,t){if(!(e instanceof URL)&&e!==q)throw _('"expectedIssuerIdentifier" must be an instance of URL',m);if(!d(t,Response))throw _('"response" must be an instance of Response',m);if(200!==t.status)throw b('"response" is not a conform Authorization Server Metadata response (unexpected HTTP status code)',H,t);var i=t;if(i.bodyUsed)throw _('"response" body has been used already',h);let r=await Y(t);if(T(r.issuer,'"response" body "issuer" property',W,{body:r}),e!==q&&new URL(r.issuer).href!==e.href)throw b('"response" body "issuer" property does not match the expected value',$,{expected:e.href,body:r,attribute:"issuer"});return r}function I(e){var t,i=e,r="application/json";if((null==(t=i.headers.get("content-type"))?void 0:t.split(";")[0])!==r)throw function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];let s='"response" content-type must be ';if(i.length>2){let e=i.pop();s+=`${i.join(", ")}, or ${e}`}else 2===i.length?s+=`${i[0]} or ${i[1]}`:s+=i[0];return b(s,z,e)}(i,r)}function w(e){return T(e,'"clientSecret"'),(t,i,r,s)=>{r.set("client_id",i.client_id),r.set("client_secret",e)}}let A=URL.parse?(e,t)=>URL.parse(e,t):(e,t)=>{try{return new URL(e,t)}catch{return null}};function C(e,t){if(t&&"https:"!==e.protocol)throw b("only requests to HTTPS are allowed",V,e);if("https:"!==e.protocol&&"http:"!==e.protocol)throw b("only HTTP and HTTPS requests are allowed",G,e)}function L(e,t,i,r){let s;if("string"!=typeof e||!(s=A(e)))throw b(`authorization server metadata does not contain a valid ${i?`"as.mtls_endpoint_aliases.${t}"`:`"as.${t}"`}`,void 0===e?J:K,{attribute:i?`mtls_endpoint_aliases.${t}`:t});return C(s,r),s}new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakSet,new WeakSet;class k extends Error{constructor(e,t){var i,r;super(e,t),(0,u._)(this,"cause",void 0),(0,u._)(this,"code",void 0),(0,u._)(this,"error",void 0),(0,u._)(this,"status",void 0),(0,u._)(this,"error_description",void 0),(0,u._)(this,"response",void 0),this.name=this.constructor.name,this.code=D,this.cause=t.cause,this.error=t.cause.error,this.status=t.response.status,this.error_description=t.cause.error_description,Object.defineProperty(this,"response",{enumerable:!1,value:t.response}),null==(i=(r=Error).captureStackTrace)||i.call(r,this,this.constructor)}}class N extends Error{constructor(e,t){var i,r,s;super(e,t),(0,u._)(this,"cause",void 0),(0,u._)(this,"code",void 0),(0,u._)(this,"error",void 0),(0,u._)(this,"error_description",void 0),this.name=this.constructor.name,this.code=B,this.cause=t.cause,this.error=t.cause.get("error"),this.error_description=null!=(s=t.cause.get("error_description"))?s:void 0,null==(i=(r=Error).captureStackTrace)||i.call(r,this,this.constructor)}}class O extends Error{constructor(e,t){var i,r;super(e,t),(0,u._)(this,"cause",void 0),(0,u._)(this,"code",void 0),(0,u._)(this,"response",void 0),(0,u._)(this,"status",void 0),this.name=this.constructor.name,this.code=P,this.cause=t.cause,this.status=t.response.status,this.response=t.response,Object.defineProperty(this,"response",{enumerable:!1}),null==(i=(r=Error).captureStackTrace)||i.call(r,this,this.constructor)}}let U="[a-zA-Z0-9!#$%&\\'\\*\\+\\-\\.\\^_`\\|~]+";RegExp("^[,\\s]*("+U+")\\s(.*)"),RegExp("^[,\\s]*("+U+')\\s*=\\s*"((?:[^"\\\\]|\\\\.)*)"[,\\s]*(.*)'),RegExp("^[,\\s]*"+("("+U+")\\s*=\\s*(")+U+")[,\\s]*(.*)"),RegExp("^([a-zA-Z0-9\\-\\._\\~\\+\\/]+[=]{0,2})(?:$|[,\\s])(.*)"),Symbol(),new WeakMap,new WeakMap,new WeakSet,Symbol(),Symbol();let P="OAUTH_WWW_AUTHENTICATE_CHALLENGE",D="OAUTH_RESPONSE_BODY_ERROR",M="OAUTH_UNSUPPORTED_OPERATION",B="OAUTH_AUTHORIZATION_RESPONSE_ERROR",F="OAUTH_PARSE_ERROR",W="OAUTH_INVALID_RESPONSE",z="OAUTH_RESPONSE_IS_NOT_JSON",H="OAUTH_RESPONSE_IS_NOT_CONFORM",V="OAUTH_HTTP_REQUEST_FORBIDDEN",G="OAUTH_REQUEST_PROTOCOL_FORBIDDEN",$="OAUTH_JSON_ATTRIBUTE_COMPARISON_FAILED",J="OAUTH_MISSING_SERVER_METADATA",K="OAUTH_INVALID_SERVER_METADATA";async function Y(e){var t;let i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:I;try{i=await e.json()}catch(t){throw r(e),b('failed to parse "response" body as JSON',F,t)}if(!(!(null===(t=i)||"object"!=typeof t||Array.isArray(t))&&1))throw b('"response" body must be a top level object',W,{body:i});return i}Symbol(),Symbol(),Symbol();let q=Symbol(),Z=Symbol();new TextEncoder,new TextDecoder;class Q extends Error{constructor(e,t){var i,r;super(e,t),(0,u._)(this,"code","ERR_JOSE_GENERIC"),this.name=this.constructor.name,null==(i=(r=Error).captureStackTrace)||i.call(r,this,this.constructor)}}(0,u._)(Q,"code","ERR_JOSE_GENERIC"),(0,u._)(class extends Q{constructor(e,t,i="unspecified",r="unspecified"){super(e,{cause:{claim:i,reason:r,payload:t}}),(0,u._)(this,"code","ERR_JWT_CLAIM_VALIDATION_FAILED"),(0,u._)(this,"claim",void 0),(0,u._)(this,"reason",void 0),(0,u._)(this,"payload",void 0),this.claim=i,this.reason=r,this.payload=t}},"code","ERR_JWT_CLAIM_VALIDATION_FAILED"),(0,u._)(class extends Q{constructor(e,t,i="unspecified",r="unspecified"){super(e,{cause:{claim:i,reason:r,payload:t}}),(0,u._)(this,"code","ERR_JWT_EXPIRED"),(0,u._)(this,"claim",void 0),(0,u._)(this,"reason",void 0),(0,u._)(this,"payload",void 0),this.claim=i,this.reason=r,this.payload=t}},"code","ERR_JWT_EXPIRED"),(0,u._)(class extends Q{constructor(...e){super(...e),(0,u._)(this,"code","ERR_JOSE_ALG_NOT_ALLOWED")}},"code","ERR_JOSE_ALG_NOT_ALLOWED"),(0,u._)(class extends Q{constructor(...e){super(...e),(0,u._)(this,"code","ERR_JOSE_NOT_SUPPORTED")}},"code","ERR_JOSE_NOT_SUPPORTED"),(0,u._)(class extends Q{constructor(e="decryption operation failed",t){super(e,t),(0,u._)(this,"code","ERR_JWE_DECRYPTION_FAILED")}},"code","ERR_JWE_DECRYPTION_FAILED"),(0,u._)(class extends Q{constructor(...e){super(...e),(0,u._)(this,"code","ERR_JWE_INVALID")}},"code","ERR_JWE_INVALID"),(0,u._)(class extends Q{constructor(...e){super(...e),(0,u._)(this,"code","ERR_JWS_INVALID")}},"code","ERR_JWS_INVALID"),(0,u._)(class extends Q{constructor(...e){super(...e),(0,u._)(this,"code","ERR_JWT_INVALID")}},"code","ERR_JWT_INVALID"),(0,u._)(class extends Q{constructor(...e){super(...e),(0,u._)(this,"code","ERR_JWK_INVALID")}},"code","ERR_JWK_INVALID"),(0,u._)(class extends Q{constructor(...e){super(...e),(0,u._)(this,"code","ERR_JWKS_INVALID")}},"code","ERR_JWKS_INVALID"),(0,u._)(class extends Q{constructor(e="no applicable key found in the JSON Web Key Set",t){super(e,t),(0,u._)(this,"code","ERR_JWKS_NO_MATCHING_KEY")}},"code","ERR_JWKS_NO_MATCHING_KEY"),(0,u._)(class extends Q{constructor(e="multiple matching keys found in the JSON Web Key Set",t){super(e,t),(0,u._)(this,Symbol.asyncIterator,void 0),(0,u._)(this,"code","ERR_JWKS_MULTIPLE_MATCHING_KEYS")}},"code","ERR_JWKS_MULTIPLE_MATCHING_KEYS"),(0,u._)(class extends Q{constructor(e="request timed out",t){super(e,t),(0,u._)(this,"code","ERR_JWKS_TIMEOUT")}},"code","ERR_JWKS_TIMEOUT"),(0,u._)(class extends Q{constructor(e="signature verification failed",t){super(e,t),(0,u._)(this,"code","ERR_JWS_SIGNATURE_VERIFICATION_FAILED")}},"code","ERR_JWS_SIGNATURE_VERIFICATION_FAILED"),"undefined"!=typeof navigator&&(null==(o=navigator.userAgent)||null==(l=o.startsWith)?void 0:l.call(o,"Mozilla/5.0 "))||(i={"user-agent":"openid-client/v6.4.2"});let X="ERR_INVALID_ARG_VALUE",ee="ERR_INVALID_ARG_TYPE";function et(e,t,i){let r=TypeError(e,{cause:i});return Object.assign(r,{code:t}),r}class ei extends Error{constructor(e,t){var i,r;super(e,t),(0,u._)(this,"code",void 0),this.name=this.constructor.name,this.code=null==t?void 0:t.code,null==(i=(r=Error).captureStackTrace)||i.call(r,this,this.constructor)}}function er(e,t,i){return new ei(e,{cause:t,code:i})}function es(e){if(e instanceof TypeError||e instanceof ei||e instanceof k||e instanceof N||e instanceof O)throw e;if(e instanceof S)switch(e.code){case V:throw er("only requests to HTTPS are allowed",e,e.code);case G:throw er("only requests to HTTP or HTTPS are allowed",e,e.code);case H:throw er("unexpected HTTP response status code",e.cause,e.code);case z:throw er("unexpected response content-type",e.cause,e.code);case F:throw er("parsing error occured",e,e.code);case W:throw er("invalid response encountered",e,e.code);case"OAUTH_JWT_CLAIM_COMPARISON_FAILED":throw er("unexpected JWT claim value encountered",e,e.code);case $:throw er("unexpected JSON attribute value encountered",e,e.code);case"OAUTH_JWT_TIMESTAMP_CHECK_FAILED":throw er("JWT timestamp claim value failed validation",e,e.code);default:throw er(e.message,e,e.code)}if(e instanceof x)throw er("unsupported operation",e,e.code);if(e instanceof DOMException)switch(e.name){case"OperationError":throw er("runtime operation error",e,M);case"NotSupportedError":throw er("runtime unsupported operation",e,M);case"TimeoutError":throw er("operation timed out",e,"OAUTH_TIMEOUT");case"AbortError":throw er("operation aborted",e,"OAUTH_ABORT")}throw new ei("something went wrong",{cause:e})}async function ea(e,t,i,s,a){let n=new eo(await en(e,a),t,i,s),l=r.get(n);if((null==a?void 0:a[v])&&(l.fetch=a[v]),(null==a?void 0:a.timeout)&&(l.timeout=a.timeout),null==a?void 0:a.execute)for(let e of a.execute)e(n);return n}async function en(e,t){var r,s,a;if(!(e instanceof URL))throw et('"server" must be an instance of URL',ee);let n=!e.href.includes("/.well-known/"),l=null!=(s=null==t?void 0:t.timeout)?s:30,o=AbortSignal.timeout(1e3*l),c=await (n?E(e,{algorithm:null==t?void 0:t.algorithm,[v]:null==t?void 0:t[v],[g]:null==t||null==(r=t.execute)?void 0:r.includes(ec),signal:o,headers:new Headers(i)}):((null==t?void 0:t[v])||fetch)((C(e,null==t||null==(a=t.execute)||!a.includes(ec)),e.href),{headers:Object.fromEntries(new Headers({accept:"application/json",...i}).entries()),body:void 0,method:"GET",redirect:"manual",signal:o})).then(e=>R(q,e)).catch(es);return n&&new URL(c.issuer).href!==e.href&&("https://login.microsoftonline.com"===e.origin&&(null==t||!t.algorithm||"oidc"===t.algorithm)&&(c[el]=!0,1)||e.hostname.endsWith(".b2clogin.com")&&(null==t||!t.algorithm||"oidc"===t.algorithm)||0||(()=>{throw new ei("discovered metadata issuer does not match the expected issuer",{code:$,cause:{expected:e.href,body:c,attribute:"issuer"}})})()),c}new TextDecoder;let el=Symbol();class eo{serverMetadata(){let e=structuredClone(r.get(this).as);return Object.defineProperties(e,{supportsPKCE:{__proto__:null,value(){var t;let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"S256";return(null==(t=e.code_challenge_methods_supported)?void 0:t.includes(i))===!0}}}),e}clientMetadata(){return structuredClone(r.get(this).c)}get timeout(){return r.get(this).timeout}set timeout(e){r.get(this).timeout=e}get[v](){return r.get(this).fetch}set[v](e){r.get(this).fetch=e}constructor(e,t,i,a){var n,l;let o;if("string"!=typeof t||!t.length)throw et('"clientId" must be a non-empty string',ee);if("string"==typeof i&&(i={client_secret:i}),(null==i?void 0:i.client_id)!==void 0&&t!==i.client_id)throw et('"clientId" and "metadata.client_id" must be the same',X);const c={...structuredClone(i),client_id:t};c[p]=null!=(n=null==i?void 0:i[p])?n:0,c[f]=null!=(l=null==i?void 0:i[f])?l:30,o=a||("string"==typeof c.client_secret&&c.client_secret.length?function(e){return void 0!==e?w(e):(s||(s=new WeakMap),(e,t,i,r)=>{let a;return(a=s.get(t))||(function(e,t){if("string"!=typeof e)throw et(`${t} must be a string`,ee);if(0===e.length)throw et(`${t} must not be empty`,X)}(t.client_secret,'"metadata.client_secret"'),a=w(t.client_secret),s.set(t,a)),a(e,t,i,r)})}(c.client_secret):(e,t,i,r)=>{i.set("client_id",t.client_id)});let u=Object.freeze(c);const d=structuredClone(e);el in e&&(d[Z]=t=>{let{claims:{tid:i}}=t;return e.issuer.replace("{tenantid}",i)});let h=Object.freeze(d);r||(r=new WeakMap),r.set(this,{__proto__:null,as:h,c:u,auth:o,tlsOnly:!0,jwksCache:{}})}}function ec(e){r.get(e).tlsOnly=!1}Object.freeze(eo.prototype),Symbol();var eu=e.i(459831),ed=e.i(449155),eh=e.i(532564),em=e.i(374048),e_=e.i(948176),eg=e.i(790797),ep=e.i(126928),ef=e.i(805579),ev=e.i(969230),ex=e.i(302804),eS=e.i(912194),eb=e.i(302543);e.s(["default",0,()=>{let e=(0,ex.useRefUrl)(),t=(0,eh.useTranslate)(),{track:i}=(0,ed.useTracking)(),s=(0,eS.useOpenAuthFlow)(),a=(0,e_.useFeatureSwitch)("svc_iam_oauth_web"),n=(0,ef.useEnvs)("SVC_IAM_OAUTH_URL"),{relativeUrl:l,baseUrl:o}=(0,eg.useBrowserNavigation)(),u=l.startsWith("/member/login")||l.startsWith("/member/register")||l.startsWith("/member/signup"),d=async()=>(function(e,t){var i,s=e;if(!(s instanceof eo))throw et('"config" must be an instance of Configuration',ee);if(Object.getPrototypeOf(s)!==eo.prototype)throw et("subclassing Configuration is not allowed",X);let{as:a,c:n,tlsOnly:l,hybrid:o,jarm:c}=r.get(e),u=(i="authorization_endpoint",L(a[i],i,!1,l));for(let[e,i]of((t=new URLSearchParams(t)).has("client_id")||t.set("client_id",n.client_id),t.has("request_uri")||t.has("request")||(t.has("response_type")||t.set("response_type",o?"code id_token":"code"),c&&t.set("response_mode","jwt")),t.entries()))u.searchParams.append(e,i);return u})(await ea(new URL(n||""),"web"),{redirect_uri:`${o}/web/api/auth/callback`,scope:"offline_access user offline",state:function(e){if("string"==typeof e)try{let t=atob(e.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"")),i=new Uint8Array(t.length);for(let e=0;e<t.length;e++)i[e]=t.charCodeAt(e);return i}catch(e){throw _("The input to be decoded is not correctly encoded.",h,e)}var t=e;t instanceof ArrayBuffer&&(t=new Uint8Array(t));let i=[];for(let e=0;e<t.byteLength;e+=32768)i.push(String.fromCharCode.apply(null,t.subarray(e,e+32768)));return btoa(i.join("")).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}(crypto.getRandomValues(new Uint8Array(32)))}).toString();async function m(e){if(i((0,ev.clickEvent)({target:"login"})),a){e.preventDefault();let t=await d();(0,ep.navigateToPage)(t);return}u||(e.preventDefault(),s())}return(0,c.jsx)(eu.Button,{text:t("header.actions.login"),size:"small",url:`${eb.SIGNUP_URL}?${(0,em.toUrlQuery)({ref_url:e})}`,onClick:m,testId:"header--login-button"})}],780002)},136394,e=>{"use strict";var t=e.i(549539),i=e.i(197262);let r=e=>{let{title:t,titleId:r,...s}=e;return i.createElement("svg",{viewBox:"0 0 24 24",width:24,height:24,"aria-labelledby":r,...s},t?i.createElement("title",{id:r},t):null,i.createElement("path",{d:"M4.5 17.5c0-2.08 1.71-3.18 1.77-3.21l.73-.44V9a5.5 5.5 0 0 1 11 0v4l.01.84.7.44a4.01 4.01 0 0 1 1.79 3.22zm8 3a2.5 2.5 0 0 1-2.29-1.5h4.58a2.5 2.5 0 0 1-2.29 1.5m7-7.5V9a7 7 0 1 0-14 0v4S3 14.5 3 17.5c0 .83.67 1.5 1.5 1.5h4.14a4 4 0 0 0 7.72 0h4.14c.83 0 1.5-.67 1.5-1.5 0-3-2.5-4.5-2.5-4.5"}))};r.Size=24,r.Title="Bell";var s=e.i(135528),a=e.i(459831),n=e.i(739800),l=e.i(650424),o=e.i(449155),c=e.i(532564),u=e.i(272821),d=e.i(399103),h=e.i(996888);let m="/member/notifications";var _=e.i(654593),g=e.i(589582),p=e.i(65963),f=e.i(528024),v=e.i(924348),x=e.i(598449),S=e.i(154490),b=e.i(225293),j=e.i(925049),y=e.i(203098),E=e.i(461921);let T=e=>{let{notifications:i,isLoading:r}=e,s=(0,c.useTranslate)(),{track:n}=(0,o.useTracking)(),l=(0,x.useAsset)("/assets/animations"),{trackNotificationClick:u,trackNotificationEnter:d}=(0,y.default)();return r?(0,t.jsx)("div",{className:"u-ui-margin-x-large u-flexbox u-justify-content-center","data-testid":"loader",children:(0,t.jsx)(p.Loader,{size:"large"})}):i.length?(0,t.jsxs)("div",{children:[(0,t.jsx)(b.ScrollableArea,{children:(0,t.jsx)("div",{className:"header-notification-dropdown__container",children:(0,t.jsx)(j.SeparatedList,{separator:(0,t.jsx)(g.Divider,{}),children:i.map(function(e){return(0,t.jsx)(E.default,{notification:e,onEnter:d(e,S.InboxNotificationImpressionSource.InboxNotificationsDropdown),onClick:u(e),defaultHighlighted:!e.isViewed},e.id)})})})}),(0,t.jsx)("div",{className:"header-notification-dropdown__button-container",children:(0,t.jsx)(a.Button,{testId:"header-notification-see-all-button",onClick:()=>{n((0,h.clickEvent)({target:"header_inbox_notifications_see_all"}))},url:m,text:s("header.notifications.see_all"),size:"medium"})})]}):(0,t.jsxs)("div",{className:"u-ui-margin-vertical-x-large u-ui-margin-horizontal-x2-large u-flexbox u-flex-direction-column u-align-items-center",children:[(0,t.jsx)(f.Spacer,{}),(0,t.jsx)(_.Animation,{animationUrl:l("notifications-empty-state.json"),size:_.Animation.Size.Large}),(0,t.jsx)(f.Spacer,{size:"large"}),(0,t.jsx)(v.Text,{as:"h2",text:s("header.notifications.empty_state.title"),alignment:"center",type:"title"}),(0,t.jsx)(f.Spacer,{})]})};var R=e.i(593080),I=e.i(549110),w=e.i(951768);e.s(["default",0,()=>{let e=(0,c.useTranslate)("header.a11y.notifications"),{track:_}=(0,o.useTracking)(),[g,p]=(0,i.useState)(!1),{unreadNotificationsCount:f,fetchUnreadNotificationsCount:v}=(()=>{let[e,t]=(0,i.useState)(0),r=(0,i.useCallback)(async()=>{let e=await (0,I.getUnreadInboxNotifications)();if(!e||"errors"in e){var i;let t;return void(t=(null==e||null==(i=e.status)?void 0:i.toString())||"empty_response",w.clientSideMetrics.counter("notifications_count_fetch_failure",{label:t}).increment())}t(e.count)},[]);return(0,i.useEffect)(()=>{r()},[r]),{unreadNotificationsCount:e,fetchUnreadNotificationsCount:r}})(),{notifications:x,fetchInboxNotifications:S,controlNotificationCards:b,setNotifications:j,brazeNotificationCount:y,uiState:E}=(0,R.default)();function A(){g&&(j(e=>e.map(e=>e.isViewed?e:{...e,isViewed:!0})),v()),g||E!==d.UiState.Idle&&E!==d.UiState.Failure||S(),p(!g)}(0,l.useBrazeControlCardImpressionLogging)(g&&b?b.map(e=>{let{id:t}=e;return t}):[]);let C=f+y,L=Math.min(C,99),k=C>99?"+":"";return(0,t.jsxs)(u.OutsideClick,{onOutsideClick:function(){g&&A()},children:[(0,t.jsx)(a.Button,{testId:"header-notification-button",onClick:function(e){e.preventDefault(),_((0,h.clickEvent)({target:"header_inbox_notifications"})),A()},styling:"flat",aria:{"aria-label":C?e("new_notifications",{count:C}):e("notifications")},icon:(0,t.jsx)(n.Icon,{name:r,color:"greyscale-level-2",testId:"header-notifications-icon"}),url:m}),!!L&&(0,t.jsx)("div",{className:"user-actions__notification u-no-pointer-events","data-testid":"header-notifications-badge",children:(0,t.jsx)(s.Badge,{content:(0,t.jsx)("span",{"aria-hidden":"true",children:`${L}${k}`}),theme:"warning"})}),g&&(0,t.jsx)("div",{className:"header-notification-dropdown","data-testid":"header-notification-dropdown",children:(0,t.jsx)(T,{isLoading:E===d.UiState.Pending,notifications:x.slice(0,5)})})]})}],136394)},380513,e=>{"use strict";var t=e.i(549539),i=e.i(449155),r=e.i(739739),s=e.i(767433);e.s(["default",0,e=>{let{onClick:a,...n}=e,{track:l}=(0,i.useTracking)();return(0,t.jsx)("a",{...n,className:"u-block",href:s.ROOT_URL,"data-testid":"header-logo-id",onClick:e=>{l((0,r.clickEvent)({target:"logo"})),null==a||a(e)}})}])},492631,e=>{"use strict";var t=e.i(549539),i=e.i(14305),r=e.i(197262);let s=(0,r.createContext)({isOpen:!1,toggle:i.default}),a=()=>{let e=(0,r.useContext)(s);if(!e)throw Error("useSideNavigationContext must be used within a SideNavigationProvider");return e};e.s(["SideNavigationContextProvider",0,e=>{let[i,a]=(0,r.useState)(!1),n=(0,r.useMemo)(()=>({isOpen:i,toggle:()=>a(e=>!e)}),[i,a]);return(0,t.jsx)(s.Provider,{value:n,...e})},"SideNavigationGuard",0,e=>{let{children:t,condition:i}=e,{isOpen:r}=a();return r&&"open"===i?t:null},"useSideNavigationContext",0,a])},184044,e=>{"use strict";var t=e.i(549539),i=e.i(838124),r=e.i(492631);e.s(["default",0,e=>{let{isOpen:s}=(0,r.useSideNavigationContext)();return(0,t.jsx)("div",{className:(0,i.default)("l-header js-header",{"is-active":s}),...e})}])},819645,e=>{"use strict";var t=e.i(549539),i=e.i(197262);let r=e=>{let{title:t,titleId:r,...s}=e;return i.createElement("svg",{fill:"none",viewBox:"0 0 24 24",width:24,height:24,"aria-labelledby":r,...s},t?i.createElement("title",{id:r},t):null,i.createElement("path",{fill:"currentColor",d:"M1 4.75c0 .414.336.75.75.75h20.5a.75.75 0 0 0 0-1.5H1.75a.75.75 0 0 0-.75.75M1 12a.75.75 0 0 1 .75-.75h20.5a.75.75 0 0 1 0 1.5H1.75A.75.75 0 0 1 1 12m0 7.25a.75.75 0 0 1 .75-.75h20.5a.75.75 0 0 1 0 1.5H1.75a.75.75 0 0 1-.75-.75"}))};r.Size=24,r.Title="Menu";var s=e.i(823287),a=e.i(459831),n=e.i(449155),l=e.i(739739),o=e.i(492631);e.s(["default",0,e=>{let{ariaLabel:i}=e,{track:c}=(0,n.useTracking)(),{isOpen:u,toggle:d}=(0,o.useSideNavigationContext)(),h=u?s.X24:r;return(0,t.jsx)(a.Button,{onClick:function(){c((0,l.clickEvent)({target:"navigation_menu_toggle"})),d()},iconName:h,iconColor:"greyscale-level-3",styling:"flat",aria:{"aria-label":i[u?"close":"open"]}})}],819645)},356623,e=>{"use strict";var t=e.i(549539),i=e.i(459831),r=e.i(449155),s=e.i(739739);e.s(["default",0,e=>{let{track:a}=(0,r.useTracking)();return(0,t.jsx)(i.Button,{...e,styling:"filled",size:"small",rel:"nofollow",onClick:function(){a((0,s.clickEvent)({target:"upload_item"}))}})}])}]);