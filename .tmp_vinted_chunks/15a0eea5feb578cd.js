(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,187243,317166,623516,e=>{"use strict";var t=e.i(786830);e.s(["getItemPricingServices",0,e=>{let{itemId:i}=e;return t.api.get(`/items/${i}/services`)},"getPriceEstimateWithFees",0,e=>t.api.post("offer/estimate_with_fees",e),"getTransactionPricingServices",0,e=>{let{transactionId:i}=e;return t.api.get(`/transactions/${i}/services`)}],187243);let i=e=>{let{amount:t,currency_code:i}=e;return{amount:t,currencyCode:i}};e.s(["transformCurrencyAmountDto",0,i],317166);let r=e=>{var t;return!!(null==e||null==(t=e.final_price)?void 0:t.amount)&&0===Number(e.final_price.amount)},n=e=>"object"==typeof e&&null!==e&&0===Object.keys(e).length,l=(e,t)=>{var l,a,s,c,o;return!e||n(e)?null:{originalPrice:i(e.original_price),finalPrice:i(e.final_price),discount:i(e.discount),discountPercentage:e.discount_percentage,isFree:r(e),discountStartDate:null==(l=e.discount_rule)?void 0:l.start_date,discountEndDate:null==(a=e.discount_rule)?void 0:a.end_date,lowestPrice30Days:e.lowest_price_30_days&&i(e.lowest_price_30_days),landingPageUri:null==(s=e.discount_rule)?void 0:s.landing_page_uri,showPriceRangeRuleNote:!!(null==(o=e.discount_rule)||null==(c=o.additional_info)?void 0:c.show_price_range_rule_note),type:t}};e.s(["transformBuyerProtectionFee",0,e=>l(e,"buyer_protection"),"transformElectronicsVerificationFee",0,e=>l(e,"electronics_verification"),"transformElectronicsVerificationWarrantyFee",0,e=>l(e,"electronics_verification_warranty"),"transformItemVerificationFee",0,e=>l(e,"item_verification"),"transformShippingFee",0,e=>{var t,l;return!e||n(e)?null:{type:"shipping",originalPrice:i(e.original_price),finalPrice:i(e.final_price),discount:i(e.discount),maxDiscountPercentage:null==(l=e.pricing_rule)||null==(t=l.additional_info)?void 0:t.max_discount_percentage,discountPercentage:e.discount_percentage,isFree:r(e)}}],623516)},950627,e=>{"use strict";var t=e.i(549539),i=e.i(366210),r=e.i(18936);e.s(["default",0,e=>{let{isViewingOwnItem:n,...l}=e;return n?(0,t.jsx)(r.default,{...l}):(0,t.jsx)(i.default,{...l})}])},488696,e=>{"use strict";var t=e.i(197262);let i=e=>{let{title:i,titleId:r,...n}=e;return t.createElement("svg",{fill:"none",viewBox:"0 0 32 32",width:32,height:32,"aria-labelledby":r,...n},i?t.createElement("title",{id:r},i):null,t.createElement("path",{fill:"#EDFFE9",d:"M32 16c0 8.836-7.163 16-16 16S0 24.836 0 16 7.164 0 16 0s16 7.163 16 16"}),t.createElement("path",{fill:"#007782",d:"M19.361 8.636a1.5 1.5 0 0 1-1.06-.44l-1.254-1.254a1.5 1.5 0 0 0-2.12 0l-1.255 1.255a1.5 1.5 0 0 1-1.06.439h-2.28a1.5 1.5 0 0 0-1.5 1.5v2.279a1.5 1.5 0 0 1-.44 1.061l-1.466 1.466a1.5 1.5 0 0 0 0 2.122l1.466 1.466c.282.281.44.663.44 1.061v1.861a1.5 1.5 0 0 0 1.5 1.5h1.863a1.5 1.5 0 0 1 1.06.44l1.672 1.672a1.5 1.5 0 0 0 2.12 0l1.672-1.672a1.5 1.5 0 0 1 1.06-.44h1.864a1.5 1.5 0 0 0 1.499-1.5v-1.86c0-.4.158-.78.44-1.062l1.465-1.466a1.5 1.5 0 0 0 0-2.122l-1.465-1.466a1.5 1.5 0 0 1-.44-1.061v-2.279a1.5 1.5 0 0 0-1.5-1.5z"}),t.createElement("path",{fill:"#fff",d:"M16 15.6a.75.75 0 0 0 .75-.75v-3a.75.75 0 0 0-1.5 0v3c0 .414.336.75.75.75"}),t.createElement("path",{fill:"#fff",d:"M11.25 15.85c0-1.202.446-2.299 1.181-3.136.276-.312.757-.263 1.02.06.261.319.207.785-.042 1.113a3.25 3.25 0 1 0 5.182 0c-.25-.328-.303-.794-.042-1.114.264-.322.745-.371 1.02-.059a4.75 4.75 0 1 1-8.319 3.135Z"}))};i.Size=32,i.Title="ElectronicsWarrantyBadgeMultichrome",e.s(["ElectronicsWarrantyBadgeMultichrome32",()=>i],488696)},340338,680445,e=>{"use strict";var t=e.i(549539),i=e.i(197262),r=e.i(145218),n=e.i(449155),l=e.i(702506),a=e.i(980435),s=e.i(14149),c=e.i(382444),o=e.i(459831),d=e.i(86187),u=e.i(990242),m=e.i(206435),x=e.i(589582),f=e.i(924348),h=e.i(307723),p=e.i(532564),_=e.i(628244),v=e.i(771430),g=e.i(187243),y=e.i(317166),j=e.i(623516);let b=e=>{var t;return{services:{buyerProtection:(0,j.transformBuyerProtectionFee)(e.services.buyer_protection),itemVerification:(0,j.transformItemVerificationFee)(e.services.item_verification),shipping:(0,j.transformShippingFee)(e.services.shipping),electronicsVerification:(0,j.transformElectronicsVerificationFee)(e.services.electronics_verification),electronicsVerificationWarranty:(0,j.transformElectronicsVerificationWarrantyFee)(e.services.electronics_verification_warranty),noteTranslationKey:null==(t=e.services.note)?void 0:t.web_note_key},originalAskingAmount:(0,y.transformCurrencyAmountDto)(e.original_asking_amount),offerValue:e.offer_value&&(0,y.transformCurrencyAmountDto)(e.offer_value),totalAmount:(0,y.transformCurrencyAmountDto)(e.total_amount)}};var w=e.i(569144),T=e.i(225293),I=e.i(951768);let k=[.05,.075,.1,.25,.5,.75,1,2.5,5,7.5,10];var E=e.i(739800);let C=e=>{let{title:t,titleId:r,...n}=e;return i.createElement("svg",{fill:"none",viewBox:"0 0 32 32",width:32,height:32,"aria-labelledby":r,...n},t?i.createElement("title",{id:r},t):null,i.createElement("path",{fill:"#C9F0EE",d:"M32 16c0 8.837-7.163 16-16 16S0 24.837 0 16 7.163 0 16 0s16 7.163 16 16"}),i.createElement("path",{fill:"#007782",d:"M15.026 7.977c.45-.143.922-.253 1.375-.253s.926.11 1.375.253c1.53.486 5.78 1.272 5.77 3.384-.007 1.437-.019 3.976-.019 4.64 0 2.021-1.024 3.824-2.198 5.237-1.183 1.423-2.588 2.537-3.509 3.193a2.43 2.43 0 0 1-2.838 0c-.92-.656-2.326-1.77-3.509-3.193-1.173-1.413-2.198-3.215-2.198-5.236 0-.665-.012-3.204-.019-4.641-.01-2.112 4.24-2.898 5.77-3.384m4.886 5.836a.75.75 0 0 0-1.153-.96l-2.807 3.369-1.42-1.42a.75.75 0 0 0-1.06 1.061l2 2a.75.75 0 0 0 1.106-.05z"}))};C.Size=32,C.Title="BuyerProtectionShield";let S=e=>{let{title:t,titleId:r,...n}=e;return i.createElement("svg",{fill:"none",viewBox:"0 0 32 32",width:32,height:32,"aria-labelledby":r,...n},t?i.createElement("title",{id:r},t):null,i.createElement("g",{clipPath:"url(#BuyerProtectionProShield32__a)"},i.createElement("path",{fill:"#C9F0EE",fillRule:"evenodd",d:"M32 16c0 8.84-7.16 16-16 16S0 24.84 0 16 7.16 0 16 0s16 7.16 16 16",clipRule:"evenodd"}),i.createElement("path",{fill:"#007782",fillRule:"evenodd",d:"M16 18.65s-5.56-2-5.56-6.67V7.31l5.56-2 5.56 2v4.67c0 4.67-5.56 6.67-5.56 6.67",clipRule:"evenodd"}),i.createElement("path",{fill:"#C9F0EE",fillRule:"evenodd",d:"m15.56 14.09-2.61-2.58.9-.88 1.72 1.69 3.16-3.12.9.88-4.05 4z",clipRule:"evenodd"}),i.createElement("path",{fill:"#007782",d:"M10 25.89v-4.78h1.966c1.02 0 1.663.594 1.663 1.577s-.631 1.565-1.675 1.565h-.935v1.639zm1.007-2.56h.923c.4 0 .68-.243.68-.655 0-.437-.231-.643-.668-.643h-.935zm5.959.777.97 1.796h-1.091l-.898-1.687h-.62v1.687H14.32V21.12h1.942c1.007 0 1.639.583 1.639 1.542 0 .703-.352 1.213-.935 1.444Zm-1.638-.813h.813c.485 0 .74-.23.74-.643s-.255-.62-.74-.62h-.813zm3.119.206c0-1.505.837-2.5 2.111-2.5s2.124.983 2.124 2.5-.837 2.5-2.124 2.5c-1.286 0-2.111-.983-2.111-2.5m3.216 0c0-.983-.425-1.566-1.105-1.566s-1.104.595-1.104 1.566c0 .97.412 1.566 1.104 1.566s1.105-.583 1.105-1.566"}),i.createElement("path",{stroke:"#007782",strokeMiterlimit:10,strokeWidth:.1,d:"M10 25.89v-4.78h1.966c1.02 0 1.663.594 1.663 1.577s-.631 1.565-1.675 1.565h-.935v1.639zm1.007-2.56h.923c.4 0 .68-.243.68-.655 0-.437-.231-.643-.668-.643h-.935zm5.959.777.97 1.796h-1.091l-.898-1.687h-.62v1.687H14.32V21.12h1.942c1.007 0 1.639.583 1.639 1.542 0 .703-.352 1.213-.935 1.444Zm-1.638-.813h.813c.485 0 .74-.23.74-.643s-.255-.62-.74-.62h-.813zm3.119.206c0-1.505.837-2.5 2.111-2.5s2.124.983 2.124 2.5-.837 2.5-2.124 2.5c-1.286 0-2.111-.983-2.111-2.5Zm3.216 0c0-.983-.425-1.566-1.105-1.566s-1.104.595-1.104 1.566c0 .97.412 1.566 1.104 1.566s1.105-.583 1.105-1.566Z"})),i.createElement("defs",null,i.createElement("clipPath",{id:"BuyerProtectionProShield32__a"},i.createElement("path",{fill:"#fff",d:"M0 0h32v32H0z"}))))};S.Size=32,S.Title="BuyerProtectionProShield";var P=e.i(847969);let F=e=>{let{discountStartDate:i,discountEndDate:n}=e,{formatDate:l,formatTime:a}=(0,r.useIntl)(),s=(0,p.useTranslate)("item_price_breakdown_detailed");if(!i||!n)return null;let c=e=>`${l(e,{day:"numeric",month:"short"})} ${a(e)}`;return(0,t.jsx)(P.List.Item,{children:(0,t.jsx)(f.Text,{as:"div",theme:"muted",type:"subtitle",text:s("promotion_period",{dateFrom:c(i),dateTo:c(n)})})})},D=e=>{let{lowestPrice30Days:i}=e,n=(0,p.useTranslate)("item_price_breakdown_detailed"),{locale:l}=(0,r.useIntl)();return i?(0,t.jsx)(P.List.Item,{children:(0,t.jsx)(f.Text,{as:"div",theme:"muted",type:"subtitle",text:n("lowest_price_in_30_days_header",{amount:(0,s.formatCurrencyAmount)(i,l)})})}):null};var N=e.i(368618);let B=e=>{let{shouldShowDiscount:i,isFree:r,feeTitle:n,infoIcon:l,discountPercentage:a}=e,s=(0,p.useTranslate)("item_price_breakdown_detailed"),c=r?`${s("is_free")}`:`(-${a}%)`,o=`${n} ${i?c:""}`;return(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"u-visually-hidden",children:o}),(0,t.jsx)("span",{"aria-hidden":"true",children:n}),i&&(0,t.jsx)("span",{className:"u-padding-left-small",children:(0,t.jsx)(f.Text,{aria:{"aria-hidden":!0},as:"span",theme:"warning",text:c})}),!!l&&(0,t.jsxs)("span",{className:"u-inline-flex u-padding-left-small u-vertical-middle",children:[(0,t.jsx)("button",{"data-testid":l.testId,onClick:l.onClick,type:"button","aria-label":l.ariaLabel,children:(0,t.jsx)(E.Icon,{name:N.InfoCircle16,color:"greyscale-level-2",display:"block"})}),l.modal]})]})},M=e=>{let{originalPrice:i}=e,{locale:n}=(0,r.useIntl)();return(0,t.jsx)("div",{"aria-hidden":!0,className:"u-padding-right-small",children:(0,t.jsx)(f.Text,{as:"div",theme:"muted",type:"subtitle",strikethrough:!0,text:(0,s.formatCurrencyAmount)(i,n)})})},V=e=>{let{discountNote:i}=e;return i?(0,t.jsx)(P.List.Item,{children:(0,t.jsx)("span",{"data-testid":"discount-note",children:(0,t.jsx)(f.Text,{as:"div",theme:"muted",type:"subtitle",text:i})})}):null},z=e=>{let{noteText:i}=e;return i?(0,t.jsx)(P.List.Item,{children:(0,t.jsx)("div",{className:"u-padding-bottom-small",children:(0,t.jsx)(f.Text,{as:"div",text:i,type:"subtitle",theme:"muted"})})}):null};var A=e.i(38618);let $=e=>{let{landingPageUri:i}=e,r=(0,p.useTranslate)("item_price_breakdown_detailed"),{display_discount_links_in_price_breakdown:n}=(0,A.useFeatureFlags)();return i&&n?(0,t.jsx)(f.Text,{as:"div",type:"subtitle",text:(0,t.jsx)("a",{href:i,target:"_blank",rel:"noopener noreferrer",children:r("discount_terms")}),html:!0}):null},L=e=>{let{feeTitle:i,prefix:n,infoIcon:l,escrowFee:a,discountNote:c,testId:o,noteText:u,hideDiscounts:m,hidePrice:x}=e,{locale:h}=(0,r.useIntl)();if(!a)return null;let{discountPercentage:p,isFree:_,finalPrice:v,originalPrice:g,discountStartDate:y,discountEndDate:j,lowestPrice30Days:b,landingPageUri:w}=a,T=!!p&&!m;return(0,t.jsx)(d.Cell,{testId:o,styling:"narrow",title:(0,t.jsx)(B,{feeTitle:i,isFree:_,discountPercentage:p,shouldShowDiscount:T,infoIcon:l}),prefix:n,body:(0,t.jsxs)(t.Fragment,{children:[!x&&(0,t.jsxs)("div",{className:"u-flexbox u-gap-small",children:[(0,t.jsx)(f.Text,{as:"div",text:(0,s.formatCurrencyAmount)(v,h),type:"title",theme:"amplified"}),T&&(0,t.jsx)(M,{originalPrice:g})]}),(T||u)&&(0,t.jsxs)(P.List,{size:"tight",children:[(0,t.jsx)(z,{noteText:u}),T&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(V,{discountNote:c}),(0,t.jsx)(F,{discountStartDate:y,discountEndDate:j}),(0,t.jsx)(D,{lowestPrice30Days:b}),(0,t.jsx)($,{landingPageUri:w})]})]})]})})};var R=e.i(284069);let K=e=>{let{buyerProtection:r,isSellerBusiness:l,itemId:a,hideDiscounts:s}=e,[o,d]=(0,i.useState)(!1),u=(0,p.useTranslate)("item_price_breakdown_detailed"),{track:m}=(0,n.useTracking)();if(!r)return null;let x=!!(null==r?void 0:r.showPriceRangeRuleNote);return(0,t.jsx)(L,{testId:"item-price-breakdown-service-fee-cell",feeTitle:u(l?"buyer_protection_fee_pro":"buyer_protection_fee"),escrowFee:r,prefix:(0,t.jsx)(E.Icon,{name:l?S:C,aria:{"aria-hidden":"true"}}),infoIcon:{testId:"item-pricing-details-icon",onClick:()=>{d(!0),m((0,c.clickEvent)({screen:"price_breakdown_modal",target:"service_fee_info",targetDetails:JSON.stringify({item_id:a})}))},ariaLabel:u(l?"actions.a11y.buyer_protection_pro_info":"actions.a11y.buyer_protection_info"),modal:(0,t.jsx)(R.default,{isVisible:o,onClose:()=>d(!1),sellerIsBusinessUser:l})},hideDiscounts:s,discountNote:x?u("bpf_price_range_title"):null})};var O=e.i(970528),W=e.i(950627);let H=e=>{let{electronicsVerificationFee:r,hideDiscounts:l,itemId:a,isItemOwner:s}=e,[o,d]=(0,i.useState)(!1),u=(0,p.useTranslate)("item_price_breakdown_detailed"),{track:m}=(0,n.useTracking)();return r?(0,t.jsx)(L,{testId:"item-price-breakdown-electronics-verification-cell",feeTitle:u("electronics_verification"),escrowFee:r,prefix:(0,t.jsx)(E.Icon,{name:O.ElectronicsBadgeMultichrome32,aria:{"aria-hidden":"true"}}),infoIcon:{testId:"electronics-verification-info-icon",ariaLabel:u("actions.a11y.electronics_verification_info"),onClick:()=>{d(!0),m((0,c.clickEvent)({screen:"price_breakdown_modal",target:s?"electronics_verification_seller":"electronics_verification_buyer",targetDetails:JSON.stringify({item_id:a})}))},modal:(0,t.jsx)(W.default,{show:o,verificationFee:r.finalPrice,onClose:()=>d(!1),isViewingOwnItem:s,screen:"price_breakdown_modal"})},hideDiscounts:l,noteText:u(s?"electronics_verification_seller_info":"optional")}):null};var U=e.i(256797);let Z=e=>{let{itemPrice:i,itemTitle:r,itemPhotoSrc:n,itemsCount:l=1}=e,a=l>1,s=a?l.toString():void 0,c=(0,p.useTranslate)("item_price_breakdown_detailed"),o=(0,t.jsx)(f.Text,{type:"title",as:"h2",truncate:!0,children:c("items_count",{count:l},{count:l})}),u=r&&(0,t.jsx)(f.Text,{type:"title",as:"h2",truncate:!0,children:r});return(0,t.jsx)(d.Cell,{testId:"item-price-breakdown-price-cell",styling:"narrow",prefix:n&&(0,t.jsx)("div",{"data-testid":"item-details-img",children:(0,t.jsx)(U.Image,{label:s,src:n,styling:"rounded",ratio:"square",size:"medium",aria:{"aria-hidden":"true"}})}),title:a?o:u,body:(0,t.jsx)(f.Text,{text:i,type:"title",theme:"amplified",as:"div"})})};var J=e.i(694416),q=e.i(289820);let X=e=>{let{itemVerification:r,hideDiscounts:l,itemId:a}=e,[s,o]=(0,i.useState)(!1),d=(0,p.useTranslate)("item_price_breakdown_detailed"),{track:u}=(0,n.useTracking)();return r?(0,t.jsx)(L,{testId:"item-price-breakdown-item-verification-cell",feeTitle:d("item_verification"),escrowFee:r,prefix:(0,t.jsx)(E.Icon,{name:J.AuthenticityDiamond32,aria:{"aria-hidden":"true"}}),infoIcon:{testId:"item-verification-info-icon",ariaLabel:d("actions.a11y.item_verification_info"),onClick:()=>{o(!0),u((0,c.clickEvent)({screen:"price_breakdown_modal",target:"item_verification_fee_info",targetDetails:JSON.stringify({item_id:a})}))},modal:(0,t.jsx)(q.default,{show:s,verificationFee:r.finalPrice,onClose:()=>o(!1)})},hideDiscounts:l,noteText:d("optional")}):null},G=e=>{let{noteTranslationKey:i}=e,r=(0,p.useTranslate)(),{user:n}=(0,w.useSession)();return(null==n?void 0:n.country_code)==="US"?null:(0,t.jsx)(d.Cell,{styling:"narrow",children:(0,t.jsx)(f.Text,{as:"h4",testId:"additional-note",type:"caption",text:r(i)})})},Q=e=>{let{isSellerBusiness:i,additionalNote:r}=e,n=(0,p.useTranslate)("item_price_breakdown_detailed");return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(x.Divider,{}),(0,t.jsxs)(u.Container,{styling:"narrow",children:[r&&(0,t.jsx)(G,{noteTranslationKey:r}),(0,t.jsx)(d.Cell,{styling:"narrow",children:(0,t.jsx)(f.Text,{as:"div",testId:"legal-note",type:"caption",text:n(`legal_note${i?"_pro":""}`)})})]})]})};var Y=e.i(520781),ee=e.i(823287);let et=e=>{let{onClose:i}=e,r=(0,p.useTranslate)("item_price_breakdown_detailed");return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(Y.Navigation,{body:(0,t.jsx)(f.Text,{type:"title",as:"h1",children:r("breakdown_title")}),right:(0,t.jsx)(o.Button,{styling:"flat",iconName:ee.X24,inline:!0,onClick:i,aria:{"aria-label":r("actions.a11y.close")},testId:"item-price-breakdown-navigation-close-button"})}),(0,t.jsx)(x.Divider,{})]})},ei=e=>{let{title:t,titleId:r,...n}=e;return i.createElement("svg",{fill:"none",viewBox:"0 0 32 32",width:32,height:32,"aria-labelledby":r,...n},t?i.createElement("title",{id:r},t):null,i.createElement("g",{clipPath:"url(#Box32__a)"},i.createElement("path",{fill:"#C9F0EE",d:"M16 32c8.837 0 16-7.163 16-16S24.837 0 16 0 0 7.163 0 16s7.163 16 16 16"}),i.createElement("path",{fill:"#007782",d:"M9 9h15v4h-1v10H10V13H9z"}),i.createElement("path",{fill:"#C9F0EE",d:"M17 19h3.5v1.5H17z"})),i.createElement("defs",null,i.createElement("clipPath",{id:"Box32__a"},i.createElement("path",{fill:"#fff",d:"M0 0h32v32H0z"}))))};ei.Size=32,ei.Title="Box";let er=e=>{let{shippingFee:i,hideDiscounts:n}=e,l=(0,p.useTranslate)("item_price_breakdown_detailed.shipping_info"),{locale:a}=(0,r.useIntl)(),c=!n&&!!(null==i?void 0:i.maxDiscountPercentage),o=`${l("title")} ${c?`${l("percentage_discount",{discount:i.maxDiscountPercentage})}`:""}`;return i?(0,t.jsx)(d.Cell,{testId:"item-price-breakdown-shipping-note",styling:"narrow",prefix:(0,t.jsx)(E.Icon,{name:ei}),title:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h2",{className:"u-visually-hidden",children:o}),(0,t.jsxs)("div",{"aria-hidden":"true",className:"u-flexbox u-align-items-center u-gap-small",children:[l("title"),c&&(0,t.jsx)(f.Text,{as:"span",testId:"shipping-details-discount-amount",theme:"warning",text:`${l("percentage_discount",{discount:i.maxDiscountPercentage})}`})]})]}),body:(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{children:(0,t.jsx)(f.Text,{as:"div",type:"title",theme:"amplified",text:`${l("from_price",{price:(0,s.formatCurrencyAmount)(i.finalPrice,a)})}`})}),(0,t.jsx)("div",{children:(0,t.jsx)(f.Text,{as:"div",text:l("text"),type:"subtitle",theme:"muted"})})]})}):(0,t.jsx)(d.Cell,{testId:"item-price-breakdown-static-note",styling:"narrow",prefix:(0,t.jsx)(E.Icon,{name:ei,aria:{"aria-hidden":"true"}}),title:l("title"),body:(0,t.jsx)(f.Text,{as:"div",text:l("text"),type:"subtitle",theme:"muted"})})};var en=e.i(488696),el=e.i(539758),ea=e.i(215065);let es=e=>{let{electronicsVerificationWarranty:r,hideDiscounts:l,isItemOwner:a}=e,s=a?"seller":"buyer",[o,d]=(0,i.useState)(!1),{track:u}=(0,n.useTracking)(),m=(0,p.useTranslate)("item_price_breakdown_detailed");return(0,t.jsx)(L,{testId:"item-price-breakdown-electronics-warranty-cell",feeTitle:m(`electronics_verification_warranty_included.${s}.title`),escrowFee:r,prefix:(0,t.jsx)(E.Icon,{name:en.ElectronicsWarrantyBadgeMultichrome32,aria:{"aria-hidden":"true"}}),infoIcon:{testId:"electronics-verification-warranty-info-icon",onClick:()=>{d(!0),u((0,c.clickWarrantyLearnMoreEvent)({screen:"price_breakdown_modal",target:a?"seller":"buyer"}))},ariaLabel:m(`actions.a11y.electronics_verification_warranty_info.${s}`),modal:a?(0,t.jsx)(ea.default,{show:o,onClose:()=>d(!1)}):(0,t.jsx)(el.default,{show:o,onClose:()=>d(!1)})},hideDiscounts:l,hidePrice:!0,noteText:m(`electronics_verification_warranty_included.${s}.subtitle`)})},ec=e=>{let{isVisible:r,onClose:n,itemPrice:l,itemTitle:a,itemPhotoSrc:s,pricingServices:c,isSellerBusiness:y,isItemOwner:j,transactionId:E,itemId:C,itemsCount:S}=e,P=(0,p.useTranslate)("item_price_breakdown_detailed"),{transformedData:F,fetch:D,isLoading:N}=(0,h.useFetch)(g.getTransactionPricingServices,b),{transformedData:B,fetch:M,isLoading:V}=(0,h.useFetch)(g.getItemPricingServices,b);(0,i.useEffect)(()=>{if(c||!r)return;let e=performance.now(),t=t=>{let{isSuccess:i,flowType:r}=t;(e=>{let{isSuccess:t,flowType:i,loadTime:r}=e;I.clientSideMetrics.histogram("frontend_price_breakdown_load_duration_seconds",{is_success:t,flow_type:i},k).observe(r/1e3)})({isSuccess:i,flowType:r,loadTime:performance.now()-e})};E?D({transactionId:E}).then(e=>{let{data:i}=e;t({isSuccess:!!i,flowType:"transaction"})}):M({itemId:C}).then(e=>{let{data:i}=e;t({isSuccess:!!i,flowType:"item"})})},[c,E,r,D,C,M]);let z=c||F||B,{user:A}=(0,w.useSession)(),$=j||!A;return(0,t.jsx)(m.Dialog,{hasScrollableContent:!0,testId:"detailed-item-price-breakdown",show:r,children:(0,t.jsxs)("div",{className:"u-fill-width",children:[(0,t.jsx)(et,{onClose:n}),(0,t.jsx)(T.ScrollableArea,{children:N||V?(0,t.jsx)(_.ContentLoader,{}):z?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(u.Container,{styling:"narrow",children:[(0,t.jsx)(Z,{itemPrice:l,itemTitle:a,itemPhotoSrc:s,itemsCount:S}),(0,t.jsx)(K,{buyerProtection:z.services.buyerProtection,isSellerBusiness:y,itemId:C,hideDiscounts:$}),(0,t.jsx)(es,{electronicsVerificationWarranty:z.services.electronicsVerificationWarranty,hideDiscounts:$,isItemOwner:j})]}),(0,t.jsx)(x.Divider,{}),(0,t.jsxs)(u.Container,{styling:"narrow",children:[(0,t.jsx)(d.Cell,{styling:"narrow",children:(0,t.jsx)(f.Text,{text:P("selected_at_checkout_title"),type:"subtitle",as:"label"})}),(0,t.jsx)(X,{itemVerification:z.services.itemVerification,hideDiscounts:$,itemId:C}),(0,t.jsx)(H,{electronicsVerificationFee:z.services.electronicsVerification,hideDiscounts:$,isItemOwner:j,itemId:C}),(0,t.jsx)(er,{shippingFee:z.services.shipping,hideDiscounts:$})]}),(0,t.jsx)(Q,{isSellerBusiness:y,additionalNote:z.services.noteTranslationKey})]}):(0,t.jsx)(v.ErrorState,{})}),(0,t.jsx)(u.Container,{styling:"narrow",children:(0,t.jsx)(d.Cell,{styling:"narrow",children:(0,t.jsx)(o.Button,{text:P("actions.close"),styling:"filled",onClick:n,testId:"item-price-breakdown-close-button"})})})]})})};e.s(["default",0,ec],680445);var eo=e.i(528024);let ed=e=>{let{title:t,titleId:r,...n}=e;return i.createElement("svg",{fill:"none",viewBox:"0 0 12 12",width:12,height:12,"aria-labelledby":r,...n},t?i.createElement("title",{id:r},t):null,i.createElement("path",{fill:"currentColor",d:"m7.924 4.114.708.707-2.829 2.828-2.121-2.121.707-.707 1.414 1.414z"}),i.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M11 6c0 4.2-5 6-5 6s-5-1.8-5-6V1.8L6 0l5 1.8zM2 6V2.503l4-1.44 4 1.44V6c0 1.66-.98 2.902-2.115 3.787A9.4 9.4 0 0 1 6 10.917a9.368 9.368 0 0 1-1.885-1.13C2.981 8.902 2 7.66 2 6m3.66 5.06",clipRule:"evenodd"}))};ed.Size=12,ed.Title="Shield";let eu=e=>{let{isItemOwner:i,shouldTrimTitle:r,isSellerBusiness:n,shouldMinimiseTitle:l,inline:a,isDisabled:s=!1}=e,c=(0,p.useTranslate)("item.includes_buyer_protection");return(0,t.jsx)(f.Text,{underline:!1,text:c(`title_without_price${n?"_pro":""}${r||i?"_trimmed":""}`),type:l?"caption":"subtitle",testId:n?"service-fee-included-title-pro":"service-fee-included-title",inline:a,as:"span",tabIndex:-1,clickable:!s,theme:s?"amplified":void 0})},em=e=>{let{shouldMinimiseTitle:i}=e,r=(0,p.useTranslate)("item.includes_buyer_protection");return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(eo.Spacer,{size:"x-small",orientation:"vertical"}),(0,t.jsx)(f.Text,{clickable:!0,underline:!1,text:r("price_for_buyer"),type:i?"caption":"subtitle",as:"p"})]})},ex=e=>{let{totalItemPrice:i,isItemOwner:n,isSellerBusiness:l,shouldTrimTitle:a,shouldMinimiseTitle:c,onClick:o,onKeyDown:d,isDisabled:u}=e,m=(0,p.useTranslate)("item.includes_buyer_protection"),{locale:x}=(0,r.useIntl)(),h=(0,s.formatCurrencyAmount)(i,x),_=()=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("span",{className:"u-flexbox u-align-items-baseline u-flex-wrap",children:[(0,t.jsx)(f.Text,{type:c?"subtitle":"body",text:h,underline:!1,as:"span",clickable:!u,theme:u?"amplified":void 0}),(0,t.jsx)(eo.Spacer,{size:"x-small",orientation:"vertical",as:"span"}),(0,t.jsx)(eu,{isItemOwner:n,isSellerBusiness:l,shouldMinimiseTitle:c,shouldTrimTitle:a,isDisabled:u})]}),(0,t.jsx)(eo.Spacer,{size:"x-small",orientation:"vertical",as:"span"}),(0,t.jsx)(E.Icon,{color:u?"greyscale-level-1":"primary-default",name:ed,testId:"service-fee-included-icon"})]});return u?(0,t.jsx)("div",{className:"u-flexbox u-align-items-flex-start",children:(0,t.jsx)("div",{className:"u-flexbox u-align-items-center u-flex-wrap","aria-label":m("title",{price:h}),children:_()})}):(0,t.jsx)("div",{className:"u-flexbox u-align-items-flex-start",children:(0,t.jsxs)("button",{className:"u-flexbox u-align-items-center u-flex-wrap",tabIndex:0,"aria-label":m("title",{price:h}),onKeyDown:d,onClick:o,type:"button",children:[_(),n&&(0,t.jsx)(em,{shouldMinimiseTitle:c})]})})},ef=e=>{let{totalItemPrice:i,isItemOwner:n,isSellerBusiness:l,shouldTrimTitle:a,shouldMinimiseTitle:c,onClick:o,onKeyDown:d}=e,u=(0,p.useTranslate)("item.includes_buyer_protection"),{locale:m}=(0,r.useIntl)(),x=(0,s.formatCurrencyAmount)(i,m);return(0,t.jsxs)("button",{tabIndex:0,"aria-label":u("title",{price:x}),onKeyDown:d,onClick:o,type:"button",className:"u-text-left",children:[(0,t.jsx)(f.Text,{as:"div",type:"title",text:x,clickable:!0,underline:!1,tabIndex:-1}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"service-fee-included-title--text",children:(0,t.jsx)(eu,{isItemOwner:n,isSellerBusiness:l,shouldMinimiseTitle:c,shouldTrimTitle:a,inline:!0})}),(0,t.jsx)("span",{className:"service-fee-included-title--icon",children:(0,t.jsx)(E.Icon,{color:"primary-default",name:ed,testId:"service-fee-included-icon"})}),n&&(0,t.jsx)(em,{shouldMinimiseTitle:c})]})]})};e.s(["default",0,e=>{let{itemId:o,totalItemPrice:d,itemPrice:u,isItemOwner:m,isSellerBusiness:x,shouldTrimTitle:f,shouldMinimiseTitle:h,onModalOpen:p,onModalClose:_,itemPhotoSrc:v,pricingServices:g,itemTitle:y,transactionId:j,itemsCount:b,showInclinePrice:w=!0,isDisabled:T}=e,[I,k]=(0,i.useState)(!1),{track:E}=(0,n.useTracking)(),{locale:C}=(0,r.useIntl)(),S=(0,s.formatCurrencyAmount)(u,C),P=()=>{T||(E((0,c.clickEvent)({target:"pricing_details",targetDetails:JSON.stringify({item_id:o})})),I?null==_||_():null==p||p(),k(e=>!e))};if(!(null==d?void 0:d.amount))return null;let F={onKeyDown:e=>{(0,a.onA11yKeyDown)(e,{keys:[l.KeyboardKey.Enter,l.KeyboardKey.Space]},P)},onClick:P,isSellerBusiness:x,totalItemPrice:d,isItemOwner:m,shouldMinimiseTitle:h,shouldTrimTitle:f};return(0,t.jsxs)(t.Fragment,{children:[w?(0,t.jsx)(ex,{...F,isDisabled:T}):(0,t.jsx)(ef,{...F}),(0,t.jsx)(ec,{itemTitle:y,itemPhotoSrc:v,pricingServices:g,transactionId:j,itemsCount:b,isVisible:I,itemPrice:S,onClose:P,isSellerBusiness:x,isItemOwner:!!m,itemId:o})]})}],340338)}]);