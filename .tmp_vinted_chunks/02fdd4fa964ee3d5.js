(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,99581,e=>{"use strict";var t=e.i(549539),r=e.i(197262),n=e.i(790797),i=e.i(569144),a=e.i(290708),o=e.i(369536),s=e.i(664253),l=e.i(698152),c=e.i(410802),u=e.i(948176),d=e.i(273854),f=e.i(951768);let m={initialized:!1,stores:e.i(21395).FALLBACK_STORES,providers:null},g=async(t,r)=>{try{let{unsafeInitializeBraze:r}=await e.A(299172);return f.clientSideMetrics.counter("braze_initialization").increment(),await r(t)}catch(e){return null==r||r(e),m}};var _=e.i(592369),p=e.i(285394),h=e.i(106014),v=e.i(399103);let y=(e,t)=>{switch(t.type){case"set_loading":return{state:"loading"};case"set_failure":return{state:"failure"};case"set_success":return{value:t.value,state:"success"};default:return e}};e.s(["default",0,e=>{var f,b;let{children:E}=e,{user:w}=(0,i.useSession)(),[x,T]=(0,r.useReducer)(y,{value:null,state:"loading"}),[C,S]=(0,r.useState)(),[k,I]=(0,r.useState)({...l.initialBrazeContextValue,dispatch:T}),[F,j]=(0,r.useState)(!1),{relativeUrl:P}=(0,n.useBrowserNavigation)(),A=(null==w||null==(f=w.email)?void 0:f.includes("autotestvinted"))&&(null==w||null==(b=w.email)?void 0:b.endsWith("@vinted.com"))||!1,D=(e=>{let{isWebview:t}=(0,i.useSession)(),{crm:n}=(0,d.useSystemConfiguration)()||{},s=null==n?void 0:n.brazeConfig,l=(0,u.useFeatureSwitch)("braze_sdk_enabled"),f=(0,u.useFeatureSwitch)("web_braze_logging"),_=(0,u.useFeatureSwitch)("web_braze_log_app_health"),p=(0,u.useFeatureSwitch)("web_braze_push_notifications"),h=(0,u.useFeatureSwitch)("web_braze_non_error_logging"),v=(0,u.useFeatureSwitch)("braze_sdk_in_webview_enabled"),y=(0,u.useFeatureSwitch)("braze_sdk_cookie_restriction_enabled"),b=l&&(t&&v||!t),{sdkEndpoint:E,sdkKey:w,safariWebsitePushId:x}=s||{},T=e.value;return(0,r.useCallback)(async()=>b?"loading"===e.state?m:T&&w?g({isCookieFSEnabled:y,userExternalId:T,apiKey:w,safariWebsitePushId:p?x:void 0,baseUrl:E||"",logger:_||f?e=>{let t=["error","exception","fail","fatal"].some(t=>e.toLowerCase().includes(t));_&&(h||t)&&(0,c.logBrazeMessage)(`Braze_SDK_log: ${e}`),f&&console.log(e)}:void 0},e=>{(0,a.disableBraze)(),e instanceof Error&&((0,c.logBrazeError)(e),(0,c.trackInitFailureMetrics)(e.message))}):((0,a.disableBraze)(),(0,c.logConfigurationFailure)({brazeSdkKey:w,userExternalId:T}),m):((0,a.disableBraze)(),(0,o.removeAllDeferredBrazeCustomEvents)(),m),[b,y,T,e,w,_,f,p,x,E,h])})(x);!function(e){let{relativeUrl:t,urlParams:i,searchParams:a}=(0,n.useBrowserNavigation)(),o=(0,h.useCookie)(),s="shown"===i.onboarding_modal_status,l=o.get(p.cookiesDataByName.banners_ui_state)===v.UiState.Pending,c=!!a.promo_shown,u=_.WHITELISTING_RULES.some(e=>new RegExp(e).test(t))&&!(s||l||c);(0,r.useEffect)(()=>{e&&(u?(e.enable(),e.publishStoredMessages()):e.disable())},[e,u])}(null==C?void 0:C.inAppMessageProvider),(0,r.useEffect)(()=>{D().then(e=>{let{initialized:t,stores:r,providers:n}=e,i=[r.inboxMessageCardStore,r.inboxNotificationCardStore,r.promoBoxCardStore],a=(0,s.getCardLoggersById)(i);n&&S(n),j(t),I({...r,...a,userExternalId:x,dispatch:T})})},[D,x,T,A]);let N=(0,r.useCallback)(()=>{!x.value||F&&((0,o.flushCustomEventsThrottled)(x.value),(0,a.requestContentCardsRefreshThrottled)())},[F,x]);return(0,r.useEffect)(()=>{N()},[P,N]),(0,t.jsx)(l.default.Provider,{value:k,children:E})}],99581)},42301,e=>{"use strict";var t=e.i(197262),r=e.i(698152);e.s(["BrazeExternalIdSetter",0,e=>{let{userExternalId:n}=e,{dispatch:i}=(0,t.useContext)(r.default);return(0,t.useEffect)(()=>{void 0===n&&i({type:"set_failure"}),n&&i({type:"set_success",value:n})},[n,i]),null}])},245164,e=>{"use strict";var t=e.i(549539),r=e.i(197262),n=e.i(309036),i=e.i(247653),i=i,a=e.i(929064),o=e.i(668707),s=e.i(536925),l=e.i(106014),c=e.i(89689),u=e.i(48096);let d=e=>{let{children:n,ssrConfigs:i}=e,[d,f]=(0,r.useState)(()=>(0,c.getInitialBreakpoints)(i)),m=(0,l.useCookie)();return(0,r.useEffect)(()=>{(0,c.setViewportCookie)(m)},[d,m]),(0,s.useEventListener)("resize",(0,o.default)(()=>{let e=(0,c.getClientSideBreakpoints)();f(t=>(0,a.default)(e,t)?t:e)},50)),(0,t.jsx)(u.Provider,{value:{breakpoints:d},children:n})};var f=e.i(543376);let m=e=>{let{children:r,cookieManager:n}=e;return(0,t.jsx)(f.CookieManagerContext.Provider,{value:n,children:r})};var g=e.i(210586),_=e.i(827215),_=_,p=e.i(38618),h=e.i(276092);let v=()=>{let e=(0,p.useFeatureFlags)();return(0,r.useEffect)(()=>{let t={web_lazy_lock_listing_restriction:e.web_lazy_lock_listing_restriction,web_lazy_lock_terms_and_conditions:e.web_lazy_lock_terms_and_conditions,web_lazy_lock_wallet_conversion:e.web_lazy_lock_wallet_conversion,web_lazy_lock_user_verification:e.web_lazy_lock_user_verification};(0,h.setPageLockFlags)(t)},[e]),null};var y=e.i(681553);let b=e=>{let{pageId:n,children:i,userAgent:a,isBot:o}=e,s=(0,r.useMemo)(()=>({pageId:n,userAgent:a,isBot:o}),[n,a,o]);return(0,t.jsx)(y.default.Provider,{value:s,children:i})};var E=e.i(957742),w=e.i(357891);let x=e=>{let{children:n,url:i}=e,[,a]=(0,r.useState)(!1),o=(0,E.useSearchParams)(),s=(0,E.usePathname)(),l=(0,E.useParams)(),{push:c}=(0,E.useRouter)(),u=(0,r.useCallback)(e=>{var t;return null==(t=globalThis.history)?void 0:t.pushState({},"",e)},[]),d=(0,r.useCallback)(e=>{var t;return null==(t=globalThis.history)?void 0:t.replaceState({},"",e)},[]),f=(0,r.useCallback)(()=>window.history.back(),[]),m=(0,r.useCallback)(()=>a(e=>!e),[]),g=(0,r.useMemo)(()=>{var e;let t,r=new URL(i);return s&&(r.pathname=s),o&&(r.search=o.toString()),{url:r.toString(),serverUrl:i,routerPush:c,push:u,replace:d,refreshUrl:m,back:f,urlParams:{...l,...(e=r.searchParams,t={},e.forEach((e,r)=>{t[r]?(Array.isArray(t[r])||(t[r]=[t[r]]),t[r].push(e)):t[r]=e}),t)}}},[i,s,c,l,o,u,d,m,f]);return(0,t.jsx)(w.default.Provider,{value:g,children:n})};var T=e.i(882665),T=T,C=e.i(309655),C=C,S=e.i(917311),S=S,k=e.i(569144),I=e.i(805579),F=e.i(377952),j=e.i(385991);let P=e=>{let{screen:t}=e,n=(0,r.useContext)(F.default),{updateScreenName:i}=(0,j.default)(),{user:a,debugPin:o,anonId:s,trackingPlatform:l,locale:c}=(0,k.useSession)(),u=(0,I.useEnvs)("PORTAL");return(0,r.useEffect)(()=>{(null==n?void 0:n.tracker)&&(n.tracker.updateContext({anonId:s||"",userId:null==a?void 0:a.id,portal:u||"",debugPin:o?Number(o):null,platform:l||null,languageCode:(null==a?void 0:a.locale)||c||"",screen:{width:0,height:0,name:t},utm:{}}),n.tracker.drainEventQueue(),i(t))},[s,o,c,u,t,null==n?void 0:n.tracker,l,i,null==a?void 0:a.id,null==a?void 0:a.locale]),null};var A=e.i(371557),D=e.i(948176),N=e.i(387352),R=e.i(850328),L=e.i(133969);let O=e=>{let{children:n}=e,i=(0,I.useEnvs)("INCOGNIA_WEB_CLIENT_SIDE_KEY"),a=(0,D.useFeatureSwitch)("web_incognia_script"),{user:o}=(0,k.useSession)(),s=(0,r.useRef)(null),l=(0,r.useCallback)(async()=>{if(o){let e;try{e=await (0,N.stringToSha256)(o.id.toString())}catch(e){(0,R.logIncogniaWarning)("Failed to hash user ID for Incognia",{error:e.message});return}try{A.default.setAccountId(e)}catch(e){(0,R.logIncogniaWarning)("Failed to set Incognia account ID",{error:e.message})}return}A.default.clearAccountId()},[o]),c=(0,r.useCallback)(async()=>{if(!i||!a)return;let e=(0,R.incogniaInitializationDurationTimer)();try{await A.default.init({appId:i,customDomain:"metrics.vinted.lt"}),l()}catch(e){(0,R.logIncogniaWarning)("IncogniaWebSdk initialization failed",{error:e.message})}e()},[i,l,a]);(0,r.useEffect)(()=>{s.current=c()},[c]),(0,r.useEffect)(()=>{a&&!i&&(0,R.logIncogniaWarning)("Incognia web client side key is not set")},[i,a]);let u=(0,r.useMemo)(()=>({initializationPromiseRef:s}),[s]);return(0,t.jsx)(L.IncogniaContext.Provider,{value:u,children:n})};var z=e.i(285653);let V=(e,t)=>n=>(0,r.createElement)(e,t,n);e.s(["default",0,e=>{var a;let o,{children:s,featureSwitchesProps:l,systemConfigurationProps:c,sessionProps:u,abTestsProps:f,intlProps:p,cookies:h,nextRequestProps:y,browserNavigationProps:E,breakpointProps:w,consentProps:k,screen:I}=e,F=(0,r.useRef)(null);null!=F.current||(F.current=(0,g.createCookieManager)(h));let j=null==(a=l.featureSwitches)?void 0:a.web_client_root_params,A=null==(o=(0,z.default)())?void 0:o.countryCode,D=j?{...c,configuration:{...c.configuration,userCountry:A}}:c,N=(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(P,{screen:I}),(0,t.jsx)(v,{}),s]});return[V(_.default,l),V(C.default,D),V(T.default,u),V(i.default,f),V(n.IntlProvider,p),V(m,{cookieManager:F.current}),V(b,y),V(x,E),V(d,w),V(O),V(S.default,k)].reduceRight((e,t)=>t(e),N)}],245164)},177357,e=>{"use strict";var t,r=e.i(197262),n=e.i(449155),i=e.i(208072),a=e.i(948176),o=e.i(532564),s=((t={}).BannerAccept="banner_accept_all",t.BannerReject="banner_reject_all",t.PreferenceCenterAccept="preference_center_accept_all",t.PreferenceCenterReject="preference_center_reject_all",t),l=e.i(703908);e.s(["default",0,()=>{let[e,t]=(0,r.useState)(!1),c=(0,i.useUserAgent)(),u=(0,o.useTranslate)("consent_banner"),d=(0,a.useFeatureSwitch)("web_consent_tracking"),{track:f}=(0,n.useTracking)();return(0,r.useLayoutEffect)(()=>{let e=null,t=()=>{e&&(clearTimeout(e),e=null)},r=()=>{let n=document.getElementById("onetrust-banner-sdk");if(!n){e=setTimeout(r,300);return}n.classList.add("onetrust-banner-sdk--loaded"),t()};return r(),t},[]),(0,r.useEffect)(()=>{if(!d)return;let r=null,n=null,i=null,a=null,o=null,u=r=>{e||(f((e=>{let{action:t,isMobile:r}=e;return{event:"user.cmp_action",extra:{action:t,isMobile:r}}})({action:r,isMobile:(0,l.isMobile)(c)})),t(!0))},m=new MutationObserver(()=>{r=document.getElementById("onetrust-accept-btn-handler"),n=document.getElementById("onetrust-reject-all-handler"),i=document.getElementById("accept-recommended-btn-handler"),a=document.querySelector(".ot-pc-refuse-all-handler"),o=document.querySelector(".save-preference-btn-handler"),r&&n&&i&&a&&o&&(r.addEventListener("click",()=>u(s.BannerAccept)),n.addEventListener("click",()=>u(s.BannerReject)),i.addEventListener("click",()=>u(s.PreferenceCenterAccept)),a.addEventListener("click",()=>u(s.PreferenceCenterReject)),m.disconnect())});return m.observe(document.body,{childList:!0,subtree:!0}),()=>{m.disconnect(),r&&r.removeEventListener("click",()=>u),n&&n.removeEventListener("click",()=>u),i&&i.removeEventListener("click",()=>u),a&&a.removeEventListener("click",()=>u)}},[e,f,c,d,u]),null}],177357)},497554,e=>{"use strict";var t=e.i(549539),r=e.i(197262),n=e.i(206435),i=e.i(884816),a=e.i(65963),o=e.i(536925),s=e.i(996419),l=e.i(569144),c=e.i(346798),u=e.i(743485),d=e.i(38485),f=e.i(647058),m=e.i(449155),g=e.i(294111),_=e.i(734990),p=e.i(459831),h=e.i(256797),v=e.i(528024),y=e.i(924348),b=e.i(86187),E=e.i(116692),w=e.i(532564),x=e.i(598449),T=e.i(490812),C=e.i(282309),S=e.i(445826),k=e.i(642319),I=e.i(763826);let F=e=>{var n;let{entityId:i,onConfirm:a}=e,o=(0,x.useAsset)("/assets/verifications/add-phone-number"),f=(0,w.useTranslate)("user.two_factor_verification.add_phone_number"),m=(0,S.useAbTest)("global_2fa_phone_number_screen_update"),g=(null==m?void 0:m.variant)==="on",_=g?"_updated":"";(0,k.useTrackAbTest)(m);let F=null==(n=(0,l.useSession)().user)?void 0:n.id,[j,P]=(0,r.useState)(!1),[A,D]=(0,r.useState)(),N=async e=>{if(!F)return;let t=await (0,d.createUser2FA)({userId:F,entityId:i,number:e,fingerprint:await (0,s.getFingerprint)(),entityType:u.VerificationType.EntityHash});if("errors"in t){let e=t.errors[0];D(null==e?void 0:e.value);return}a((0,c.transformTwoFactorVerification)(t))};return j?(0,t.jsx)(I.default,{onConfirm:N,isAccountProtectFlow:!1,validation:A&&(0,t.jsx)(E.Validation,{text:A,theme:"warning"})}):(0,t.jsxs)(b.Cell,{children:[(0,t.jsx)(v.Spacer,{size:g?"x2-large":"x4-large"}),(0,t.jsx)("div",{className:"u-flexbox u-align-items-center",children:(0,t.jsx)(h.Image,{src:o(g?"shield-phone-girl.svg":"phone-lock.svg",{theme:{dark:g?"shield-phone-girl.svg":"dark/phone-lock.svg"}}),size:g?"x4-large":"x3-large",alt:f("title"),scaling:"contain"})}),(0,t.jsx)(v.Spacer,{size:g?"x2-large":"x4-large"}),(0,t.jsx)(y.Text,{text:f(`title${_}`),type:"heading-xl",as:"h1",alignment:"center",width:"parent"}),(0,t.jsx)(v.Spacer,{size:"large"}),(0,t.jsx)(y.Text,{text:f(`body${_}`),html:!0,as:"p"}),(0,t.jsx)(v.Spacer,{size:"x2-large"}),(0,t.jsx)(p.Button,{text:f("actions.add_phone"),onClick:()=>{P(!0)},styling:"filled"}),(0,t.jsx)(v.Spacer,{size:"large"}),(0,t.jsx)(T.HelpCenterFaqEntryUrl,{type:C.FaqEntryType.AddPhoneNumber,render:e=>(0,t.jsx)(p.Button,{text:f("actions.faq"),url:e,urlProps:{target:"_blank"}})})]})},j=e=>{var n;let{entityId:p,onCodeSent:h,onError:v}=e,y=null==(n=(0,l.useSession)().user)?void 0:n.id,{track:b}=(0,m.useTracking)(),[E,w]=(0,r.useState)(!1),[x,T]=(0,r.useState)(null),[C,S]=(0,r.useState)(!1);(0,o.useEventListener)(i.TWO_FA_CANCELLED_EVENT,()=>{var e;b((0,f.clickCancelVerification)({type:null!=(e=null==x?void 0:x.channel)?e:u.VerificationChannel.Sms,source:"2FA",userTwoFactorAuthId:null==x?void 0:x.id.toString()}))});let k=async e=>(0,d.createUser2FA)({userId:e.userId,entityId:e.entityId,entityType:u.VerificationType.EntityHash,fingerprint:await (0,s.getFingerprint)()});return((0,r.useEffect)(()=>{y&&p&&(async()=>{S(!0);let e=await k({userId:y,entityId:p});if(S(!1),"errors"in e)return e.code===g.ResponseCode.PhoneNumberRequired?w(!0):v();T((0,c.transformTwoFactorVerification)(e))})()},[y,p,v]),C)?(0,t.jsx)("div",{className:"u-flexbox u-justify-content-center",children:(0,t.jsx)(a.Loader,{size:"x-large",testId:"global-two-FA-loader"})}):E?(0,t.jsx)(F,{onConfirm:e=>{y&&(w(!1),T(e))},entityId:p}):x?(0,t.jsx)(_.default,{verificationType:u.VerificationType.EntityHash,maskedInfo:x.userMaskedInfo,nextResendAvailableIn:x.nextResendAvailableIn,showResend:x.showResendOption,twoFAId:x.id,onCodeSent:h,channel:x.channel}):null};e.s(["default",0,()=>{let[e,a]=(0,r.useState)(null);return((0,r.useEffect)(()=>{let e=e=>{a(e.detail)};return window.addEventListener("twoFARequired",e),()=>{window.removeEventListener("twoFARequired",e)}},[]),e)?(0,t.jsx)(n.Dialog,{show:!!e,closeOnOverlay:!0,defaultCallback:()=>{a(null),window.dispatchEvent(new Event(i.TWO_FA_CANCELLED_EVENT))},testId:"global-2fa-modal",children:(0,t.jsx)(j,{entityId:e,onCodeSent:()=>{a(null),window.dispatchEvent(new Event(i.TWO_FA_COMPLETED_EVENT))},onError:()=>{a(null)}})}):null}],497554)},808e3,e=>{"use strict";var t=e.i(549539),r=e.i(839701),n=e.i(197262),i=e.i(536925),a=e.i(805579),o=e.i(449155),s=e.i(948176),l=e.i(807999);let c=e=>{let{actionType:t,fingerprint:r,endpointName:n,responseType:i}=e;return{event:"system.datadome_script_action",extra:{action_type:t,fingerprint:r,endpoint_name:n,response_type:i}}};var u=e.i(996419),d=e.i(719542),f=e.i(182716);e.s(["default",0,()=>{let{track:e}=(0,o.useTracking)(),m=(0,n.useRef)(""),g=(0,a.useEnvs)("DATADOME_CLIENT_SIDE_KEY"),_=(0,s.useFeatureSwitch)("datadome_assessment"),p=(0,s.useFeatureSwitch)("datadome_script_tracking"),h=(0,s.useFeatureSwitch)("datadome_web_override_abort_fetch"),v=(0,s.useFeatureSwitch)("datadome_sandbox_script_source"),y=(0,s.useFeatureSwitch)("datadome_production_script_source"),b=async()=>({fingerprint:await (0,u.getFingerprint)(),endpointName:m.current});return((0,i.useEventListener)(d.DD_BLOCKED_EVENT,async t=>{p&&(m.current=t.detail.url,e(c({...await b(),actionType:"blocked"})))}),(0,i.useEventListener)(d.DD_RESPONSE_DISPLAYED_EVENT,async t=>{p&&e(c({...await b(),actionType:"response_displayed",responseType:t.detail.responseType}))}),(0,i.useEventListener)(d.DD_RESPONSE_UNLOAD_EVENT,async t=>{p&&e(c({...await b(),actionType:"response_passed",responseType:t.detail.responseType}))}),(0,i.useEventListener)(d.DD_RESPONSE_ERROR_EVENT,async()=>{p&&e(c({...await b(),actionType:"response_error"}))}),(0,n.useEffect)(()=>{_&&!g&&(0,l.logWarning)("DataDome client-side key is not set")},[g,_]),(0,n.useEffect)(()=>{let e=(0,f.dataDomeInitializationTimer)();return window.addEventListener(d.DD_READY_EVENT,e),()=>{window.removeEventListener(d.DD_READY_EVENT,e)}},[_,g]),_&&g)?(0,t.jsx)(r.default,{id:"data-dome-script",strategy:"afterInteractive",children:`!function(a,b,c,d,e,f){a.ddjskey=e;a.ddoptions=f||null;var m=b.createElement(c),n=b.getElementsByTagName(c)[0];m.async=1,m.src=d,n.parentNode.insertBefore(m,n)}(window,document,"script","${v||y?"https://static-assets.vinted.com/datadome/5.3.0/tags.js":"https://dd.vinted.lt/tags.js"}","${g}", ${JSON.stringify({ajaxListenerPath:!0,disableAutoRefreshOnCaptchaPassed:!0,enableTagEvents:!0,abortAsyncOnCaptchaDisplay:!1,endpoint:"https://dd.vinted.lt/js",overrideAbortFetch:h})});`}):null}],808e3)},46299,e=>{"use strict";var t=e.i(197262);let r=e=>{let{title:r,titleId:n,...i}=e;return t.createElement("svg",{fill:"none",viewBox:"0 0 24 24",width:24,height:24,"aria-labelledby":n,...i},r?t.createElement("title",{id:n},r):null,t.createElement("path",{fill:"currentColor",d:"M19.53 6.47a.75.75 0 0 1 0 1.06l-10 10a.75.75 0 0 1-1.06 0l-4-4a.75.75 0 1 1 1.06-1.06L9 15.94l9.47-9.47a.75.75 0 0 1 1.06 0"}))};r.Size=24,r.Title="Checkmark",e.s(["Checkmark24",()=>r],46299)},124222,e=>{"use strict";e.s(["EMAIL_CODE_VERIFICATION_URL",0,"/users/verification/email_code","EMAIL_VERIFICATION_URL",0,"/users/verification/email/new","GOOGLE_OAUTH_URL",0,"/auth/google/oauth","PHONE_VERIFICATION_URL",0,"/users/verification/phone/new","ROOT_URL",0,"/","SECURITY_SETTINGS_2FA_URL",0,"/settings/security/phone_verification","SECURITY_SETTINGS_URL",0,"/settings/security"])},423524,e=>{"use strict";var t=e.i(786830);e.s(["changeExistingEmail",0,e=>{let{email:r,userId:n}=e;return t.api.put(`/users/${n}/change_email`,{email:r})},"dismissVerificationPrompt",0,e=>t.api.delete(`/users/${e}/verifications/prompt`),"getVerificationPrompt",0,e=>t.api.get(`/users/${e}/verifications/prompt`),"resendLoginTwoFactorCode",0,e=>{let{controlCode:r,code:n,fingerprint:i}=e;return t.api.post(`/user_login_2fa/${r}/resend`,{code:n,fingerprint:i})},"resendTwoFactorCode",0,e=>{let{userId:r,id:n,code:i,fingerprint:a}=e;return t.api.post(`/users/${r}/user_2fa/${n}/resend`,{code:i,fingerprint:a})},"resendTwoFactorVerifierCode",0,e=>t.api.post(`/user_verifier/${e}/resend`),"sendEmailVerificationCode",0,e=>{let{userId:r,email:n}=e;return t.api.post(`/users/${r}/verifications/email_code`,{email:n})},"sendTwoFactorCode",0,e=>{let{userId:r,id:n,code:i,fingerprint:a}=e;return t.api.put(`/users/${r}/user_2fa/${n}`,{code:i,fingerprint:a})},"validateEmailVerificationCode",0,e=>{let{userId:r,code:n}=e;return t.api.put(`/users/${r}/verifications/email_code`,{code:n})},"validateUser",0,e=>{let{user:r}=e;return t.api.post("/users/validations",{user:r})},"verifyPhoneNumber",0,e=>{let{userId:r,code:n,phoneNumber:i,fingerprint:a}=e;return t.api.put(`/users/${r}/phone_number/verify`,{code:n,phone_number:i,fingerprint:a})}])},647058,e=>{"use strict";e.s(["clickCancelVerification",0,e=>{let{source:t,userTwoFactorAuthId:r,type:n}=e;return{event:"user.click_cancel_verification",extra:{source:t,type:n,user_two_factor_auth_id:r}}},"clickEvent",0,e=>{let{target:t,screen:r,targetDetails:n,env:i,path:a}=e,o={target:t};return r&&(o.screen=r),n&&(o.target_details=n),i&&(o.env=i),a&&(o.path=a),{event:"user.click",extra:o}},"clickGetHelpVerificationEvent",0,e=>{let{source:t,userTwoFactorAuthId:r,type:n}=e;return{event:"user.click_get_help_verification",extra:{source:t,type:n,user_two_factor_auth_id:r}}},"clickResendVerification",0,e=>{let{source:t,userTwoFactorAuthId:r,type:n}=e;return{event:"user.click_resend_verification",extra:{source:t,type:n,user_two_factor_auth_id:r}}},"clickVerifyEvent",0,e=>{let{source:t,userTwoFactorAuthId:r,type:n}=e;return{event:"user.click_verify",extra:{source:t,type:n,user_two_factor_auth_id:r}}},"closePhonePrefixDropdown",0,()=>({event:"user.close_phone_prefix_dropdown"}),"phoneNumberFormBehaviourEvent",0,e=>{let{taskId:t,action:r,actionDetails:n,userId:i}=e;return{event:"phone_number.form_behaviour",userId:i,extra:{task_id:t,action:r,action_details:n}}},"startPhonePrefixSearch",0,()=>({event:"user.start_phone_prefix_search"}),"twoFAFormBehaviourEvent",0,e=>{let{taskId:t,action:r,actionDetails:n,userId:i}=e;return{event:"phone_verification.form_behaviour",userId:i,extra:{task_id:t,action:r,action_details:n}}},"viewScreenEvent",0,e=>{let{screen:t}=e;return{event:"user.view_screen",extra:{screen:t}}},"viewVerificationScreenEvent",0,e=>{let{source:t,userTwoFactorAuthId:r,type:n}=e;return{event:"user.view_verification_screen",extra:{source:t,type:n,user_two_factor_auth_id:r}}}])},346798,e=>{"use strict";let t=e=>({countryCode:e.country_code,prefix:e.prefix,title:e.title});e.s(["transformEmailVerificationCodeResponse",0,e=>{var t;return{email:e.email,canChangeEmail:null==(t=e.can_change_email)||t}},"transformPhonePrefixDataResponse",0,e=>e.prefixes.map(t),"transformTwoFaDetails",0,e=>{let{id:t,next_resend_available_in:r,show_resend_option:n,user_masked_info:i,type:a}=e;return{controlCode:t,nextResendAvailableIn:r,showResendOption:n,userMaskedInfo:i,channel:a}},"transformTwoFactorVerification",0,e=>({id:e.id,askUser2fa:e.ask_user_2fa,showResendOption:e.show_resend_option,userMaskedPhoneNumber:e.masked_phone_number,userMaskedInfo:e.user_masked_info,nextResendAvailableIn:e.next_resend_available_in,channel:e.type}),"transformVerificationPromptDto",0,e=>({id:e.id,mandatory:e.mandatory,methods:e.methods,category:e.category,actions:e.actions,imageUrls:e.image_urls,translations:{header:e.translations.header,body:e.translations.body},trigger:e.trigger})])},38485,e=>{"use strict";var t=e.i(786830);e.s(["checkEmailVerification",0,()=>t.api.get("/authorization/check/email_verification"),"checkPhoneVerification",0,()=>t.api.get("/authorization/check/phone_verification"),"createUser2FA",0,e=>t.api.post(`/users/${e.userId}/user_2fa`,{entity_id:e.entityId,type:e.entityType,fingerprint:e.fingerprint},{params:{phone_number:e.number}}),"getPhonePrefixData",0,()=>t.api.get("phone_number/prefixes"),"getTwoFADetails",0,e=>t.api.get(`user_verifier/${e}/details`),"getVerificationState",0,(e,r)=>t.api.get(`/users/${e}/verifications/state`,{params:{type:r}}),"setVoluntary2FA",0,(e,r)=>t.api.put(`users/${e}/security/voluntary_2fa`,{is_voluntary_2fa:r})])},600357,e=>{"use strict";var t=e.i(197262),r=e.i(780104),n=e.i(869390),i=e.i(948176);e.s(["useSaveUserConsentString",0,()=>{let e=(0,i.useFeatureSwitch)("web_consent_tracking_enabled");return{saveConsentString:(0,t.useCallback)(()=>{e&&!n.serverSide&&"function"==typeof window.__tcfapi&&window.__tcfapi("getTCData",2,(e,t)=>{t&&(null==e?void 0:e.tcString)&&(0,r.saveUserConsentString)({consentString:e.tcString})})},[e])}}],600357)},734990,e=>{"use strict";var t=e.i(549539),r=e.i(459831),n=e.i(86187),i=e.i(803257),a=e.i(589582),o=e.i(240578),s=e.i(417618),l=e.i(528024),c=e.i(924348),u=e.i(197262),d=e.i(474221),f=e.i(996419),m=e.i(59783),g=e.i(155604),_=e.i(282036),p=e.i(126928),h=e.i(449155),v=e.i(532564),y=e.i(569144),b=e.i(632415),E=e.i(659504),w=e.i(94884),x=e.i(374048),T=e.i(490812),C=e.i(282309),S=e.i(423524),k=e.i(743485),I=e.i(647058),F=e.i(445826),j=e.i(642319),P=e.i(290002),A=e.i(600357),D=e.i(106014),N=e.i(285394),R=e.i(124222),L=e.i(394050),O=e.i(536925);e.s(["default",0,e=>{var z;let V,{verificationType:B,controlCode:M,showResend:U,nextResendAvailableIn:$,maskedInfo:W,maskedNumber:q,twoFAId:G,onCodeSent:J,refUrl:H,redirectUrl:K,isVerifierEnabled:Z,faqEntryType:Y=C.FaqEntryType.SmsVerfication,isAuthPage:Q,channel:X=k.VerificationChannel.Phone,trackTaskId:ee}=e,et=(0,v.useTranslate)("user.two_factor_verification"),{track:er}=(0,h.useTracking)(),en=null==(z=(0,y.useSession)().user)?void 0:z.id,{register:ei,handleSubmit:ea,getValues:eo,setError:es,setFocus:el,setValue:ec,control:eu,formState:{errors:ed,isSubmitting:ef}}=(0,d.useForm)(),[em,eg]=(0,u.useState)($),[e_,ep]=(0,u.useState)(U),[eh,ev]=(0,u.useState)(!1),[ey,eb]=(0,u.useState)(!0),eE=(0,D.useCookie)(),{trackFormSubmitSuccess:ew,trackFormSubmitFailure:ex,trackFaqClick:eT,trackResendClick:eC}=(e=>{var t;let{track:r}=(0,h.useTracking)(),n=(0,u.useRef)(""),i=null==(t=(0,y.useSession)().user)?void 0:t.id;(0,u.useEffect)(()=>{n.current=e||(0,L.v4)()},[e]);let a=(0,u.useCallback)(e=>{let{action:t,actionDetails:a}=e;r((0,I.twoFAFormBehaviourEvent)({taskId:n.current,action:t,actionDetails:a,userId:i}))},[r,i]);(0,O.useEventListener)("beforeunload",()=>{a({action:"end"})}),(0,u.useEffect)(()=>{a({action:"start"})},[a]);let o=(0,u.useCallback)(()=>{a({action:"submit",actionDetails:"success"})},[a]),s=(0,u.useCallback)(()=>{a({action:"submit",actionDetails:"failure"})},[a]);return{trackFormSubmitSuccess:o,trackFormSubmitFailure:s,trackFaqClick:(0,u.useCallback)(()=>{a({action:"click",actionDetails:"faq_link"})},[a]),trackResendClick:(0,u.useCallback)(()=>{a({action:"click",actionDetails:"resend"})},[a])}})(ee),eS=(0,u.useRef)(null),ek=(0,F.useAbTest)("auto_focus_enter_code_field_2fa_v2"),eI=(null==ek?void 0:ek.variant)==="on",eF=(0,F.useAbTest)("disable_verify_cta_2fa_v2"),ej=(null==eF?void 0:eF.variant)==="on",eP=(0,d.useWatch)({control:eu,name:"code"}),{trackIncogniaEvent:eA}=(0,P.useIncogniaTracking)(),{saveConsentString:eD}=(0,A.useSaveUserConsentString)(),eN=(0,w.useFormValidationMessage)(ed),eR=B===k.VerificationType.Phone?"verification_prompt_phone_check":"two_factor_authentication",eL=(0,u.useMemo)(()=>({userTwoFactorAuthId:G?G.toString():M,type:X,source:B===k.VerificationType.Phone?"verification":"2FA"}),[G,B,X,M]);(0,j.useTrackAbTest)(ek),(0,j.useTrackAbTest)(eF),(0,u.useEffect)(()=>{er((0,I.viewVerificationScreenEvent)(eL))},[er,eR,eL]),(0,u.useEffect)(()=>{eI&&el("code")},[el,eI]);let eO=(0,u.useCallback)(()=>{eS.current=setInterval(()=>{eg(e=>e-1)},1e3)},[]);(0,u.useEffect)(()=>{eS.current&&em<=0&&clearInterval(eS.current)},[em]),(0,u.useEffect)(()=>(eO(),()=>{eS.current&&clearInterval(eS.current)}),[eO]);let ez=async()=>{er((0,I.clickResendVerification)(eL)),eC();try{let e,t=eo("code");if(B===k.VerificationType.Login){if(!M)return;if(Z){e=await (0,S.resendTwoFactorVerifierCode)(M);return}e=await (0,S.resendLoginTwoFactorCode)({controlCode:M,code:t,fingerprint:await (0,f.getFingerprint)()})}else{if(!en)return;e=await (0,S.resendTwoFactorCode)({userId:en,id:G,code:t,fingerprint:await (0,f.getFingerprint)()})}if("errors"in e)throw Error(e.errors.toString()||"Error while resending");eg(e.next_resend_available_in),ep(e.show_resend_option),eO()}catch{ep(!1),ev(!0)}},eV=e=>{es("code",{type:"manual",message:e})},eB=async e=>{let{code:t}=e;er((0,I.clickVerifyEvent)(eL));try{switch(B){case k.VerificationType.Login:{if(!M)return;let e={grantType:g.AuthenticateGrantType.Password,controlCode:M,verificationCode:t,passwordType:"two_factor_challenge_code",isTrustedDevice:ey,fingerprint:await (0,f.getFingerprint)()},r=await (0,_.authenticateUser)(e);if(await eA({tag:"login"},{response:r}),"errors"in r){eV(r.message||""),ex();return}let n=await (0,_.getCurrentUser)();("errors"in n?void 0:n.user.id)&&eD(),ew(),(0,p.navigateToPage)(H||R.ROOT_URL);break}case k.VerificationType.BankAccount:case k.VerificationType.Checkout:case k.VerificationType.EntityHash:{if(!en)return;let e=await (0,S.sendTwoFactorCode)({userId:en,id:G,code:t,fingerprint:await (0,f.getFingerprint)()});if(await eA({tag:"2fa-verification"},{response:e}),"errors"in e){let t=e.errors[0];eV(t.value),ex();return}switch(B){case k.VerificationType.BankAccount:H&&K&&(0,p.navigateToPage)(`${H}?${(0,x.toUrlQuery)({ref_url:K})}`);break;case k.VerificationType.Checkout:case k.VerificationType.EntityHash:null==J||J()}ew();break}case k.VerificationType.Phone:{if(!en||!q)return;let e=await (0,S.verifyPhoneNumber)({userId:en,code:t,phoneNumber:q,fingerprint:await (0,f.getFingerprint)()});if(await eA({tag:"phone-verification"},{response:e}),"errors"in e){let t=e.errors[0];eV(t.value),ex();return}eE.delete(N.cookiesDataByName.mandatory_verification_required),ew(),H&&(0,p.navigateToPage)(H)}}}catch(e){var r;eV((null==(r=e.response)?void 0:r.data.errors)&&e.response.data.errors.length&&e.response.data.errors[0])}};(0,m.useDataDomeCaptcha)(()=>{ea(eB)()});let eM=()=>{eT(),er((0,I.clickGetHelpVerificationEvent)(eL))},eU=e=>(0,t.jsx)(s.Note,{styling:"narrow",alignment:"center",text:e});return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.Cell,{body:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.Text,{as:"h1",text:et("title"),type:"heading",alignment:Q?"left":"center",width:"parent"}),(0,t.jsx)(l.Spacer,{size:"large"}),(0,t.jsx)("span",{className:"u-text-wrap",children:et("body",{phone_number:(0,t.jsx)(c.Text,{as:"span",text:W||q,bold:!0,theme:"amplified"},"phone-number")})})]})}),(0,t.jsxs)("form",{onSubmit:ea(eB),children:[(0,t.jsx)(o.InputText,{...ei("code",{onChange:e=>{let{target:t}=e,{value:r}=t;ej&&r.length>4&&ec("code",r.slice(0,4))}}),type:"number",validation:(0,E.renderValidation)(eN("code")),placeholder:et("placeholder"),testId:"verification-code",autoComplete:"off"}),B!==k.VerificationType.Login?null:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.Cell,{title:et("trusted_device.title"),body:et("trusted_device.body"),suffix:(0,t.jsx)(i.Checkbox,{testId:"is-trusted-device",name:"isTrustedDevice",checked:ey,onChange:()=>{eb(e=>!e)}})}),(0,t.jsx)(a.Divider,{})]}),(V=(null==eP?void 0:eP.length)||0,(0,t.jsx)(n.Cell,{children:(0,t.jsx)(r.Button,{styling:"filled",text:et("continue"),type:"submit",isLoading:ef,testId:"verify-button",disabled:ej&&V<4||ef})}))]}),(()=>{if(!e_)return null;let e=em.toString().padStart(2,"0");return(0,t.jsx)(t.Fragment,{children:eU(em>0?et("resend_counter",{seconds_left:e}):(0,t.jsx)(r.Button,{styling:"flat",size:"small",inline:!0,onClick:ez,text:et("resend_link")}))})})(),eU(et("note",{contact_us:(0,t.jsx)(T.HelpCenterFaqEntryUrl,{type:Y,accessChannel:C.AccessChannel.ProductLink,render:e=>(0,t.jsx)("a",{href:e,target:"_blank",rel:"noreferrer",onClick:eM,children:et("contact_us")})},"contact-us-link")})),eh?(0,t.jsx)(b.Notification,{body:et("resend_error")}):null]})}],734990)},763826,e=>{"use strict";var t=e.i(549539),r=e.i(197262),n=e.i(459831),i=e.i(86187),a=e.i(528024),o=e.i(924348),s=e.i(532564),l=e.i(490812),c=e.i(282309),u=e.i(240578),d=e.i(589582),f=e.i(739800),m=e.i(975687),g=e.i(990242),_=e.i(46299),p=e.i(145764),h=e.i(307794),v=e.i(925049),y=e.i(225293),b=e.i(38485),E=e.i(346798),w=e.i(647058),x=e.i(763506),T=e.i(307723),C=e.i(569144),S=e.i(449155);let k=e=>{let{onChange:n,validation:l}=e,c=(0,s.useTranslate)("settings.security.create_phone_number"),[k,I]=(0,r.useState)(""),[F,j]=(0,r.useState)(),[P,A]=(0,r.useState)(""),[D,N]=(0,r.useState)(!1),R=(0,C.useSession)().user,L=(0,r.useRef)(null),O=null==R?void 0:R.country_code,z=(0,x.useBreakpoint)(),{track:V}=(0,S.useTracking)(),{fetch:B,transformedData:M,isLoading:U}=(0,T.useFetch)(b.getPhonePrefixData,E.transformPhonePrefixDataResponse);(0,r.useEffect)(()=>{B()},[B]);let $=(0,r.useMemo)(()=>null==M?void 0:M.filter(e=>e.title.toLowerCase().includes(P)||e.prefix.includes(P)||e.countryCode.includes(P)),[M,P]),W=(0,r.useMemo)(()=>{var e;return F&&M?null==(e=M.find(e=>e.countryCode===F))?void 0:e.prefix:null},[F,M]);(0,r.useEffect)(()=>{var e;if(!O||!M)return;let t=M.find(e=>e.countryCode===O.toLowerCase());j((null==t?void 0:t.countryCode)||(null==(e=M[0])?void 0:e.countryCode))},[O,M]),(0,r.useEffect)(()=>{n(`${W}${k}`)},[W,k,n]);let q=()=>{A("")},G=e=>{let{value:t}=e.currentTarget||e.target;A(t.toLowerCase()),D||(V((0,w.startPhonePrefixSearch)()),N(!0))};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.Spacer,{size:"x-large"}),(0,t.jsxs)("div",{className:"u-flexbox u-flex-direction-row",children:[(0,t.jsx)("div",{className:"phone-number-input__prefix",children:(0,t.jsx)(h.InputDropdown,{name:"prefix",textSave:"",styling:"tight",value:W,onChange:e=>{j(e.target.value)},onOpen:()=>{L.current&&L.current.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"}),V((0,w.clickEvent)({target:"phone_prefix_select"}))},render:e=>(0,t.jsxs)("div",{className:"phone-number-input__dropdown",children:[(0,t.jsx)(g.Container,{children:(0,t.jsx)("div",{children:(0,t.jsx)(m.InputBar,{prefix:(0,t.jsx)("div",{className:"u-flexbox u-fill-height u-align-items-center u-padding-left-regular",children:(0,t.jsx)(f.Icon,{name:p.Search16})}),name:"search",placeholder:c("prefix_search_placeholder"),onChange:G,onValueClear:q})})}),(0,t.jsx)(y.ScrollableArea,{maxHeight:z.phones?"58vh":300,children:(0,t.jsx)(v.SeparatedList,{separator:(0,t.jsx)(d.Divider,{}),children:($||[]).map(r=>{let n,s,l;return(0,t.jsx)("div",{ref:r.countryCode===F?L:null,children:(0,t.jsx)(i.Cell,{type:"navigating",body:(0,t.jsx)(o.Text,{text:r.title,as:"span"}),suffix:(n=r.countryCode,s=r.prefix,(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.Text,{text:s,as:"span"}),n===F&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.Spacer,{orientation:"vertical"}),(0,t.jsx)(f.Icon,{name:_.Checkmark24,color:"success-default"})]})]})),onClick:(l=r.countryCode,()=>{j(l),A(""),e.closeDropdown(),V((0,w.clickEvent)({target:"phone_prefix_select_option",targetDetails:P}))})})},r.prefix)})})})]}),isSaveButtonShown:!1,onClose:()=>{V((0,w.closePhonePrefixDropdown)()),q()},isScrollable:!1,isLoading:!F||U,isPhone:!!z.phones,readOnly:!0,testId:"phone-number-prefix"})}),(0,t.jsx)(a.Spacer,{size:"large",orientation:"vertical"}),(0,t.jsx)(u.InputText,{placeholder:c("input.placeholder_with_country_code"),name:"number",value:null!=k?k:"",onChange:e=>{I(e.target.value)},testId:"phone-number",styling:"tight",validation:l})]}),(0,t.jsx)(a.Spacer,{size:"x-large"})]})};e.s(["default",0,e=>{let{onConfirm:u,validation:d,isButtonDisabled:f,isAccountProtectFlow:m,onFaqClick:g}=e,_=(0,s.useTranslate)("settings.security.create_phone_number"),[p,h]=(0,r.useState)(""),v=()=>{null==g||g()};return(0,t.jsxs)(i.Cell,{children:[(0,t.jsx)(o.Text,{as:"h1",width:"parent",alignment:"center",type:"heading",text:_("title")}),(0,t.jsx)(a.Spacer,{size:"x-large"}),(0,t.jsx)(o.Text,{as:"span",width:"parent",text:_("body")}),(0,t.jsx)(k,{onChange:e=>{h(e)},validation:d}),(0,t.jsx)(n.Button,{disabled:f,text:_("actions.send"),styling:"filled",onClick:()=>{u(p)},testId:"submit-button"}),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.Spacer,{size:"x-large"}),(0,t.jsx)(o.Text,{as:"span",text:_("help.text",{help_link:(0,t.jsx)(l.HelpCenterFaqEntryUrl,{type:m?c.FaqEntryType.AccontProtectPhoneVerificationNotWorking:c.FaqEntryType.AddPhoneNumber,render:e=>(0,t.jsx)("a",{href:e,target:"_blank",rel:"noreferrer",onClick:v,children:_("help.link")})},"faq-link")}),alignment:"center",width:"parent",html:!0})]})]})}],763826)},803257,e=>{"use strict";var t=e.i(584612),r=e.i(197262),n=e.i(756141),i=e.i(132076),a=e.i(77924),o=e.i(549539),s={"unit-base":"4",checkbox:"web_ui__Checkbox__checkbox",button:"web_ui__Checkbox__button","text-center":"web_ui__Checkbox__text-center","button-right":"web_ui__Checkbox__button-right","button-left":"web_ui__Checkbox__button-left","experimental-checkbox-background-color":"web_ui__Checkbox__experimental-checkbox-background-color",inverse:"web_ui__Checkbox__inverse",label:"web_ui__Checkbox__label"},l=n.c.bind(s),c=function(e){var r=e.name,n=e.id,c=e.value,u=e.text,d=void 0===u?"":u,f=e.labelPosition,m=void 0===f?"right":f,g=e.labelAlignment,_=void 0===g?"top":g,p=e.checked,h=e.defaultChecked,v=void 0!==h&&h,y=e.disabled,b=e.inverse,E=e.tabIndex,w=e.onClick,x=e.onBlur,T=e.aria,C=e.testId,S=e.experimentalApplyBackground,k=e.forwardedRef,I="onChange"in e?e.onChange:void 0,F=(0,a.idFromName)(r),j=(0,a.computeId)(n,F),P=l(s.checkbox,{inverse:b,"experimental-checkbox-background-color":S}),A=l(s.button,{"button-left":"right"===m,"button-right":"left"===m,"text-top":"top"===_,"text-center":"center"===_});return(0,o.jsxs)("label",{htmlFor:j,"data-testid":C,className:P,children:[(0,o.jsx)("input",(0,t.default)((0,t.default)({type:"checkbox",id:j,name:r,value:c||"1",checked:p},v&&{defaultChecked:v}),{},{disabled:y,onClick:w,onBlur:x,onChange:I,tabIndex:E,"data-testid":(0,i.getTestId)(C,"input"),ref:k},T)),(0,o.jsx)("span",{className:A,children:d?(0,o.jsx)("span",{className:s.label,"data-testid":(0,i.getTestId)(C,"text"),children:d}):null})]})},u=(0,r.forwardRef)(function(e,r){return(0,o.jsx)(c,(0,t.default)({forwardedRef:r},e))});u.displayName=c.name,e.s(["Checkbox",()=>u],803257)},980435,e=>{"use strict";var t,r=((t={}).Input="INPUT",t.Textarea="TEXTAREA",t.Button="BUTTON",t.Anchor="A",t);e.s(["onA11yKeyDown",0,(e,t,n)=>{let{keys:i}=t;if(i.includes(e.key)){let{tagName:t}=e.target;return(t!==r.Input&&t!==r.Textarea&&t!==r.Button&&t!==r.Anchor&&e.preventDefault(),n)?n():e.target.dispatchEvent(new Event("click",{bubbles:!0}))}return!1}],980435)},387352,e=>{"use strict";async function t(e){let t=new TextEncoder().encode(e);return Array.from(new Uint8Array(await crypto.subtle.digest("SHA-256",t))).map(e=>e.toString(16).padStart(2,"0")).join("")}RegExp(["+","/"].map(e=>`\\${e}`).join("|"),"g"),RegExp(["-","_"].map(e=>`\\${e}`).join("|"),"g"),e.s(["stringToSha256",()=>t])},306050,e=>{"use strict";crypto,new TextEncoder;let t=new TextDecoder;class r extends Error{constructor(e,t){var r,n;super(e,t),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,null==(r=(n=Error).captureStackTrace)||r.call(n,this,this.constructor)}}r.code="ERR_JOSE_GENERIC";class n extends r{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}}function i(e){let r,i;if("string"!=typeof e)throw new n("JWTs must use Compact JWS serialization, JWT must be a string");let{1:a,length:o}=e.split(".");if(5===o)throw new n("Only JWTs using Compact JWS serialization can be decoded");if(3!==o)throw new n("Invalid JWT");if(!a)throw new n("JWTs must contain a payload");try{r=(e=>{let r=e;r instanceof Uint8Array&&(r=t.decode(r)),r=r.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{var n=r;let e=atob(n),t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}catch{throw TypeError("The input to be decoded is not correctly encoded.")}})(a)}catch{throw new n("Failed to base64url decode the payload")}try{i=JSON.parse(t.decode(r))}catch{throw new n("Failed to parse the decoded payload as JSON")}if(!function(e){if("object"!=typeof e||null===e||"[object Object]"!==Object.prototype.toString.call(e))return!1;if(null===Object.getPrototypeOf(e))return!0;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(i))throw new n("Invalid JWT Claims Set");return i}n.code="ERR_JWT_INVALID",e.s(["decodeJwt",()=>i],306050)},929064,(e,t,r)=>{var n=e.r(474566);t.exports=function(e,t){return n(e,t)}},290708,e=>{"use strict";async function t(){let{requestContentCardsRefresh:t}=await e.A(334588);return new Promise((e,r)=>{t(e,r)})}let r=(0,e.i(668707).default)(t,1e4,{leading:!0,trailing:!1});async function n(){let{disableSDK:t}=await e.A(334588);t()}async function i(){let{enableSDK:t}=await e.A(334588);t()}async function a(){let{requestImmediateDataFlush:t}=await e.A(334588);return new Promise(e=>{t(e)})}async function o(){let{getUser:t}=await e.A(334588),r=t();return r?r.getUserId():null}e.s(["disableBraze",()=>n,"enableBraze",()=>i,"flushBraze",()=>a,"getBrazeUserId",()=>o,"requestContentCardsRefreshThrottled",0,r])},369536,e=>{"use strict";var t=e.i(929064),r=e.i(668707),n=e.i(592369),i=e.i(786830),a=e.i(410802),o=e.i(150245),s=e.i(290708);let l="cached_braze_custom_events",c=()=>{try{let e=(0,o.getLocalStorageItem)(l);return e?JSON.parse(e):[]}catch{return[]}},u=e=>{(0,o.setLocalStorageItem)(l,JSON.stringify([...c(),e]))},d=e=>{(0,o.setLocalStorageItem)(l,JSON.stringify(c().filter(r=>!e.some(e=>(0,t.default)(e,r)))))},f=(e,t)=>`was_braze_${e}_logged_or_deferred_${t}`,m=async(t,r)=>{let{event:s,userExternalId:l,extra:c,screen:d,modelId:m}=t;if(!l)return;let g=async()=>{let e=d?{screen:d}:{};if(c)return{...e,...c};if(!n.EVENTS_WITH_PROPERTIES_FROM_BACKEND.includes(s)||!m)return e;let t=await (e=>{let{eventName:t,modelId:r}=e;return i.api.get("/external_crm/event_payload",{params:{event_name:t,model_id:r}})})({modelId:m,eventName:s});if("errors"in t)throw Error("failed retrieving properties");return{...e,...t.properties}};try{if(null==r?void 0:r.oncePerUser){if(((e,t)=>{try{return"true"===(0,o.getLocalStorageItem)(f(e,t))}catch{return!1}})(s,l))return;try{(0,o.setLocalStorageItem)(f(s,l),"true")}catch{}}if(null==r?void 0:r.defer)return void u(t);let{logCustomEvent:n}=await e.A(334588);if(!n(s,await g()))throw Error("failed logging custom event")}catch(r){u(t);let e=r instanceof Error?r.message:"";if("Braze must be initialized before calling methods"===e)return;(0,a.logBrazeMessage)(`eventLoggingError(event: ${s}, reason: ${e})`,`userExternalId: ${String(l)}`)}};async function g(e){let t=c().filter(t=>t.userExternalId===e);0===t.length||d((await Promise.allSettled(t.map(e=>m(e)))).map((e,r)=>"fulfilled"===e.status?t[r]:null).filter(e=>null!==e))}let _=e=>{Promise.allSettled([g(e)]).then(s.flushBraze)},p=(0,r.default)(_,7e3,{leading:!0,trailing:!0});e.s(["DEFERRED_BRAZE_EVENTS_STORAGE_KEY",0,l,"brazeLogCustomEvent",0,m,"deferBrazeCustomEvent",0,u,"flushCustomEvents",0,_,"flushCustomEventsInLocalStorage",()=>g,"flushCustomEventsThrottled",0,p,"removeAllDeferredBrazeCustomEvents",0,()=>{(0,o.removeLocalStorageItem)(l)},"removeDeferredBrazeCustomEvents",0,d,"retrieveDeferredBrazeCustomEvents",0,c],369536)},490812,e=>{"use strict";var t=e.i(549539),r=e.i(374048);e.s(["HelpCenterFaqEntryUrl",0,e=>{let{type:n,render:i,accessChannel:a}=e,o=`/help/${n}`,s=a?(0,r.urlWithParams)(o,{access_channel:a}):o;return(0,t.jsx)(t.Fragment,{children:i(s,n)})}],490812)},417618,e=>{"use strict";var t=e.i(163058),r=e.i(756141),n=e.i(901375),i=e.i(549539),a={"unit-base":"4",note:"web_ui__Note__note",default:"web_ui__Note__default",narrow:"web_ui__Note__narrow",wide:"web_ui__Note__wide",inverse:"web_ui__Note__inverse",left:"web_ui__Note__left",center:"web_ui__Note__center",right:"web_ui__Note__right"},o=r.c.bind(a),s=(0,t.default)(function(e){var t=e.text,r=e.styling,s=e.alignment,l=e.inverse,c=e.html,u=e.testId,d=o(a.note,void 0===r?"default":r,void 0===s?"left":s,{inverse:l}),f=(0,i.jsx)("div",{className:d,"data-testid":u,children:t});return c?(0,n.interpolateWithHtml)(f):f},{Styling:{Default:"default",Narrow:"narrow",Wide:"wide"},Alignment:{Left:"left",Center:"center",Right:"right"}});e.s(["Note",()=>s])},780178,e=>{"use strict";var t=e.i(549539);let r=(0,e.i(197262).createContext)(null);e.s(["FeatureFlagsClientProvider",0,e=>{let{children:n,flags:i}=e;return(0,t.jsx)(r.Provider,{value:i,children:n})},"FeatureFlagsContext",0,r])},38618,e=>{"use strict";var t=e.i(197262),r=e.i(780178);e.s(["useFeatureFlags",0,()=>{let e=(0,t.useContext)(r.FeatureFlagsContext);if(!e)throw Error("useFeatureFlags must be used within FeatureFlagsProvider");return e}])},272946,219777,e=>{"use strict";var t=e.i(824627),r=e.i(280037),n=e.i(197262),i=e.i(8126),a=e.i(176237),o=["formatMatcher","timeZone","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName","hourCycle","dateStyle","timeStyle","calendar","numberingSystem","fractionalSecondDigits"];function s(e,n,i,a){var s=e.locale,l=e.formats,c=e.onError,u=e.timeZone;void 0===a&&(a={});var d=a.format,f=(0,t.__assign)((0,t.__assign)({},u&&{timeZone:u}),d&&(0,r.getNamedFormat)(l,n,d,c)),m=(0,r.filterProps)(a,o,f);return"time"!==n||m.hour||m.minute||m.second||m.timeStyle||m.dateStyle||(m=(0,t.__assign)((0,t.__assign)({},m),{hour:"numeric",minute:"numeric"})),i(s,m)}function l(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=r[0],o=r[1],l="string"==typeof i?new Date(i||0):i;try{return s(e,"date",t,void 0===o?{}:o).format(l)}catch(t){e.onError(new a.IntlFormatError("Error formatting date.",e.locale,t))}return String(l)}function c(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=r[0],o=r[1],l="string"==typeof i?new Date(i||0):i;try{return s(e,"time",t,void 0===o?{}:o).format(l)}catch(t){e.onError(new a.IntlFormatError("Error formatting time.",e.locale,t))}return String(l)}function u(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=r[0],o=r[1],l=r[2],c="string"==typeof i?new Date(i||0):i,u="string"==typeof o?new Date(o||0):o;try{return s(e,"dateTimeRange",t,void 0===l?{}:l).formatRange(c,u)}catch(t){e.onError(new a.IntlFormatError("Error formatting date time range.",e.locale,t))}return String(c)}function d(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=r[0],o=r[1],l="string"==typeof i?new Date(i||0):i;try{return s(e,"date",t,void 0===o?{}:o).formatToParts(l)}catch(t){e.onError(new a.IntlFormatError("Error formatting date.",e.locale,t))}return[]}function f(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=r[0],o=r[1],l="string"==typeof i?new Date(i||0):i;try{return s(e,"time",t,void 0===o?{}:o).formatToParts(l)}catch(t){e.onError(new a.IntlFormatError("Error formatting time.",e.locale,t))}return[]}var m=e.i(113556),g=["style","type","fallback","languageDisplay"];function _(e,t,n,i){var o=e.locale,s=e.onError;Intl.DisplayNames||s(new m.FormatError('Intl.DisplayNames is not available in this environment.\nTry polyfilling it using "@formatjs/intl-displaynames"\n',m.ErrorCode.MISSING_INTL_API));var l=(0,r.filterProps)(i,g);try{return t(o,l).of(n)}catch(e){s(new a.IntlFormatError("Error formatting display name.",o,e))}}var p=["type","style"],h=Date.now();function v(e,t,r,n){void 0===n&&(n={});var i=y(e,t,r,n).reduce(function(e,t){var r=t.value;return"string"!=typeof r?e.push(r):"string"==typeof e[e.length-1]?e[e.length-1]+=r:e.push(r),e},[]);return 1===i.length?i[0]:0===i.length?"":i}function y(e,n,i,o){var s=e.locale,l=e.onError;void 0===o&&(o={}),Intl.ListFormat||l(new m.FormatError('Intl.ListFormat is not available in this environment.\nTry polyfilling it using "@formatjs/intl-listformat"\n',m.ErrorCode.MISSING_INTL_API));var c=(0,r.filterProps)(o,p);try{var u={},d=i.map(function(e,t){if("object"==typeof e){var r="".concat(h,"_").concat(t,"_").concat(h);return u[r]=e,r}return String(e)});return n(s,c).formatToParts(d).map(function(e){return"literal"===e.type?e:(0,t.__assign)((0,t.__assign)({},e),{value:u[e.value]||e.value})})}catch(e){l(new a.IntlFormatError("Error formatting list.",s,e))}return i}e.i(890690);var b=e.i(48389),E=e.i(814726);function w(e,r){return Object.keys(e).reduce(function(n,i){return n[i]=(0,t.__assign)({timeZone:r},e[i]),n},{})}function x(e,r){return Object.keys((0,t.__assign)((0,t.__assign)({},e),r)).reduce(function(n,i){return n[i]=(0,t.__assign)((0,t.__assign)({},e[i]||{}),r[i]||{}),n},{})}function T(e,r){if(!r)return e;var n=E.IntlMessageFormat.formats;return(0,t.__assign)((0,t.__assign)((0,t.__assign)({},n),e),{date:x(w(n.date,r),w(e.date||{},r)),time:x(w(n.time,r),w(e.time||{},r))})}var C=function(e,n,i,o,s){var l=e.locale,c=e.formats,u=e.messages,d=e.defaultLocale,f=e.defaultFormats,m=e.fallbackOnEmptyString,g=e.onError,_=e.timeZone,p=e.defaultRichTextElements;void 0===i&&(i={id:""});var h=i.id,v=i.defaultMessage;(0,r.invariant)(!!h,"[@formatjs/intl] An `id` must be provided to format a message. You can either:\n1. Configure your build toolchain with [babel-plugin-formatjs](https://formatjs.github.io/docs/tooling/babel-plugin)\nor [@formatjs/ts-transformer](https://formatjs.github.io/docs/tooling/ts-transformer) OR\n2. Configure your `eslint` config to include [eslint-plugin-formatjs](https://formatjs.github.io/docs/tooling/linter#enforce-id)\nto autofix this issue");var y=String(h),E=u&&Object.prototype.hasOwnProperty.call(u,y)&&u[y];if(Array.isArray(E)&&1===E.length&&E[0].type===b.TYPE.literal)return E[0].value;if(!o&&E&&"string"==typeof E&&!p)return E.replace(/'\{(.*?)\}'/gi,"{$1}");if(o=(0,t.__assign)((0,t.__assign)({},p),o||{}),c=T(c,_),f=T(f,_),!E){if(!1===m&&""===E)return E;if((!v||l&&l.toLowerCase()!==d.toLowerCase())&&g(new a.MissingTranslationError(i,l)),v)try{var w=n.getMessageFormat(v,d,f,s);return w.format(o)}catch(e){return g(new a.MessageFormatError('Error formatting default message for: "'.concat(y,'", rendering default message verbatim'),l,i,e)),"string"==typeof v?v:y}return y}try{var w=n.getMessageFormat(E,l,c,(0,t.__assign)({formatters:n},s||{}));return w.format(o)}catch(e){g(new a.MessageFormatError('Error formatting message: "'.concat(y,'", using ').concat(v?"default message":"id"," as fallback."),l,i,e))}if(v)try{var w=n.getMessageFormat(v,d,f,s);return w.format(o)}catch(e){g(new a.MessageFormatError('Error formatting the default message for: "'.concat(y,'", rendering message verbatim'),l,i,e))}return"string"==typeof E?E:"string"==typeof v?v:y},S=["style","currency","unit","unitDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","currencyDisplay","currencySign","notation","signDisplay","unit","unitDisplay","numberingSystem","trailingZeroDisplay","roundingPriority","roundingIncrement","roundingMode"];function k(e,t,n){var i=e.locale,a=e.formats,o=e.onError;void 0===n&&(n={});var s=n.format,l=s&&(0,r.getNamedFormat)(a,"number",s,o)||{};return t(i,(0,r.filterProps)(n,S,l))}function I(e,t,r,n){void 0===n&&(n={});try{return k(e,t,n).format(r)}catch(t){e.onError(new a.IntlFormatError("Error formatting number.",e.locale,t))}return String(r)}function F(e,t,r,n){void 0===n&&(n={});try{return k(e,t,n).formatToParts(r)}catch(t){e.onError(new a.IntlFormatError("Error formatting number.",e.locale,t))}return[]}var j=["type"];function P(e,t,n,i){var o=e.locale,s=e.onError;void 0===i&&(i={}),Intl.PluralRules||s(new m.FormatError('Intl.PluralRules is not available in this environment.\nTry polyfilling it using "@formatjs/intl-pluralrules"\n',m.ErrorCode.MISSING_INTL_API));var l=(0,r.filterProps)(i,j);try{return t(o,l).select(n)}catch(e){s(new a.IntlFormatError("Error formatting plural.",o,e))}return"other"}var A=["numeric","style"];function D(e,t,n,i,o){void 0===o&&(o={}),i||(i="second"),Intl.RelativeTimeFormat||e.onError(new m.FormatError('Intl.RelativeTimeFormat is not available in this environment.\nTry polyfilling it using "@formatjs/intl-relativetimeformat"\n',m.ErrorCode.MISSING_INTL_API));try{var s,l,c,u,d,f;return(s=o,l=e.locale,c=e.formats,u=e.onError,void 0===s&&(s={}),f=!!(d=s.format)&&(0,r.getNamedFormat)(c,"relative",d,u)||{},t(l,(0,r.filterProps)(s,A,f))).format(n,i)}catch(t){e.onError(new a.IntlFormatError("Error formatting relative time.",e.locale,t))}return String(n)}var N=e.i(598013);function R(e){return e?Object.keys(e).reduce(function(t,r){var n=e[r];return t[r]=(0,N.isFormatXMLElementFn)(n)?(0,i.assignUniqueKeysToParts)(n):n,t},{}):e}var L=function(e,r,i,a){for(var o=[],s=4;s<arguments.length;s++)o[s-4]=arguments[s];var l=R(a),c=C.apply(void 0,(0,t.__spreadArray)([e,r,i,l],o,!1));return Array.isArray(c)?n.Children.toArray(c):c},O=function(e,n){var o,s,m,g,p,h,b,E=e.defaultRichTextElements,w=(0,t.__rest)(e,["defaultRichTextElements"]),x=R(E),T=(o=(0,t.__assign)((0,t.__assign)((0,t.__assign)({},i.DEFAULT_INTL_CONFIG),w),{defaultRichTextElements:x}),s=(0,r.createFormatters)(n),g=(m=(0,t.__assign)((0,t.__assign)({},r.DEFAULT_INTL_CONFIG),o)).locale,p=m.defaultLocale,h=m.onError,g?!Intl.NumberFormat.supportedLocalesOf(g).length&&h?h(new a.MissingDataError('Missing locale data for locale: "'.concat(g,'" in Intl.NumberFormat. Using default locale: "').concat(p,'" as fallback. See https://formatjs.github.io/docs/react-intl#runtime-requirements for more details'))):!Intl.DateTimeFormat.supportedLocalesOf(g).length&&h&&h(new a.MissingDataError('Missing locale data for locale: "'.concat(g,'" in Intl.DateTimeFormat. Using default locale: "').concat(p,'" as fallback. See https://formatjs.github.io/docs/react-intl#runtime-requirements for more details'))):(h&&h(new a.InvalidConfigError('"locale" was not configured, using "'.concat(p,'" as fallback. See https://formatjs.github.io/docs/react-intl/api#intlshape for more details'))),m.locale=m.defaultLocale||"en"),m.onWarn&&m.defaultRichTextElements&&"string"==typeof(b=m.messages||{})[Object.keys(b)[0]]&&m.onWarn('[@formatjs/intl] "defaultRichTextElements" was specified but "message" was not pre-compiled. \nPlease consider using "@formatjs/cli" to pre-compile your messages for performance.\nFor more details see https://formatjs.github.io/docs/getting-started/message-distribution'),(0,t.__assign)((0,t.__assign)({},m),{formatters:s,formatNumber:I.bind(null,m,s.getNumberFormat),formatNumberToParts:F.bind(null,m,s.getNumberFormat),formatRelativeTime:D.bind(null,m,s.getRelativeTimeFormat),formatDate:l.bind(null,m,s.getDateTimeFormat),formatDateToParts:d.bind(null,m,s.getDateTimeFormat),formatTime:c.bind(null,m,s.getDateTimeFormat),formatDateTimeRange:u.bind(null,m,s.getDateTimeFormat),formatTimeToParts:f.bind(null,m,s.getDateTimeFormat),formatPlural:P.bind(null,m,s.getPluralRules),formatMessage:C.bind(null,m,s),$t:C.bind(null,m,s),formatList:v.bind(null,m,s.getListFormat),formatListToParts:y.bind(null,m,s.getListFormat),formatDisplayName:_.bind(null,m,s.getDisplayNames)})),S={locale:T.locale,timeZone:T.timeZone,fallbackOnEmptyString:T.fallbackOnEmptyString,formats:T.formats,defaultLocale:T.defaultLocale,defaultFormats:T.defaultFormats,messages:T.messages,onError:T.onError,defaultRichTextElements:x};return(0,t.__assign)((0,t.__assign)({},T),{formatMessage:L.bind(null,S,T.formatters),$t:L.bind(null,S,T.formatters)})};e.s(["createIntl",()=>O],219777);var z=e.i(674384);function V(e){return{locale:e.locale,timeZone:e.timeZone,fallbackOnEmptyString:e.fallbackOnEmptyString,formats:e.formats,textComponent:e.textComponent,messages:e.messages,defaultLocale:e.defaultLocale,defaultFormats:e.defaultFormats,onError:e.onError,onWarn:e.onWarn,wrapRichTextChunksInFragment:e.wrapRichTextChunksInFragment,defaultRichTextElements:e.defaultRichTextElements}}var B=function(e){function a(){var t=null!==e&&e.apply(this,arguments)||this;return t.cache=(0,r.createIntlCache)(),t.state={cache:t.cache,intl:O(V(t.props),t.cache),prevConfig:V(t.props)},t}return(0,t.__extends)(a,e),a.getDerivedStateFromProps=function(e,t){var r=t.prevConfig,n=t.cache,a=V(e);return(0,i.shallowEqual)(r,a)?null:{intl:O(a,n),prevConfig:a}},a.prototype.render=function(){return(0,i.invariantIntlContext)(this.state.intl),n.createElement(z.Provider,{value:this.state.intl},this.props.children)},a.displayName="IntlProvider",a.defaultProps=i.DEFAULT_INTL_CONFIG,a}(n.PureComponent);e.s(["default",0,B],272946)},309036,e=>{"use strict";var t=e.i(272946);e.s(["IntlProvider",()=>t.default])}]);